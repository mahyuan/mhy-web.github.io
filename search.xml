<?xml version="1.0" encoding="utf-8"?><search><entry><title>cssTextæ‰¹é‡ä¿®æ”¹domçš„æ ·å¼</title><link href="/cssText-operate-style.html"/><url>/cssText-operate-style.html</url><content type="html"><![CDATA[<p>ä¹‹å‰ç”¨jsä¿®æ”¹domçš„æ ·å¼ä¸€èˆ¬éƒ½æ˜¯é‡‡ç”¨ä»¥ä¸‹çš„æ–¹å¼ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="keyword">this</span>.$refs.target;</span><br><span class="line">element.style.width = <span class="string">'200px'</span>;</span><br><span class="line">element.style.height = <span class="string">'100px'</span>;</span><br><span class="line">element.style.color = <span class="string">'red'</span>;</span><br></pre></td></tr></table></figure></p><p>æ ·å¼ä¸å¤šçš„è¯ï¼Œæ€§èƒ½è¿˜å¯ä»¥ï¼Œä½†æ˜¯å¦‚æœæ ·å¼ç‰¹åˆ«å¤šï¼Œæˆ–è€…æ¶‰åŠåˆ°åŠ¨ç”»çš„æ—¶å€™ï¼Œæ€§èƒ½ä¼šä¸å¤ªç†æƒ³ã€‚å‰è€…æ¯ä¸€æ¬¡è®¾ç½®éƒ½ä¼šreflowä¸€æ¬¡ï¼Œåè€…ä¹‹åreflowä¸€æ¬¡ã€‚<br>æ—©ä¸Šé˜…è¯»æŸå¼€æºæ¡†æ¶çš„æºç æ—¶å‘ç°äº†ä¸€ç§ç”¨jsè¦†å†™cssçš„æ–¹å¼ï¼ŒæŸ¥é˜…ä¹‹åå‘ç°å…¼å®¹æ€§å’Œæ€§èƒ½éƒ½è¶…çº§æ£’ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ä»¥åŠ æ·±è®°å¿†ã€‚</p><h2 id="åŠŸèƒ½å’Œè¯­æ³•"><a href="#åŠŸèƒ½å’Œè¯­æ³•" class="headerlink" title="åŠŸèƒ½å’Œè¯­æ³•"></a>åŠŸèƒ½å’Œè¯­æ³•</h2><p>MDNä»‹ç»:</p><blockquote><p>The cssText property of the CSSStyleDeclaration interface returns or sets the text of the elementâ€™s inline style declaration only. To be able to set a stylesheet rule dynamically, see Using dynamic styling information.</p></blockquote><p>è¯­æ³•ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="keyword">this</span>.$refs.target;</span><br><span class="line"><span class="comment">// è·å–å†…è”æ ·å¼,å¥½åƒåªèƒ½è·å–åˆ°å†…è”æ ·å¼ï¼Œå†™åœ¨styleæ ‡ç­¾å’Œcssæ–‡ä»¶ä¸­çš„æ ·å¼éœ€è¦ä½¿ç”¨ window.getComputedStyle è·å–</span></span><br><span class="line">alert(element.style.cssText)</span><br><span class="line"><span class="comment">// è¦†å†™æ ·å¼</span></span><br><span class="line">element.style.cssText = <span class="string">'width:200px;height:100px;color:red;'</span>;</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨<code>cssText</code>ä¼šè¦†ç›–ä¹‹å‰çš„æ‰€æœ‰æ ·å¼ï¼Œæ‰€ä»¥å¦‚æœè¦ä¿ç•™ä¹‹å‰çš„æ ·å¼ï¼Œåˆ™éœ€è¦å…ˆè·å–åˆ°å·²æœ‰æ ·å¼ï¼Œç„¶åè¿½åŠ æ–°æ ·å¼ã€‚</p><h3 id="å…¼å®¹æ€§"><a href="#å…¼å®¹æ€§" class="headerlink" title="å…¼å®¹æ€§"></a>å…¼å®¹æ€§</h3><p>å„æµè§ˆå™¨ç›®å‰éƒ½å…¼å®¹ï¼ˆåŒ…æ‹¬IE6,7,8ï¼‰<code>cssText</code>çš„æ–¹å¼è®¾ç½®æ ·å¼ï¼Œä½†æ˜¯åœ¨IEä¸‹ï¼Œç´¯åŠ çš„æ—¶å€™å›ä¸¢å¤±ä¹‹å‰çš„æ ·å¼ä¸­æœ€åä¸€ä¸ª<code>;</code>ï¼Œ æ‰€æœ‰éœ€è¦åšä¸€ä¸‹å…¼å®¹ï¼Œå¯ä»¥é‡‡ç”¨æ­£åˆ™çš„æ–¹å¼å¯¹è·å–åˆ°çš„å·²æœ‰æ ·å¼è¿›è¡ŒåŒ¹é…ã€‚<br>è·å–å·²æœ‰å±æ€§å¯ä»¥ç”¨<code>window.getComputedStyle</code>ï¼ŒIEæµè§ˆå™¨ç”¨<code>document.currentStyle</code>ï¼Œæ­¤APIä»…ç”¨æ¥è¦†å†™æ ·å¼å³å¯ã€‚</p><h3 id="ä½¿ç”¨ç¤ºä¾‹"><a href="#ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–åŸæœ‰æ ·å¼, IE ç”¨ domå…ƒç´ .currentStyle ç«ç‹è°·æ­Œç”¨window.getComputedStyle(dom, null)</span></span><br><span class="line"><span class="keyword">const</span> getStyle = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">window</span>.document.currentStyle) &#123;</span><br><span class="line"><span class="keyword">return</span><span class="function">(<span class="params">dom, attr</span>) =&gt;</span> dom.currentStyle[attr];</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span><span class="function">(<span class="params">dom, attr</span>) =&gt;</span> getComputedStyle(dom, <span class="literal">false</span>)[attr];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> element = <span class="built_in">document</span>.querySelecter(<span class="string">'#target'</span>);</span><br><span class="line"><span class="keyword">let</span> widthExists = getStyle(element, <span class="string">'width'</span>);</span><br><span class="line"><span class="comment">// å»é™¤px</span></span><br><span class="line"><span class="keyword">let</span> width = <span class="built_in">Number</span>(widthExists.replace(<span class="regexp">/\%/g</span>, <span class="string">''</span>));</span><br><span class="line">element.style.cssText += <span class="string">`;width: <span class="subst">$&#123;widthExists + <span class="number">200</span>&#125;</span>px;`</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”¨åˆ°äº†<code>getComputedStyleå’ŒcurrentStyle</code>ï¼Œå…¶ä¸­<code>currentStyle</code>æ˜¯IEæµè§ˆå™¨çš„APIï¼Œ<code>getComputedStyle</code>æ˜¯googleç­‰ä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒçš„è·å–å·²æœ‰æ ·å¼çš„æ¥å£ã€‚<br>è¯¥æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦è·å–æ ·å¼çš„domèŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸€èˆ¬å¯è®¾ç½®ä¸º <code>null</code>æˆ–<code>fasle</code>ï¼Œä»…åœ¨è·å–ä¼ªç±»å…ƒç´ æ—¶ä¼ å…¥ä¼ªç±»çš„å€¼ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªåªè¯»çš„å¯¹è±¡ï¼Œé‡Œé¢åŒ…å«äº†è¯¥domå…ƒç´ çš„æ ·å¼ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-tag">h3</span><span class="selector-pseudo">::after</span> &#123;</span></span><br><span class="line">        content: "rocks!";</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>generated content<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> h3 = <span class="built_in">document</span>.querySelector(<span class="string">'h3'</span>),</span></span><br><span class="line"><span class="actionscript">    result = getComputedStyle(h3, <span class="string">'::after'</span>).content;</span></span><br><span class="line"><span class="javascript">    alert(<span class="string">`the generated content is: <span class="subst">$&#123;result&#125;</span>`</span>);</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">`the generated content is: <span class="subst">$&#123;result&#125;</span>`</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">// the generated content is: "rocks!"</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> css </tag><tag> javascript </tag></tags></entry><entry><title>vpsæ­å»ºæŒ‡å—</title><link href="/vps-deploy-guide.html"/><url>/vps-deploy-guide.html</url><content type="html"><![CDATA[<p>ä¸Šå‘¨å‘ç°æˆ‘çš„vpsåˆè¢«ç¦äº†ï¼Œåˆå¾—é‡æ–°éƒ¨ç½²ã€‚<br>æ¯æ¬¡éƒ¨ç½²vpséƒ½è¦googleæœç´¢ç›¸å…³å‘½ä»¤ï¼Œç‰¹åˆ«éº»çƒ¦ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹æ­å»ºvpsçš„ç®€å•æ­¥éª¤å§ã€‚</p><a id="more"></a><p>å®‰è£…shadowsockså‘½ä»¤<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.sh</span><br><span class="line"></span><br><span class="line">chmod +x shadowsocks-all.sh</span><br><span class="line"></span><br><span class="line">./shadowsocks-all.sh 2&gt;&amp;1 | tee shadowsocks-all.log</span><br></pre></td></tr></table></figure></p><p>å®‰è£…è¿‡ç¨‹ä¸­æ ¹æ®å‘½ä»¤è¡Œäº¤äº’é€‰æ‹©æœåŠ¡å™¨ç±»å‹ï¼ˆå¦‚Shadowsocks-libevï¼‰ã€ç«¯å£ã€å¯†ç ã€åŠ å¯†æ–¹æ³•ç­‰ã€‚<br>å¦‚Shadowsocks-libevç±»å‹çš„æœåŠ¡çš„é…ç½®æ–‡ä»¶åœ¨ <code>/etc/shadowsocks-libev/config.json</code>ï¼Œå¯ä»¥ç¼–è¾‘é…ç½®ã€‚</p><p>æŸ¥çœ‹çŠ¶æ€<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/i</span>nit.d<span class="regexp">/shadowsocks-libev status</span></span><br></pre></td></tr></table></figure></p><p>é‡å¯æœåŠ¡<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/i</span>nit.d<span class="regexp">/shadowsocks-libev restart</span></span><br></pre></td></tr></table></figure></p><p>å…³é—­æœåŠ¡<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/shadowsocks-libev <span class="built_in">stop</span></span><br></pre></td></tr></table></figure></p><p>å¼€å¯æœåŠ¡<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/i</span>nit.d<span class="regexp">/shadowsocks-libev start</span></span><br></pre></td></tr></table></figure></p><p>å‚è€ƒ:<br><a href="https://zoomyale.com/2016/vultr_and_ss/" target="_blank" rel="noopener">ç§‘å­¦ä¸Šç½‘çš„ç»ˆæå§¿åŠ¿ï¼šåœ¨ Vultr VPS ä¸Šæ­å»º Shadowsocks</a><br><a href="https://www.vps234.com/hostwinds-purchase-tutorial/" target="_blank" rel="noopener">ç¾å›½ VPS Hostwinds è´­ä¹°æµç¨‹æ–°æ‰‹æ•™ç¨‹</a><br><a href="https://teddysun.com/489.html" target="_blank" rel="noopener">ä¸€é”®å®‰è£…æœ€æ–°å†…æ ¸å¹¶å¼€å¯ BBR è„šæœ¬</a><br><a href="https://teddysun.com/276.html" target="_blank" rel="noopener">æ–°è´­VPSåçš„è®¾ç½®åŠç½‘ç«™è¿ç§»æ­¥éª¤</a><br><a href="https://www.10besty.com/best-vps-hosting-services/" target="_blank" rel="noopener">2019å¹´æœ€å¥½çš„å›½å¤–VPSæ¨è</a></p>]]></content><categories><category> vps </category></categories><tags><tag> vps </tag></tags></entry><entry><title>vue+elementåå°ç®¡ç†æœç´¢è¡¨å•ç¼“å­˜</title><link href="/vue-element-admin-search-query-cache.html"/><url>/vue-element-admin-search-query-cache.html</url><content type="html"><![CDATA[<p>åœ¨åå°ç®¡ç†ç³»ç»Ÿä¸­ç»å¸¸ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œä»åˆ—è¡¨é¡µè·³è½¬åˆ°è¯¦æƒ…é¡µå†è¿”å›åˆ—è¡¨åå¸Œæœ›ä¿æŒä¹‹å‰çš„æŸ¥è¯¢æ¡ä»¶ï¼Œæ­¤ç±»éœ€æ±‚ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§å¤„ç†æ–¹å¼å¯ä»¥å‚è€ƒã€‚</p><a id="more"></a><h2 id="æ–°é¡µé¢æ‰“å¼€è¯¦æƒ…é¡µ"><a href="#æ–°é¡µé¢æ‰“å¼€è¯¦æƒ…é¡µ" class="headerlink" title="æ–°é¡µé¢æ‰“å¼€è¯¦æƒ…é¡µ"></a>æ–°é¡µé¢æ‰“å¼€è¯¦æƒ…é¡µ</h2><p>å·æ‡’çš„åšæ³•æ˜¯æ‰“å¼€è¯¦æƒ…é¡µæ—¶åœ¨æ–°çª—å£æ‰“å¼€ï¼Œè¿™æ ·å°±å¯ä»¥ä¿æŒåˆ—è¡¨é¡µçš„æœç´¢å‚æ•°äº†ï¼Œä½†æ˜¯è¿™æ ·å¾€å¾€ä¼šæ‰“å¼€å¾ˆå¤šçš„æ–°é¡µé¢ï¼Œç”¨æˆ·éœ€è¦åœ¨å¤šä¸ªé¡µé¢ç›´æ¥æ¥å›åˆ‡æ¢æ“ä½œç¹çï¼Œè€Œä¸”æœ‰ä¸ªå…³é”®çš„é—®é¢˜æ˜¯åˆ‡æ¢åˆ°åˆ—è¡¨é¡µæ ‡ç­¾åæ•°æ®å¹¶ä¸æ˜¯æœ€æ–°çš„ï¼Œå› ä¸ºåˆšæ‰åœ¨è¯¦æƒ…é¡µå·²ç»ç¼–è¾‘è¿‡æ•°æ®äº†ã€‚æˆ‘è´Ÿè´£å¼€å‘ç»´æŠ¤çš„åå°ç®¡ç†ç³»ç»Ÿåœ¨æ–°å»ºå’Œç¼–è¾‘æ—¶æ˜¯åœ¨ä¸åŒçš„è·¯ç”±ä¸‹è°ƒç”¨åŒä¸€ä¸ªè¯¦æƒ…é¡µç»„ä»¶æ¥å®ç°çš„ï¼Œæ‰€ä»¥åœ¨ç¼–è¾‘å’Œæ–°å»ºè¯·æ±‚å®Œæˆä¹‹åè¯¦æƒ…é¡µæ˜¯å¦ç›´æ¥å…³é—­è¿˜æ˜¯è®©ç”¨æˆ·æ‰‹åŠ¨å…³é—­æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œæ–°å»ºé¡µå¦‚æœç•™ç»™ç”¨æˆ·å¤„ç†ä¼šè¿ç»­åˆ›å»ºå¤šæ¡ç›¸åŒæ•°æ®çš„æƒ…å†µå‘ç”Ÿã€‚è€Œä¸”è¿ç»­æ‰“å¼€å¤šä¸ªé¡µé¢æ ‡ç­¾é¡µè¿èƒŒäº†å•é¡µé¢åº”ç”¨çš„åˆè¡·ï¼Œ åŸºäºè¿™äº›é—®é¢˜ï¼Œæˆ‘æ”¾å¼ƒäº†è¿™ç§æ–¹å¼ã€‚<br>åŸºäºvueæŠ€æœ¯æ ˆï¼Œåœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€è¯¦æƒ…é¡µä¸»è¦æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼Œä¸€ç§æ˜¯ <code>router-link</code>æ ‡ç­¾åŠ <code>target=&quot;_blank&quot;</code>å±æ€§ï¼Œå…¶åŸç†æ˜¯<code>a</code>æ ‡ç­¾çš„<code>target</code>å±æ€§ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span><span class="attr">:to</span>=<span class="string">"&#123;name: 'detail'&#125;"</span><span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>å¦ä¸€ç§æ–¹å¼æ˜¯jsæ§åˆ¶ï¼Œå…¶ç»‘å®šçš„DOMå…ƒç´ æ¸²æŸ“ä¹‹åä¸å†æ˜¯<code>a</code>æ ‡ç­¾ï¼Œè€Œæ˜¯ä¸€ä¸ª<code>button</code>ï¼Œé¡µé¢è·³è½¬ä¸»è¦æ˜¯åŸºäº<code>window</code>å¯¹è±¡çš„åŠŸèƒ½å®ç°çš„ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">"handleToDetail(params)"</span>&gt;</span>detail<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span><span class="keyword">default</span>&#123;</span></span><br><span class="line">  methods: &#123;</span><br><span class="line"><span class="actionscript"><span class="comment">// å‚æ•°å¯ä»¥è‡ªå®šä¹‰,ä¸€èˆ¬åŒ…å«ä¸»é”®idç­‰æ€§è´¨çš„å‚æ•°</span></span></span><br><span class="line">    handleToDetail(params) &#123;</span><br><span class="line"><span class="actionscript"><span class="keyword">const</span> routerData = <span class="keyword">this</span>.$router.resolve(&#123;name: <span class="string">'detail'</span>, query: &#123;params: params&#125;&#125;)</span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.open(routerData.href, <span class="string">"_blank"</span>)</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>å…¶ä¸­çš„<code>vue-router</code>ç‰¹æ€§ä¸å¤šè¯´ï¼Œå…·ä½“å¯ä»¥æŸ¥é˜…<a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><h2 id="queryæºå¸¦æŸ¥è¯¢å‚æ•°"><a href="#queryæºå¸¦æŸ¥è¯¢å‚æ•°" class="headerlink" title="queryæºå¸¦æŸ¥è¯¢å‚æ•°"></a>queryæºå¸¦æŸ¥è¯¢å‚æ•°</h2><p>å¦ä¸€ç§å®ç°æ–¹å¼æ˜¯åœ¨è·¯ç”±è·³è½¬æ—¶åœ¨è·¯ç”±çš„<code>query</code>ä¸­æŠŠå‚æ•°æºå¸¦è¿‡å»ï¼Œè¿”å›æ—¶å†å¸¦å›æ¥ï¼Œåˆ—è¡¨é¡µåœ¨<code>mounted</code>ç”Ÿå‘½å‘¨æœŸå†…å¯¹<code>query</code>è¿›è¡Œå¤„ç†ï¼Œå¦‚æœ<code>query</code>ä¸­æºå¸¦äº†æŸ¥è¯¢å‚æ•°åˆ™ä½¿ç”¨è¯¥æŸ¥è¯¢å‚å¯¹æ•°æ®è¿›è¡Œèµ‹å€¼ç„¶åæŸ¥è¯¢å³å¯ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form</span><span class="attr">:model</span>=<span class="string">"params"</span><span class="attr">inline</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-from-item</span><span class="attr">prop</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span><span class="attr">v-model</span>=<span class="string">"params.title"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-from-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-from-item</span><span class="attr">prop</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span><span class="attr">v-model</span>=<span class="string">"params.title"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-from-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-from-item</span><span class="attr">prop</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span><span class="attr">v-model</span>=<span class="string">"params.title"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-from-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">"handleToDetail"</span>&gt;</span>detail<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span><span class="keyword">default</span> &#123;</span></span><br><span class="line">  data() &#123;</span><br><span class="line"><span class="actionscript"><span class="keyword">return</span> &#123;</span></span><br><span class="line">      params: &#123;</span><br><span class="line"><span class="actionscript">        id: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">        title: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">        desc: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">        imgUrl: <span class="string">''</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.getSearchQueryIfExists()</span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.handleSearch()</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line"><span class="actionscript"><span class="comment">// è·¯ç”±è·³è½¬æ—¶æŠŠæœç´¢è¡¨å•å‚æ•°è½¬æ¢æˆå­—ç¬¦ä¸²èµ‹å€¼ç»™searchQuyeryæºå¸¦è¿‡å» ï¼Œè·³è½¬å›æ¥æ—¶ç›´æ¥å¸¦å›æ¥</span></span></span><br><span class="line">    handleToDetail() &#123;</span><br><span class="line"><span class="javascript"><span class="keyword">const</span> params = <span class="built_in">JSON</span>.stringify(<span class="keyword">this</span>.params)</span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.$router.push(&#123;name: <span class="string">'detail'</span>, query: &#123; id: <span class="keyword">this</span>.params.id, searchQuyery: params &#125;&#125;)</span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="actionscript"><span class="comment">// è¿›å…¥åˆ—è¡¨æ—¶ï¼Œå¦‚æœqueryä¸­å«æœ‰searchQuyeryå­—æ®µï¼Œåˆ™è½¬æ¢æˆå¯¹è±¡èµ‹å€¼ç»™æŸ¥è¯¢å¯¹è±¡å‚æ•°å³å¯</span></span></span><br><span class="line">    getSearchQueryIfExists() &#123;</span><br><span class="line"><span class="actionscript"><span class="keyword">const</span> &#123; query = &#123;&#125; &#125; = <span class="keyword">this</span>.$router.query</span></span><br><span class="line"><span class="actionscript"><span class="keyword">if</span>(query.hasOwnProperty(<span class="string">'searchQuyery'</span>)) &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> stashQuery = <span class="built_in">JSON</span>.parse(query.searchQuyery)</span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.params = stashQuery</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"><span class="actionscript"><span class="comment">// å‘é€æŸ¥è¯¢httpè¯·æ±‚</span></span></span><br><span class="line">  handleSearch() &#123;</span><br><span class="line"><span class="actionscript"><span class="comment">// ã€‚ã€‚ã€‚ã€‚</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>è¿™ç§å®ç°æ–¹å¼å¯ä»¥åŸºæœ¬æ»¡è¶³è¦æ±‚ï¼Œåœ¨é¡µé¢è¾ƒå°‘æˆ–è€…é¡¹ç›®ä¸­æ²¡æœ‰å¼•å…¥vuexæ—¶å¯ä»¥ä½¿ç”¨ã€‚ç¼ºç‚¹æ˜¯éœ€è¦ç¼“å­˜çš„é¡µé¢è¾ƒå¤šæ—¶ï¼Œéœ€è¦é‡å¤è¿›è¡Œå¤„ç†ï¼Œæ¯”è¾ƒç¹çã€‚</p><h2 id="ä½¿ç”¨vuexç¼“å­˜æŸ¥è¯¢å‚æ•°"><a href="#ä½¿ç”¨vuexç¼“å­˜æŸ¥è¯¢å‚æ•°" class="headerlink" title="ä½¿ç”¨vuexç¼“å­˜æŸ¥è¯¢å‚æ•°"></a>ä½¿ç”¨vuexç¼“å­˜æŸ¥è¯¢å‚æ•°</h2><p>å¦‚æœéœ€è¦ç¼“å­˜çš„é¡µé¢è¾ƒå¤šï¼Œä¸”ç³»ç»Ÿä¸­å·²ç»å¼•å…¥äº†<code>vuex</code>ï¼Œåˆ™å¯ä»¥ä½¿ç”¨<code>vuex</code>ç¼“å­˜çš„æ–¹å¼æ¥å®ç°æŸ¥è¯¢å‚æ•°ç¼“å­˜ã€‚<br>é¦–å…ˆéœ€è¦æŠŠæŸ¥è¯¢å‚æ•°å†™å…¥<code>vuex</code>ä¸­, åœ¨<code>store</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç”¨äºç¼“å­˜è·¯ç”±æŸ¥è¯¢å‚æ•°çš„æ–‡ä»¶ï¼Œä¾‹å¦‚<code>routerCache.js</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// routerCache.js</span></span><br><span class="line"><span class="keyword">const</span> routeCache = &#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    cachedRoutes: &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    SET_CACHED_ROUTES: <span class="function">(<span class="params">state, route</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">const</span> &#123; name, query &#125; = route</span><br><span class="line">      state.cachedRoutes[name] = query</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    setCachedRoutes(&#123; commit &#125;, route) &#123;</span><br><span class="line">      commit(<span class="string">'SET_CACHED_ROUTES'</span>, route)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span><span class="keyword">default</span> routeCache</span><br></pre></td></tr></table></figure></p><p>åœ¨<code>getter</code>ä¸­å¼•å…¥ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// getter.js</span></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">  cachedRoutes: <span class="function"><span class="params">state</span> =&gt;</span> state.routeCache.cachedRoutes,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span><span class="keyword">default</span> getters</span><br></pre></td></tr></table></figure></p><p>å…¶ä¸­ï¼Œ<code>name</code>æ˜¯è·¯ç”±çš„<code>name</code>å±æ€§å€¼ï¼ŒæŸ¥è¯¢å‚æ•°<code>query</code>ä¿å­˜åœ¨<code>name</code>ä¸­ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨è·¯ç”±çš„<code>path</code>åšä¸ºé”®ï¼ŒåŒºåˆ«åœ¨äºæ˜¯å¦åŒºåˆ†åŠ¨æ€è·¯ç”±ã€‚<code>query</code>å¯ä»¥æ˜¯å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯JSONåŒ–çš„å­—ç¬¦ä¸²ï¼Œå»ºè®®ä½¿ç”¨JSONå­—ç¬¦ä¸²è¿›è¡Œä¿å­˜ã€‚<br>æ¥ä¸‹æ¥æ˜¯åœ¨æŸ¥è¯¢æ—¶è°ƒç”¨<code>actions</code>ä¸­çš„<code>setCachedRoutes()</code>æ–¹æ³•ä¿å­˜é¡µé¢æŸ¥è¯¢å‚æ•°å’Œè¿›å…¥é¡µé¢åè·å–<code>getter</code>ä¸­ç¼“å­˜çš„å€¼ã€‚è¿™éƒ¨åˆ†æ¶‰åŠ<code>vuex</code>çš„ä½¿ç”¨æ–¹å¼ï¼Œä¸å¤ªæ¸…æ¥šå¯ä»¥æŸ¥é˜…<a href="https://vuex.vuejs.org/zh/guide/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚è¿™éƒ¨åˆ†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>mixin</code>è¿›è¡Œå°è£…ï¼Œæš´éœ²å‡ºä¸¤ä¸ªæ–¹æ³•æ¥ä¿å­˜å’Œè·å–ç¼“å­˜å³å¯ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mixins/queryCache.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; mapActions, mapGetters &#125; <span class="keyword">from</span><span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span><span class="keyword">default</span> &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">      searchKey: <span class="string">''</span><span class="comment">// æ¯ä¸ªé¡µé¢æŸ¥è¯¢è¡¨å•`model`ç»‘å®šçš„å€¼å¯èƒ½ä¸ä¸€æ ·ï¼Œä½¿ç”¨æ­¤å˜é‡æ¥æ¥æ”¶æŸ¥è¯¢å¯¹è±¡çš„ key å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    ...mapGetters([<span class="string">'cachedRoutes'</span>])</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    ...mapActions([<span class="string">'setCachedRoutes'</span>]),</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®è·¯ç”±ç¼“å­˜ç›¸å…³é…ç½®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>: queryKey é¡µé¢æœç´¢è¡¨å•å¯¹è±¡çš„key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    setSearchQuery(queryKey) &#123;</span><br><span class="line"><span class="keyword">const</span> name = <span class="keyword">this</span>.$route.name</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span><span class="keyword">this</span>.setCachedRoutes === <span class="string">'function'</span>) &#123;</span><br><span class="line"><span class="keyword">this</span>.setCachedRoutes(&#123; <span class="attr">name</span>: name, <span class="attr">query</span>: <span class="built_in">JSON</span>.stringify(<span class="keyword">this</span>[queryKey]) &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–è·¯ç”±ç¼“å­˜ç›¸å…³é…ç½®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>: queryKey é¡µé¢æœç´¢è¡¨å•å¯¹è±¡çš„key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    getSearchQuery(queryKey) &#123;</span><br><span class="line"><span class="comment">// å¦‚æœä½¿ç”¨ è·¯ç”± çš„ nameå±æ€§ç¼“å­˜çš„è¯ï¼Œè¿™é‡Œå°±å–å½“å‰é¡µé¢è·¯ç”±çš„ nameå€¼ï¼Œå¦‚æœä½¿ç”¨äº† path ç¼“å­˜æ›¿æ¢å³å¯</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="keyword">this</span>.$route.name</span><br><span class="line"><span class="keyword">const</span> cachedRoutes = <span class="keyword">this</span>.cachedRoutes || &#123;&#125;</span><br><span class="line"><span class="keyword">if</span> (cachedRoutes.hasOwnProperty(name)) &#123;</span><br><span class="line"><span class="keyword">const</span> target = <span class="built_in">JSON</span>.parse(cachedRoutes[name])</span><br><span class="line"><span class="keyword">this</span>[queryKey] = <span class="built_in">Object</span>.assign(&#123;&#125;, targetï¼‰</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¦‚æœéœ€è¦ç¼“å­˜æŸ¥è¯¢å‚æ•°å¯¹è±¡ä¹‹å¤–çš„æ–¹æ³•ï¼Œåˆ™éœ€è¦åœ¨<code>getSearchQuery</code>å’Œ<code>setSearchQuery</code>ä¸­æ·»åŠ ç‰¹æ®Šæƒ…å†µä¸‹çš„åˆ¤æ–­é€»è¾‘å³å¯ã€‚å…¶ä¸­<code>setSearchQuery</code>å¯ä»¥åœ¨ç‚¹å‡»æœç´¢æŒ‰é’®æˆ–å‘é€æŸ¥è¯¢è¯·æ±‚æ—¶è¿›è¡Œè°ƒç”¨ï¼ŒåŒºåˆ«åœ¨æ˜¯å¦éœ€è¦ç¼“å­˜åˆ†é¡µæŸ¥è¯¢ç›¸å…³å‚æ•°ã€‚<code>getSearchQuery</code>å¿…é¡»åœ¨<code>created</code>æˆ–<code>mounted</code>ç”Ÿå‘½å‘¨æœŸä¸­æ‰ç”¨ï¼Œå°†ç¼“å­˜çš„æ•°æ®èµ‹å€¼ç»™æŸ¥è¯¢å¯¹è±¡ä¹‹åè°ƒç”¨é¡µé¢çš„æŸ¥è¯¢è¯·æ±‚ï¼Œè¿™æ ·å°±å®ç°äº†è·¯ç”±è·³è½¬çš„æŸ¥è¯¢æ•°æ®ç¼“å­˜ã€‚<br>é¡µé¢ä¸­è°ƒç”¨æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> CacheQuery <span class="keyword">from</span><span class="string">'../mixins/queryCache'</span><span class="comment">// å…·ä½“è·¯å¾„æŒ‰é¡¹ç›®å®é™…è·¯å¾„</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span><span class="keyword">default</span> &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    reutrn &#123;</span><br><span class="line"><span class="comment">// æŸ¥è¯¢è¡¨å•æ•°æ®å¯¹è±¡</span></span><br><span class="line">      params: &#123;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;ï¼Œ</span><br><span class="line">  mounted() &#123;</span><br><span class="line"><span class="comment">// è·å–vuexä¸­çš„ç¼“å­˜ï¼Œèµ‹å€¼</span></span><br><span class="line"><span class="keyword">this</span>.getSearchQuery(<span class="string">'params'</span>)</span><br><span class="line"><span class="comment">// ç„¶åæŒ‰ç¼“å­˜çš„å‚æ•°æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">this</span>.getList()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line"><span class="comment">// æœç´¢ç‚¹å‡»äº‹ä»¶ç›‘å¬</span></span><br><span class="line">    handleSearch() &#123;</span><br><span class="line"><span class="comment">// ç¼“å­˜æœç´¢å‚æ•°</span></span><br><span class="line"><span class="keyword">this</span>.setSearchQuery(<span class="string">'params'</span>)</span><br><span class="line"><span class="comment">// æŸ¥è¯¢æ•°æ®</span></span><br><span class="line"><span class="keyword">this</span>.getList()</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="keyword">async</span> getList() &#123;</span><br><span class="line"><span class="comment">// è·å–æ•°æ®å‘é€è¯·æ±‚</span></span><br><span class="line"><span class="keyword">let</span> resp = <span class="keyword">await</span> axios.get(<span class="string">'/api/get/list'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦ç¼“å­˜åˆ†é¡µå‚æ•°ï¼Œå¯èƒ½ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŸ¥è¯¢å‚æ•°å¯¹è±¡:</span></span><br><span class="line">searchParams: &#123;</span><br><span class="line">  id: <span class="string">''</span>,</span><br><span class="line">  title: <span class="string">''</span>,</span><br><span class="line">  status: <span class="string">''</span>,</span><br><span class="line">  current_page: <span class="number">1</span>, <span class="comment">// å½“å‰é¡µ</span></span><br><span class="line">  page_size: <span class="number">10</span>ï¼Œ <span class="comment">// æ¯é¡µå¤šå°‘æ•°æ®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åˆ†é¡µç»„ä»¶ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-pagination</span></span></span><br><span class="line"><span class="tag"><span class="attr">:total</span>=<span class="string">"page.total"</span></span></span><br><span class="line"><span class="tag"><span class="attr">:current-page</span>=<span class="string">"searchParams.page_index"</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">current-change</span>=<span class="string">"handleCurrentChange"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><p>å¦‚æœæŸ¥è¯¢å‚æ•°ä¸­åŒ…å«äº†åˆ†é¡µç»„ä»¶ä¸­çš„ä¸¤ä¸ªå‚æ•°ï¼Œåœ¨è°ƒç”¨äº†<code>getSearchQuery</code>æ–¹æ³•å¯¹å…¶è¿›è¡Œèµ‹å€¼ä¹‹åï¼Œå³ä¾¿å‘é€è¯·æ±‚æ—¶çš„<code>current_page</code>æ˜¯2ï¼Œ<code>el-pagination</code>ç»„ä»¶ä¸­æ˜¾ç¤ºçš„ä»ç„¶æ˜¯åœ¨é¡µé¢çš„<code>data</code>ä¸­åˆå§‹åŒ–æ—¶çš„é»˜è®¤å€¼ï¼Œç ”ç©¶äº†elementåˆ†é¡µç»„ä»¶çš„æºç ï¼Œå‘ç°å…¶æ”¹å˜<code>current-page</code>åªèƒ½é€šè¿‡ç›‘å¬<code>current-change</code>æ¥å®ç°ï¼Œè€Œåœ¨ä¸Šæ–‡ä¸­ç¼“å­˜äº†æ•°æ®ä¹‹åç›´æ¥èµ‹å€¼æ˜¯æ— æ³•å®ç°å“åº”çš„, å¦‚ä¸‹å›¾:</p><p><img style="height: 200px; text-align: left" src="https://camo.githubusercontent.com/4374fd8950b1b788fe9642b70b36e9e9ef2b7627/68747470733a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f363731393838352d373435666433626362366637306337302e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430"></p><p>åˆ†äº«å‘Šä¸€æ®µè½å•¦ï¼Œå¦‚æœæ‚¨æœ‰å…¶ä»–çš„å®ç°æ–¹å¼å¯ä»¥ç•™è¨€äº¤æµå•Šï¼Œæ„Ÿè°¢ï¼</p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> vue </tag><tag> element </tag></tags></entry><entry><title>pynongoä½¿ç”¨ç¬”è®°</title><link href="/pynongo-notes.html"/><url>/pynongo-notes.html</url><content type="html"><![CDATA[<p>å‰æ®µæ—¶é—´å­¦ä¹ äº†pythonçˆ¬è™«ï¼Œç„¶åçˆ¬å–äº†å¿…åº”å£çº¸ã€æ‹‰é’©ã€å°çº¢å”‡è§†é¢‘å’Œè¯„è®ºç­‰ï¼Œå…¶ä¸­ä¹Ÿä½¿ç”¨äº†mongodbæ•°æ®åº“å­˜å‚¨æ•°æ®ã€‚</p><p>å·¥ä½œç”µè„‘å’Œå®¶é‡Œç”µè„‘éƒ½å®ç°äº†å£çº¸æ¯åˆ†é’Ÿå®æ—¶æ›´æ–°ï¼Œæµ·é‡çš„èƒŒæ™¯å›¾ç‰‡ï¼ŒåŸºæœ¬ä¸é‡å¤ï¼Œæ¯å¤©ä¸­åˆä¼‘æ¯æ—¶å–œæ¬¢ç›¯ç€å±å¹•å‘å‘†ï¼Œå“ˆå“ˆğŸ˜ã€‚å…¶ä¸­é™¤äº†ç”¨åˆ°çš„é™¤äº†åŸºæœ¬çš„çˆ¬è™«è‡³å°‘ï¼Œè¿˜æœ‰pymongoå°†çˆ¬å–çš„æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“ï¼Œä¸ä¼šå› ä¸ºå®˜æ–¹æ›´æ–°è€Œä¸¢å¤±æ—©æœŸçš„å›¾ç‰‡ä¿¡æ¯ï¼Œä¹Ÿç”¨åˆ°äº†shellè„šæœ¬å’Œcrontabå®šæ—¶ä»»åŠ¡ï¼Œæ¯å‘¨ä¸€ä¸­åˆå®šæ—¶çˆ¬å–ï¼Œç„¶åä¸‹è½½å›¾ç‰‡ï¼Œéå¸¸niceå•Šã€‚<br><a id="more"></a><br>æ›´å¤šè„šæœ¬å¯ä»¥å»<a href="https://github.com/mhy-web/python_demo" target="_blank" rel="noopener">github</a>çœ‹åˆ°ï¼Œè‡ªåŠ¨æ‰§è¡Œçš„shellè„šæœ¬ä¸ºé¡¹ç›®ç›®å½•ä¸‹çš„ <code>wallpaper.sh</code>æ–‡ä»¶ã€‚</p><p>è¿™é‡Œè®°å½•ä¸€ä¸‹pymongoä½¿ç”¨ç¬”è®°ï¼Œé¿å…ä¸‹æ¬¡ä½¿ç”¨æ—¶å†å»æ‰¾æ–‡æ¡£ã€‚<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼•å…¥pymongo</span></span><br><span class="line"><span class="keyword">import</span> pymongo</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºè¿æ¥</span></span><br><span class="line">client = pymongo.Conection(<span class="string">'127.0.0.1'</span>, <span class="number">27017</span>)</span><br><span class="line">client = pymongo.Conection(host=<span class="string">'127.0.0.1'</span>, port=<span class="number">27017</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿æ¥æ•°æ®åº“</span></span><br><span class="line">db = client.bing</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">db = client[<span class="string">'bing'</span>]</span><br><span class="line"><span class="comment"># å…¶ä¸­çš„`bing`æ˜¯æ‰€åˆ›å»ºçš„æ•°æ®åº“çš„åç§°ã€‚</span></span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">dbName = <span class="string">'xhc'</span></span><br><span class="line">db = client[dbName]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿æ¥é›†åˆ</span></span><br><span class="line">collection = db.video</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">collection = db[<span class="string">'video'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å…¨éƒ¨é›†åˆåç§°</span></span><br><span class="line">db.collection_names()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥æ‰¾é›†åˆçš„è®°å½•</span></span><br><span class="line">db.bing.find()</span><br><span class="line"><span class="keyword">for</span> doc <span class="keyword">in</span> db.test.find():</span><br><span class="line">  print(doc)</span><br><span class="line">db.bing.find_one(&#123;x: <span class="number">1</span>&#125;)</span><br><span class="line">db.bing.find_mangy(&#123;&#125;)</span><br><span class="line"></span><br><span class="line">db.bing.count_document(&#123;x: <span class="number">1</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ’å…¥æ•°æ®</span></span><br><span class="line">db.bing.insert_one(&#123;x: <span class="number">1</span>&#125;)</span><br><span class="line">db.bing.insert_many([&#123;<span class="string">'x'</span>: i&#125; <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>)])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›¿æ¢</span></span><br><span class="line">db.bing.replace_one(&#123;x: <span class="number">1</span>&#125;, &#123;y: <span class="number">1</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°</span></span><br><span class="line"><span class="comment"># update åé¢çš„æ“ä½œç¬¦åŒ mongodb åŸç”Ÿçš„æ“ä½œç¬¦</span></span><br><span class="line">db.bing.update_one(&#123;x: <span class="number">1</span>&#125;, &#123;<span class="string">'$inc'</span>: &#123;x: <span class="number">3</span>&#125;&#125;)</span><br><span class="line">db.bing.find_one_and_update(&#123;<span class="string">'_id'</span>: <span class="number">665</span>&#125;, &#123;<span class="string">'$inc'</span>: &#123;<span class="string">'count'</span>: <span class="number">1</span>&#125;, <span class="string">'$set'</span>: &#123;<span class="string">'done'</span>: <span class="literal">True</span>&#125;&#125;)</span><br><span class="line">db.bing.find_one_and_update(&#123;<span class="string">'_exists'</span>: <span class="literal">False</span>&#125;, &#123;<span class="string">'$inc'</span>: &#123;<span class="string">'count'</span>: <span class="number">1</span>&#125;&#125;)</span><br><span class="line">db.bing.find_one_and_update(</span><br><span class="line">  &#123; <span class="string">'_id'</span>: <span class="string">'userid'</span> &#125;,</span><br><span class="line">  &#123; <span class="string">'$inc'</span>: &#123;<span class="string">'seq'</span>: <span class="number">1</span>&#125;&#125;,</span><br><span class="line">  projection=&#123;<span class="string">'seq'</span>: <span class="literal">True</span>, <span class="string">'_id'</span>: <span class="literal">False</span>&#125;,</span><br><span class="line">  upsert=<span class="literal">True</span>,</span><br><span class="line">  return_document=ReturnDocument.AFTER</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤</span></span><br><span class="line">db.bing.delete_one(&#123;x: <span class="number">1</span>&#125;)</span><br><span class="line">db.bing.delete_many(&#123;<span class="string">'x'</span>: <span class="number">1</span>&#125;)</span><br><span class="line">db.bing.find_one_and_delete(&#123;<span class="string">'x'</span>: <span class="number">1</span>&#125;)</span><br><span class="line">db.bing.find_one_and_delete(&#123;<span class="string">'x'</span>: <span class="number">1</span>&#125;, sort=[(<span class="string">'_id'</span>, pymongo.DESCENDING)])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºç´¢å¼•</span></span><br><span class="line">db.bing.create_index(<span class="string">"mike"</span>)</span><br></pre></td></tr></table></figure></p><p>æ›´å¤šå†…å®¹å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚<br>å‚è€ƒæ–‡æ¡£ï¼š <a href="http://api.mongodb.com/python/current/api/pymongo/collection.html#pymongo.collection.Collection.delete_one" target="_blank" rel="noopener">http://api.mongodb.com/python/current/api/pymongo/collection.html#pymongo.collection.Collection.delete_one</a></p>]]></content><categories><category> åç«¯ </category></categories><tags><tag> python </tag><tag> mongodb </tag></tags></entry><entry><title>elementUIè¡¨å•ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶å¹¶è·å–å­ç»„ä»¶éªŒè¯</title><link href="/elementUI-component-validate.html"/><url>/elementUI-component-validate.html</url><content type="html"><![CDATA[<p>æœ€è¿‘å·¥ä½œä¸­å¾ˆå¤šæ¬¡é‡åˆ°ä¸€ç§æƒ…å†µï¼Œè¡¨å•å…ƒç´ ä¸­æŸä¸ªå­—æ®µæ˜¯å¯¹è±¡ç»„æˆçš„æ•°ç»„ï¼Œéœ€è¦ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶æ¥éå†æ•°ç»„ï¼Œæ¯ä¸ªæ•°ç»„å…ƒç´ å¯¹è±¡ä¸­çš„è®¸å¤šå­—æ®µéœ€è¦å•ç‹¬å°è£…æˆè‡ªå®šä¹‰ç»„ä»¶ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨<code>v-model</code>æ–¹å¼æ¥å®ç°å“åº”å¼çš„è°ƒç”¨ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥åˆ©äºç»„ä»¶ç‹¬ç«‹è¿è¡Œç¯å¢ƒçš„ç‰¹æ€§ï¼Œæœ‰æ•ˆçš„åŒºåˆ†äº†çˆ¶ç»„ä»¶è¡¨å•ä¸­æ•°ç»„å­—æ®µä¸‹å„ä¸ªå¯¹è±¡çš„ç‹¬ç«‹ã€‚<br><a id="more"></a></p><p>å‡å¦‚çˆ¶ç»„ä»¶ä¸­çš„è¡¨å•æ•°æ®æ˜¯è¿™ç§æ ¼å¼çš„ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">  data() &#123;</span><br><span class="line"><span class="actionscript"><span class="keyword">return</span> &#123;</span></span><br><span class="line">      info: &#123;</span><br><span class="line"><span class="actionscript">        id: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">        start_time: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">        end_time: <span class="string">''</span>,</span></span><br><span class="line">        items: [&#123;</span><br><span class="line"><span class="actionscript">          title: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">          desc: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">          type: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">          img_url: <span class="string">''</span></span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line"><span class="actionscript">          title: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">          desc: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">          type: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">          img_url: <span class="string">''</span></span></span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>è¦ä½¿ç”¨elementUIçš„ <code>form</code>ç»„ä»¶æ¥å®ç°è¡¨å•çš„æ•°æ®æ¸²æŸ“ï¼Œå…¶ä¸­itemséƒ¨åˆ†æœ€åˆç†çš„æ–¹å¼æ˜¯æŠ½ç¦»å‡ºå•ç‹¬çš„ç»„ä»¶ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­éå†è¯¥æ•°ç»„å­—æ®µï¼Œæ¯ä¸€é¡¹å•ç‹¬æ¸²æŸ“è¯¥å­ç»„ä»¶ã€‚</p><h2 id="å­ç»„ä»¶å®šä¹‰"><a href="#å­ç»„ä»¶å®šä¹‰" class="headerlink" title="å­ç»„ä»¶å®šä¹‰"></a>å­ç»„ä»¶å®šä¹‰</h2><p>å‡è®¾å­ç»„ä»¶è¿™æ ·å®šä¹‰ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form</span><span class="attr">ref</span>=<span class="string">"item"</span><span class="attr">:model</span>=<span class="string">"content"</span><span class="attr">:rules</span>=<span class="string">"rules"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span><span class="attr">prop</span>=<span class="string">"title"</span><span class="attr">label</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span><span class="attr">v-model</span>=<span class="string">"content.title"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span><span class="attr">prop</span>=<span class="string">"desc"</span><span class="attr">label</span>=<span class="string">"desc"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span><span class="attr">v-model</span>=<span class="string">"content.desc"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span><span class="attr">prop</span>=<span class="string">"type"</span><span class="attr">label</span>=<span class="string">"type"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span><span class="attr">v-model</span>=<span class="string">"content.type"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span><span class="attr">prop</span>=<span class="string">"img_url"</span><span class="attr">label</span>=<span class="string">"img"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span><span class="attr">v-model</span>=<span class="string">"content.img_url"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span><span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">'Child'</span>,</span></span><br><span class="line">  props: &#123;</span><br><span class="line">    value: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="actionscript"><span class="keyword">default</span>() &#123;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">            title: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">            desc: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">            type: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">            img_url: <span class="string">''</span></span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    index: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="actionscript"><span class="keyword">default</span>: <span class="literal">null</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line"><span class="actionscript"><span class="keyword">return</span> &#123;</span></span><br><span class="line">      content: &#123; ...this.value &#125;,</span><br><span class="line">      rules: &#123;</span><br><span class="line"><span class="actionscript">        title: [&#123;required: <span class="literal">true</span>, trigger: <span class="string">'blur'</span>&#125;],</span></span><br><span class="line"><span class="actionscript">        desc: [&#123;required: <span class="literal">true</span>, trigger: <span class="string">'blur'</span>&#125;],</span></span><br><span class="line"><span class="actionscript">        type: [&#123;required: <span class="literal">true</span>, trigger: <span class="string">'blur'</span>&#125;],</span></span><br><span class="line"><span class="actionscript">        img_url: [&#123;required: <span class="literal">true</span>, trigger: <span class="string">'blur'</span>&#125;],</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line"><span class="actionscript"><span class="comment">// å®šä¹‰è¯¥å˜é‡æ˜¯ä¸ºäº†ä¾¿äºç›‘å¬å¯¹è±¡çš„å˜åŒ–ï¼Œç‰¹åˆ«æ˜¯å¤šå±‚åµŒå¥—çš„å¯¹è±¡éå¸¸æœ‰æ•ˆ</span></span></span><br><span class="line">    contentStr() &#123;</span><br><span class="line"><span class="javascript"><span class="keyword">return</span><span class="built_in">JSON</span>.stringify(<span class="keyword">this</span>.content)</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line"><span class="actionscript"><span class="comment">// ç›‘å¬å¯¹è±¡æ¯ä¸ªå­—æ®µçš„æ”¹å˜ï¼Œå¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨deepå±æ€§ï¼Œå…·ä½“å¯ä»¥æŸ¥é˜…vueæ–‡æ¡£</span></span></span><br><span class="line">    contentStr(value) &#123;</span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.update()</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    update() &#123;</span><br><span class="line"><span class="actionscript"><span class="comment">// input äº‹ä»¶çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°ï¼Œå…·ä½“ä¸‹æ–‡ä¼šä»‹ç»ï¼Œè¿™é‡Œæ˜¯æŠŠå­ç»„ä»¶çš„å˜æ›´é€šè¿‡äº‹ä»¶å‘Šè¯‰çˆ¶ç»„ä»¶ï¼Œå®ç°å­ç»„ä»¶å‘çˆ¶ç»„ä»¶çš„æ•°æ®ä¼ é€’</span></span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.$emit(<span class="string">'input'</span>, <span class="keyword">this</span>.content)</span></span><br><span class="line">    &#125;,</span><br><span class="line">    formValidate() &#123;</span><br><span class="line"><span class="javascript"><span class="keyword">let</span> flag = <span class="literal">false</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">this</span>.$refs[<span class="string">'item'</span>].validate(<span class="function"><span class="params">valid</span> =&gt;</span> &#123;</span></span><br><span class="line">        flag = valid</span><br><span class="line"><span class="actionscript"><span class="comment">// å¦‚æœéœ€è¦è¿›è¡Œä¿¡æ¯æç¤º</span></span></span><br><span class="line">        if (!valid) &#123;</span><br><span class="line"><span class="javascript"><span class="keyword">this</span>.$message(<span class="string">`ç¬¬<span class="subst">$&#123;index&#125;</span>æ¡æ•°æ®æœªå¡«å†™å®Œ!`</span>)</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line"><span class="actionscript"><span class="keyword">return</span> flag</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>è‡ªå®šä¹‰ç»„ä»¶ä¸­propsä¸­çš„valueå±æ€§æ˜¯vueé»˜è®¤çš„ï¼Œå¯ä»¥æ¥æ”¶è°ƒç”¨æ—¶ç»‘å®šåœ¨<code>v-model</code>ä¸Šçš„å±æ€§ï¼Œå­ç»„ä»¶ä¸­ç»™<code>value</code>è®¾ç½®é»˜è®¤å€¼å¯ä»¥é¿å…ä¸€äº›åˆå§‹åŒ–æ—¶ç¼ºå°‘å­—æ®µçš„æŠ¥é”™ã€‚<br>ä¸ºäº†è®©<code>v-model</code>æ­£å¸¸å·¥ä½œï¼Œè¿™ä¸ªç»„ä»¶å†…å¿…é¡»ï¼š</p><ul><li>å°†å…¶<code>value</code>ç‰¹æ€§ç»‘å®šåˆ°ä¸€ä¸ªåä¸º<code>value</code>çš„propä¸Š</li><li>å°†å…¶<code>input</code>äº‹ä»¶è§¦å‘æ—¶ï¼Œå°†æ–°çš„å€¼é€šè¿‡è‡ªå®šä¹‰çš„<code>input</code>äº‹ä»¶æŠ›å‡º<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span><span class="attr">v-model</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç­‰ä»·äº --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span><span class="attr">v-bind:value</span>=<span class="string">"title"</span><span class="attr">v-on:input</span>=<span class="string">"title = $event.target.value"</span>/&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p>å­ç»„ä»¶éœ€è¦å®æ—¶çš„æŠŠæ•°æ®çš„å˜åŒ–å‘Šè¯‰çˆ¶ç»„ä»¶ï¼Œæ‰€ä»¥éœ€è¦wathæ•°æ®çš„å˜åŒ–ï¼Œå¦‚æœä¼ ç»™å­ç»„ä»¶çš„æ•°æ®åªæ˜¯ç®€å•çš„å¯¹è±¡ç±»å‹ï¼Œå³å¯¹è±¡çš„å­—æ®µéƒ½æ˜¯ç®€å•ç±»å‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨vueä¸­watchçš„é«˜çº§ç”¨æ³•ï¼Œ<br>å®šä¹‰handleræ–¹æ³•ï¼Œä½¿ç”¨immediaateå’Œdeepå±æ€§ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ<a href="https://juejin.im/post/5ae91fa76fb9a07aa7677543" target="_blank" rel="noopener">Vue.jsä¸­ watch çš„é«˜çº§ç”¨æ³•</a>,æ›´æ ‡å‡†çš„ä½¿ç”¨æ–¹å¼å¯ä»¥æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ã€‚åœ¨æœ¬æ–‡ä¾‹å­ä¸­å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">  watch: &#123;</span><br><span class="line">    content:&#123;</span><br><span class="line">      handler(newVal, oldVal) &#123;</span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.$emit(<span class="string">'input'</span>, <span class="keyword">this</span>.content)</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      deep: <span class="literal">true</span><span class="comment">// deepå±æ€§é»˜è®¤ä¸ºfalse, è¡¨ç¤ºååˆ†æ·±åº¦ç›‘å¬</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>ä»‹ç»å®Œäº†å­ç»„ä»¶ä¸­æ•°æ®çš„å¤„ç†ï¼Œæ¥ä¸‹æ¥è¯´ä¸€ä¸‹çˆ¶ç»„ä»¶ä¸­å¦‚ä½•ä½¿ç”¨ã€‚</p><h2 id="çˆ¶ç»„ä»¶è°ƒç”¨è‡ªå®šä¹‰ç»„ä»¶"><a href="#çˆ¶ç»„ä»¶è°ƒç”¨è‡ªå®šä¹‰ç»„ä»¶" class="headerlink" title="çˆ¶ç»„ä»¶è°ƒç”¨è‡ªå®šä¹‰ç»„ä»¶"></a>çˆ¶ç»„ä»¶è°ƒç”¨è‡ªå®šä¹‰ç»„ä»¶</h2><p>å‰é¢å·²ç»å®šä¹‰äº†è‡ªå®šä¹‰ç»„ä»¶ï¼Œå¯ä»¥æ”¯æŒæ•°æ®çš„åŒå‘ç»‘å®šï¼Œçˆ¶ç»„ä»¶è°ƒç”¨è‡ªå®šä¹‰å­ç»„ä»¶æ—¶å¯ä»¥åƒelementUIä¸­çš„è¡¨å•ç»„ä»¶ä¸€æ ·ä½¿ç”¨ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form</span><span class="attr">:model</span>=<span class="string">"info"</span><span class="attr">ref</span>=<span class="string">"form"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¸ºç®€åŒ–ç±»å‹ï¼Œè¿™é‡Œæ— å…³çš„å­—æ®µéƒ½ä½¿ç”¨el-input --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span><span class="attr">prop</span>=<span class="string">"start_time"</span><span class="attr">lable</span>=<span class="string">"start time"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span><span class="attr">v-model</span>=<span class="string">"info.start_time"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span><span class="attr">prop</span>=<span class="string">"end_time"</span><span class="attr">lable</span>=<span class="string">"end time"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span><span class="attr">v-model</span>=<span class="string">"info.end_time"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- éå†æ•°ç»„ï¼Œå¾ªç¯è°ƒç”¨è‡ªå®šä¹‰å­ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">v-for</span>=<span class="string">"(content, index) in info.items"</span><span class="attr">v-show</span>=<span class="string">"(currentIndex - 1) === index"</span><span class="attr">:key</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span><span class="attr">prop</span>=<span class="string">"item"</span><span class="attr">lable</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">st-item</span><span class="attr">v-model</span>=<span class="string">"info.items[index]"</span><span class="attr">:index</span>=<span class="string">"index"</span><span class="attr">:ref</span>=<span class="string">"index + '_item'"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> Item <span class="keyword">from</span><span class="string">'./item.vue'</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="keyword">export</span><span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">'Parents'</span>,</span></span><br><span class="line">  components: &#123;</span><br><span class="line"><span class="actionscript"><span class="string">'st-item'</span>: Item</span></span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line"><span class="actionscript"><span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">      currentIndex: <span class="number">0</span>, <span class="comment">// æ§åˆ¶æ˜¾ç¤ºå½“å‰çš„æ˜¯å“ªä¸ªitem</span></span></span><br><span class="line">      info: &#123;</span><br><span class="line"><span class="actionscript">        id: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">        start_time: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">        end_time: <span class="string">''</span>,</span></span><br><span class="line">        items: [&#123;</span><br><span class="line"><span class="actionscript">          title: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">          desc: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">          type: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">          img_url: <span class="string">''</span></span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line"><span class="actionscript">          title: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">          desc: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">          type: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">          img_url: <span class="string">''</span></span></span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="å­ç»„ä»¶è¡¨å•éªŒè¯"><a href="#å­ç»„ä»¶è¡¨å•éªŒè¯" class="headerlink" title="å­ç»„ä»¶è¡¨å•éªŒè¯"></a>å­ç»„ä»¶è¡¨å•éªŒè¯</h3><p>æ¥ä¸‹æ¥è¯´å¦‚ä½•åœ¨çˆ¶ç»„ä»¶æäº¤æ•°æ®æ—¶éªŒè¯å­ç»„ä»¶çš„æ˜¯å¦å·²é€šè¿‡éªŒè¯ã€‚<br>åˆšæ‰å­ç»„ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³• <code>formValidate</code>, è¯¥æ–¹æ³•ä¼šå°†å­ç»„ä»¶çš„éªŒè¯ç»“æœè¿”å›ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­è°ƒç”¨è¯¥æ–¹æ³•å³å¯è·å¾—å­ç»„ä»¶çš„éªŒè¯ç»“æœã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">  submit() &#123;</span><br><span class="line"><span class="comment">// è°ƒç”¨å­ç»„ä»¶éªŒè¯ï¼ŒéªŒè¯ç»“æœèµ‹å€¼ç»™isValidå˜é‡</span></span><br><span class="line"><span class="keyword">let</span> isValid = <span class="built_in">Object</span>.keys(<span class="keyword">this</span>.info.item).every(<span class="function"><span class="params">key</span> =&gt;</span><span class="keyword">this</span>.$refs[key + <span class="string">'_item'</span>].formValidate())</span><br><span class="line"><span class="keyword">if</span> (!isValid) &#123;</span><br><span class="line"><span class="keyword">return</span><span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// ..</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å‚è€ƒæ–‡çŒ®ï¼š <a href="https://blog.csdn.net/ligang2585116/article/details/79475652" target="_blank" rel="noopener">https://blog.csdn.net/ligang2585116/article/details/79475652</a></p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> vue </tag><tag> element </tag></tags></entry><entry><title>linuxå­¦ä¹ ç¬”è®°(5)</title><link href="/linux-note-5.html"/><url>/linux-note-5.html</url><content type="html"><![CDATA[<h2 id="at-ä¸€æ¬¡æ€§å®šæ—¶ä»»åŠ¡"><a href="#at-ä¸€æ¬¡æ€§å®šæ—¶ä»»åŠ¡" class="headerlink" title="at ä¸€æ¬¡æ€§å®šæ—¶ä»»åŠ¡"></a>at ä¸€æ¬¡æ€§å®šæ—¶ä»»åŠ¡</h2><p>atæœåŠ¡æ˜¯å¦å®‰è£…</p><blockquote><p>chkconfig â€“list | grep atd</p></blockquote><p>atæœåŠ¡é‡å¯</p><blockquote><p>service atd restart</p></blockquote><p>atçš„è®¿é—®æ§åˆ¶</p><blockquote><p>/etc/at.allow ç™½åå•<br>/etc/at.deny é»‘åå• ï¼ˆå¯¹rootä¸èµ·ä½œç”¨ï¼‰</p></blockquote><p>ç™½åå•æ¯”é»‘åå•ä¼˜å…ˆçº§é«˜ã€‚<br>å¦‚æœè¿™ä¸¤ä¸ªæ–‡ä»¶éƒ½ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆåªæœ‰rootç”¨æˆ·å¯ä»¥ä½¿ç”¨atå‘½ä»¤<br><a id="more"></a></p><p>atä½¿ç”¨æ–¹æ³•:</p><blockquote><p>at [é€‰é¡¹] æ—¶é—´</p></blockquote><p>é€‰é¡¹ï¼š</p><ul><li>-m: å½“atå·¥ä½œå®Œæˆåï¼Œæ— è®ºæ˜¯å¦å‘½ä»¤æœ‰è¾“å‡ºï¼Œéƒ½ç”¨emailé€šçŸ¥æ‰§è¡Œatå‘½ä»¤çš„ç”¨æˆ·</li><li>-cï¼šå·¥ä½œå·ï¼šæ˜¾ç¤ºè¯¥atå·¥ä½œçš„å®é™…å†…å®¹</li></ul><p>æ—¶é—´ï¼š<br>HH:MM  03:23<br>HH:MM: YYYY-MM=DD 02:32 2018-09-21<br>â€¦</p><p>eg:<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åœ¨2åˆ†é’Ÿåæ‰§è¡Œè„šæœ¬hello.sh</span></span><br><span class="line">at now +2 minutes</span><br><span class="line">at &gt; /home/mhy/work/hello.sh &gt;&gt; /home/mhy/work/log_hello.log</span><br></pre></td></tr></table></figure></p><blockquote><p>atq #æŸ¥è¯¢å½“å‰æœåŠ¡å™¨ä¸Šçš„atå·¥ä½œã€</p></blockquote><blockquote><p>atrm [å·¥ä½œå·] # åˆ é™¤æŒ‡å®šçš„atä»»åŠ¡</p></blockquote><h2 id="crontab-å¾ªç¯å®šæ—¶ä»»åŠ¡"><a href="#crontab-å¾ªç¯å®šæ—¶ä»»åŠ¡" class="headerlink" title="crontab å¾ªç¯å®šæ—¶ä»»åŠ¡"></a>crontab å¾ªç¯å®šæ—¶ä»»åŠ¡</h2><h3 id="crondæœåŠ¡"><a href="#crondæœåŠ¡" class="headerlink" title="crondæœåŠ¡"></a>crondæœåŠ¡</h3><ul><li>æ“ä½œcrondæœåŠ¡<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /sbin/service</span></span><br><span class="line">service crond start <span class="comment">#å¯åŠ¨æœåŠ¡</span></span><br><span class="line">service crond stop <span class="comment">#å…³é—­æœåŠ¡</span></span><br><span class="line">service crond restart <span class="comment">#é‡å¯æœåŠ¡</span></span><br><span class="line">service crond reload <span class="comment">#é‡æ–°è½½å…¥é…ç½®</span></span><br><span class="line">service crond stats <span class="comment"># æŸ¥çœ‹crontabæœåŠ¡çŠ¶æ€</span></span><br></pre></td></tr></table></figure></li></ul><p>æ“ä½œcrondæœåŠ¡éœ€è¦rootæƒé™</p><ul><li><p>æŸ¥çœ‹crondæœåŠ¡æ˜¯å¦åœ¨è¿è¡Œï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --list | grep cron</span><br></pre></td></tr></table></figure></li><li><p>åŠ å…¥å¼€æœºè‡ªåŠ¨å¯åŠ¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹crondæœåŠ¡æ˜¯å¦å·²è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨</span></span><br><span class="line">ntsysv</span><br><span class="line"><span class="comment"># åŠ å…¥å¼€æœºè‡ªåŠ¨å¯åŠ¨</span></span><br><span class="line">chkconfig --level 35 crond on</span><br></pre></td></tr></table></figure></li></ul><h3 id="crontab-å‘½ä»¤"><a href="#crontab-å‘½ä»¤" class="headerlink" title="crontab å‘½ä»¤"></a>crontab å‘½ä»¤</h3><blockquote><p>crontab [é€‰é¡¹] (å‚æ•°)</p></blockquote><p>é€‰é¡¹ï¼š</p><ul><li>-e: ç¼–è¾‘å½“å‰ç”¨æˆ·crontabå®šæ—¶ä»»åŠ¡</li><li>-l: æŸ¥è¯¢å½“å‰ç”¨æˆ·crontabå®šæ—¶ä»»åŠ¡</li><li>-r: åˆ é™¤å½“å‰ç”¨æˆ·æ‰€æœ‰çš„crontabå®šæ—¶ä»»åŠ¡</li><li>-u&lt;ç”¨æˆ·å&gt;: æŒ‡å®šè¦è®¾å®šæ—¶ä»»åŠ¡çš„ç”¨æˆ·åç§°</li></ul><p>å‚æ•°ï¼š</p><ul><li>crontabæ–‡ä»¶ï¼š æŒ‡å®šåŒ…å«å¾…æ‰§è¡Œä»»åŠ¡çš„crontabæ–‡ä»¶</li></ul><p>ç»‘å®šå½“å‰ç™»å½•ç”¨æˆ·ï¼Œè¦ç¡®ä¿æ²¡æœ‰è¶…å‡ºå½“å‰ç”¨æˆ·æƒé™ã€‚</p><p>linuxä¸‹çš„ä»»åŠ¡è°ƒåº¦åˆ†ä¸ºä¸¤ç±»ï¼šç³»ç»Ÿä»»åŠ¡è°ƒåº¦å’Œç”¨æˆ·ä»»åŠ¡è°ƒåº¦ã€‚<br><strong>æ³¨æ„</strong>: å› ä¸ºç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡æ˜¯å’Œç”¨æˆ·ç»‘å®šçš„ï¼Œæ‰€æœ‰ä½¿ç”¨<code>crontab -e</code>æ¥è®¾ç½®ï¼Œç³»ç»Ÿå®šæ—¶ä»»åŠ¡(rootæƒé™)æ˜¯ç¼–è¾‘<code>/etc/crontab</code>æ¥è®¾ç½®çš„ï¼Œ è€Œä¸”å¿…é¡»æŒ‡å®šç”¨æˆ·ã€‚</p><h3 id="ç³»ç»Ÿä»»åŠ¡è°ƒåº¦"><a href="#ç³»ç»Ÿä»»åŠ¡è°ƒåº¦" class="headerlink" title="ç³»ç»Ÿä»»åŠ¡è°ƒåº¦"></a>ç³»ç»Ÿä»»åŠ¡è°ƒåº¦</h3><p>ç³»ç»Ÿå‘¨æœŸæ€§æ‰€è¦æ‰§è¡Œçš„å·¥ä½œï¼Œæ¯”å¦‚å†™ç¼“å­˜æ•°æ®åˆ°ç¡¬ç›˜ã€æ—¥å¿—æ¸…ç†ç­‰ã€‚åœ¨<code>/etc</code>ç›®å½•ä¸‹æœ‰ä¸ªcrontabæ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯ç³»ç»Ÿä»»åŠ¡è°ƒåº¦çš„é…ç½®æ–‡ä»¶ã€‚<br><code>/etc/crontab</code>é»˜è®¤æœ‰ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">SHELL=/bin/bash</span><br><span class="line">PATH=/sbin:/bin:/usr/sbin:/usr/bin</span><br><span class="line">MAILTO=root</span><br><span class="line">HOME=/</span><br><span class="line"></span><br><span class="line"><span class="comment"># For details see man 4 crontabs</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Example of job definition:</span></span><br><span class="line"><span class="comment"># .---------------- minute (0 - 59)</span></span><br><span class="line"><span class="comment"># |  .------------- hour (0 - 23)</span></span><br><span class="line"><span class="comment"># |  |  .---------- day of month (1 - 31)</span></span><br><span class="line"><span class="comment"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span></span><br><span class="line"><span class="comment"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span></span><br><span class="line"><span class="comment"># |  |  |  |  |</span></span><br><span class="line"><span class="comment"># *  *  *  *  * user-name command to be executed</span></span><br></pre></td></tr></table></figure></p><p>eg:<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">01 * * * * root run-parts /etc/cron.hourly</span><br><span class="line">02 4 * * * root run-parts /etc/cron.daily</span><br><span class="line">22 4 * * 0 root run-parts /etc/cron.weekly</span><br><span class="line">42 4 1 * * root run-parts /etc/cron.monthly</span><br></pre></td></tr></table></figure></p><p>å‰å››è¡Œæ˜¯ç”¨æ¥é…ç½®crondä»»åŠ¡è¿è¡Œçš„ç¯å¢ƒå˜é‡ï¼Œç¬¬ä¸€è¡ŒSHELLå˜é‡æŒ‡å®šäº†ç³»ç»Ÿè¦ä½¿ç”¨å“ªä¸ªshellï¼Œè¿™é‡Œæ˜¯bashï¼Œç¬¬äºŒè¡ŒPATHå˜é‡æŒ‡å®šäº†ç³»ç»Ÿæ‰§è¡Œå‘½ä»¤çš„è·¯å¾„ï¼Œç¬¬ä¸‰è¡ŒMAILTOå˜é‡æŒ‡å®šäº†crondçš„ä»»åŠ¡æ‰§è¡Œä¿¡æ¯å°†é€šè¿‡ç”µå­é‚®ä»¶å‘é€ç»™rootç”¨æˆ·ï¼Œå¦‚æœMAILTOå˜é‡çš„å€¼ä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºä¸å‘é€ä»»åŠ¡æ‰§è¡Œä¿¡æ¯ç»™ç”¨æˆ·ï¼Œç¬¬å››è¡Œçš„HOMEå˜é‡æŒ‡å®šäº†åœ¨æ‰§è¡Œå‘½ä»¤æˆ–è€…è„šæœ¬æ—¶ä½¿ç”¨çš„ä¸»ç›®å½•ã€‚<br>é€šè¿‡/etc/crontabé…ç½®æ–‡ä»¶æ¥è®¾ç½®å®šæ—¶ä»»åŠ¡æ˜¯æ¯”è¾ƒå¥½çš„æ–¹å¼ã€‚</p><ul><li>æ‰§è¡Œç³»ç»Ÿçš„å®šæ—¶ä»»åŠ¡çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š</li></ul><ol><li>æŠŠéœ€è¦å®šæ—¶æ‰§è¡Œçš„è„šæ­¥å¤åˆ¶åˆ°<code>/etc/cron.{daily,weekly,montyly}</code>ç›®å½•çš„ä»»æ„ä¸€ä¸ª</li><li>ä¿®æ”¹<code>/etc/crontab</code>é…ç½®æ–‡ä»¶</li></ol><h3 id="ç”¨æˆ·ä»»åŠ¡è°ƒåº¦"><a href="#ç”¨æˆ·ä»»åŠ¡è°ƒåº¦" class="headerlink" title="ç”¨æˆ·ä»»åŠ¡è°ƒåº¦"></a>ç”¨æˆ·ä»»åŠ¡è°ƒåº¦</h3><p>ç”¨æˆ·å®šæœŸæ‰§è¡Œçš„å·¥ä½œï¼Œæ¯”å¦‚æ•°æ®å¤‡ä»½ã€å®šæ—¶é‚®ä»¶æé†’ç­‰ã€‚ ç”¨æˆ·å¯ä»¥ä½¿ç”¨crontabå·¥å…·æ¥å®šåˆ¶è‡ªå·±çš„è®¡åˆ’ä»»åŠ¡ã€‚æ‰€æœ‰æ°¸ä¸å®šä¹‰crontabæ–‡ä»¶éƒ½ä¿å­˜åœ¨<code>/var/spool/cron</code>ç›®å½•ä¸­ã€‚å…¶æ–‡ä»¶åä¸ç”¨æˆ·åä¸€è‡´ï¼Œä½¿ç”¨è€…æƒé™æ–‡ä»¶å¦‚ä¸‹ï¼š<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/</span>cron.deny è¯¥æ–‡ä»¶ä¸­æ‰€æœ‰ç”¨æˆ·ä¸å…è®¸ä½¿ç”¨crontabå‘½ä»¤ï¼ˆé»‘åå•ï¼‰</span><br><span class="line"><span class="regexp">/etc/</span>cron.allow è¯¥æ–‡ä»¶ä¸­æ‰€åˆ—ç”¨æˆ·å…è®¸ä½¿ç”¨crontabå‘½ä»¤ ï¼ˆç™½åå•ï¼‰</span><br><span class="line"><span class="regexp">/etc/</span>spool<span class="regexp">/cron/</span> æ‰€æœ‰ç”¨æˆ·crontabæ–‡ä»¶å­˜æ”¾çš„ç›®å½•ï¼Œä»¥ç”¨æˆ·åå‘½å</span><br></pre></td></tr></table></figure></p><p><strong>ç™½åå•æ¯”é»‘åå•ä¼˜å…ˆçº§é«˜</strong>ï¼Œ ç™½åå•çš„ç”¨æˆ·ä¸€å®šæœ‰æƒé™ï¼Œé»‘åå•çš„ç”¨æˆ·å¦‚æœåœ¨ç™½åå•ï¼Œåˆ™æœ‰æƒé™ï¼›å¦‚æœé»‘åå•çš„ç”¨æˆ·ä¸åœ¨ç™½åå•ï¼Œåˆ™æ²¡æœ‰æƒé™ã€‚<br>æ‰€ä»¥åªéœ€è¦æŠŠéœ€è¦é™åˆ¶æƒé™çš„ç”¨æˆ·åŠ å…¥åˆ°é»‘åå•å°±å¯ä»¥äº†ï¼Œç™½åå•ä¸éœ€è¦å•ç‹¬æ·»åŠ ç”¨æˆ·ï¼Œé™¤äº†ä¼˜å…ˆçº§å¤–ï¼Œæœ‰æƒé™çš„ç”¨æˆ·ä¸€èˆ¬éƒ½æ¯”é™åˆ¶æƒé™çš„ç”¨æˆ·å¤šï¼ŒåŠ é»‘åå•æ¯”è¾ƒæ–¹ä¾¿ã€‚</p><h3 id="crontabæ–‡ä»¶çš„å«ä¹‰"><a href="#crontabæ–‡ä»¶çš„å«ä¹‰" class="headerlink" title="crontabæ–‡ä»¶çš„å«ä¹‰"></a>crontabæ–‡ä»¶çš„å«ä¹‰</h3><p>ç”¨æˆ·æ‰€å»ºç«‹çš„crontabæ–‡ä»¶ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½ä»£è¡¨ä¸€æ¡ä»»åŠ¡ï¼Œæ¯è¡Œçš„æ¯ä¸ªå­—æ®µä»£è¡¨ä¸€é¡¹è®¾ç½®ï¼Œå®ƒçš„æ ¼å¼ä¸€å…±åˆ†ä¸ºå…­ä¸ªå­—æ®µï¼Œå‰äº”æ®µæ˜¯æ—¶é—´è®¾å®šæ®µï¼Œç¬¬å…­æ®µæ˜¯è¦æ‰§è¡Œçš„å‘½ä»¤æ®µï¼Œæ ¼å¼å¦‚ä¸‹ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* * * * * [æ‰§è¡Œçš„ä»»åŠ¡]</span><br></pre></td></tr></table></figure></p><p>é¡ºåºï¼š <code>miniute hour day month week command</code><br>å…¶ä¸­ï¼š</p><ul><li>minute:  ä¸€å°æ—¶å½“ä¸­çš„ç¬¬å‡ åˆ†é’Ÿ, èŒƒå›´0-59ä¹‹é—´çš„ä»»æ„æ•´æ•°</li><li>hour: ä¸€å¤©å½“ä¸­çš„ç¬¬å‡ ä¸ªå°æ—¶, èŒƒå›´æ˜¯0-23ä¹‹é—´çš„ä»»æ„æ•´æ•°</li><li>day: ä¸€ä¸ªæœˆå½“ä¸­çš„ç¬¬å‡ å¤©, èŒƒå›´æ˜¯1-31ä¹‹é—´çš„ä»»æ„æ•´æ•°</li><li>month: ä¸€å¹´å½“ä¸­çš„ç¬¬å‡ ä¸ªæœˆ, èŒƒå›´æ˜¯1-12ä¹‹é—´çš„ä»»æ„æ•´æ•°</li><li>week: ä¸€å‘¨å½“ä¸­çš„æ˜ŸæœŸå‡ , èŒƒå›´æ˜¯0-7(0å’Œ7éƒ½ä»£è¡¨æ˜ŸæœŸæ—¥)ä¹‹é—´çš„ä»»æ„æ•´æ•°</li><li>command: è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥æ˜¯ç³»ç»Ÿå‘½ä»¤ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå·±ç¼–å†™çš„è„šæœ¬æ–‡ä»¶</li></ul><p>ä»¥ä¸Šå„ä¸ªå­—æ®µä¸­ï¼Œ è¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼š</p><ul><li>æ˜Ÿå·<code>*</code>: ä»£è¡¨æ‰€æœ‰å¯èƒ½çš„å€¼ï¼Œæ¯”å¦‚minuteå­—æ®µä¸º<code>*</code>ä»£è¡¨æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</li><li>é€—å·<code>,</code>: é€—å·éš”å¼€çš„å€¼æŒ‡å®šä¸€ä¸ªåˆ—è¡¨èŒƒå›´ï¼Œæ¯”å¦‚: <code>1,2,3,5,6</code>,åˆ—è¡¨ä¸­çš„æ¯ä¸ªæ—¶é—´ç‚¹æ‰§è¡Œä¸€æ¬¡</li><li>ä¸­æ <code>-</code>: å¯ä»¥ç”¨æ•´æ•°ä¹‹é—´çš„ä¸­æ è¡¨ç¤ºä¸€ä¸ªæ•´æ•°èŒƒå›´ï¼Œå¦‚ï¼š<code>2-5</code>è¡¨ç¤º<code>2,3,4,5</code></li><li>æ­£æ–œçº¿<code>/</code>: æ­£æ–œçº¿æŒ‡å®šæ—¶é—´çš„é—´éš”é¢‘ç‡ï¼Œ å¦‚<code>0-23/2</code>è¡¨ç¤ºæ¯ä¸¤ä¸ªå°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œminuteå­—æ®µçš„<code>*/10</code>è¡¨ç¤ºæ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</li></ul><p><strong>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®å®šæ—¶ä»»åŠ¡:</strong><br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line"><span class="comment">#è¿›å…¥crontabç¼–è¾‘ç•Œé¢ã€‚ä¼šæ‰“å¼€vimç¼–è¾‘ï¼ŒæŒ‰åˆšæ‰çš„æ ¼å¼è®¾ç½®å®šæ—¶ä»»åŠ¡</span></span><br></pre></td></tr></table></figure></p><p>crontabå®šæ—¶ä»»åŠ¡å®ä¾‹ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* * * * * <span class="built_in">command</span><span class="comment"># æ¯ä¸€åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">3,15 * * * * <span class="built_in">command</span><span class="comment"># æ¯å°æ—¶å†…åœ¨ç¬¬3å’Œç¬¬5åˆ†é’Ÿæ‰§è¡Œ</span></span><br><span class="line">3,15 8-11 * * * <span class="built_in">command</span><span class="comment"># ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ</span></span><br><span class="line">3ï¼Œ15 8-11 */2 * * <span class="built_in">command</span><span class="comment">#æ¯éš”ä¸¤å¤©çš„ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬5åˆ†é’Ÿæ‰§è¡Œ</span></span><br><span class="line">3ï¼Œ15 8-11 * * 1 <span class="built_in">command</span><span class="comment">#æ¯ä¸ªæ˜ŸæœŸä¸€çš„ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬5åˆ†é’Ÿæ‰§è¡Œ</span></span><br><span class="line">30 21 * * * service /etc/init.d/smb restart <span class="comment">#æ¯æ™šçš„21:30é‡å¯smb</span></span><br><span class="line">45 4 1,10,22 * * /etc/init.d/smb restart  <span class="comment">#æ¯æœˆçš„1ã€10ã€22æ—¥é‡å¯smb</span></span><br><span class="line">30 4 * * 6,7 /etc/init.d/nginx restart <span class="comment">#æ²¡å‘¨å…­æ—¥çš„4:30é‡å¯nginx</span></span><br><span class="line">0,30 18-23 * * *  /etc/init.d/nginx restart  <span class="comment">#æ¯å¤©18:00è‡³23:00ä¹‹é—´æ¯éš”30åˆ†é’Ÿé‡å¯nginx, æ³¨æ„ï¼Œminuteçš„èŒƒå›´æ˜¯0-59ï¼Œæ¯éš”30åˆ†é’Ÿçš„å†™æ³•*/30å’Œ0,30çš„åŒºåˆ«</span></span><br><span class="line">0 23 * * 6 /etc/init.d/nginx restart <span class="comment">#æ¯å‘¨å…­æ™š11:00é‡å¯nginx</span></span><br><span class="line">0 */1 * * * /etc/init.d/nginx restart <span class="comment">#æ¯ä¸€å°æ—¶é‡å¯nginx</span></span><br><span class="line">0 23-7 * * * /etc /init.d/nginx restart <span class="comment">#æ™šä¸Š11ç‚¹åˆ°æ—©ä¸Š7ç‚¹ä¹‹é—´ï¼Œæ¯éš”ä¸€å°æ—¶é‡å¯nginx</span></span><br><span class="line">0 11 4 * 1-3 /etc/init.d/nginx restart <span class="comment">#æ¯æœˆçš„4å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰çš„11ç‚¹é‡å¯nginx</span></span><br><span class="line">0 * * * * root run-parts /etc/cron.hourly <span class="comment">#æ¯å°æ—¶æ‰§è¡Œ/etc/cron.hourlyç›®å½•å†…çš„è„šæœ¬</span></span><br></pre></td></tr></table></figure></p><p>å…¶ä»–å‘½ä»¤ï¼š</p><blockquote><p>crontab -l # æŸ¥è¯¢crontabä»»åŠ¡</p></blockquote><blockquote><p>crontab -r # æ¸…é™¤å½“å‰ç”¨æˆ·çš„æ‰€æœ‰crontabä»»åŠ¡</p></blockquote><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>å…­ä¸ªé€‰é¡¹éƒ½ä¸èƒ½ä¸ºç©ºï¼Œå¿…é¡»å¡«å†™ï¼Œå¦‚æœä¸ç¡®å®šä½¿ï¼Œç”¨<code>*</code>ä»£æ›¿ä»»æ„æ—¶é—´</li><li>crontabå®šæ—¶ä»»åŠ¡ï¼Œæœ€å°æœ‰æ•ˆæ—¶é—´æ˜¯åˆ†é’Ÿï¼Œæœ€å¤§æ—¶é—´èŒƒå›´æ˜¯æœˆ</li><li>åœ¨å®šä¹‰æ—¶é—´æ—¶ï¼Œæ—¥æœŸå’Œæ˜ŸæœŸæœ€å¥½ä¸è¦åœ¨ä¸€æ¡å®šæ—¶ä»»åŠ¡ä¸­å‡ºç°ï¼Œå› ä¸ºä»–ä»¬éƒ½æ˜¯ä»¥å¤©ä¸ºå•ä½ï¼Œä¸åˆ©äºç®¡ç†å‘˜ç®¡ç†</li><li>åœ¨å®šæ—¶ä»»åŠ¡ä¸­ï¼Œä¸ç®¡æ˜¯ç›´æ¥å†™å‘½ä»¤ï¼Œè¿˜æ˜¯åœ¨è„šæœ¬ä¸­å†™å‘½ä»¤ï¼Œæœ€å¥½éƒ½ç”¨ç»å¯¹è·¯å¾„</li></ul><h2 id="anacroné…ç½®"><a href="#anacroné…ç½®" class="headerlink" title="anacroné…ç½®"></a>anacroné…ç½®</h2><p>anacronä¼šè‡ªåŠ¨æ‰§è¡Œå› ä¸ºå…³æœºç­‰æ•…éšœæ²¡æœ‰æ‰§è¡Œçš„å®šæ—¶ä»»åŠ¡ï¼Œåªä¼šæ£€æµ‹<code>/etc/cron.{daily,weekly,montyly}</code>ç›®å½•ï¼Œè€Œä¸ä¼šæ£€æµ‹<code>crontab -e</code>è®¾ç½®çš„å®šæ—¶ä»»åŠ¡</p><h3 id="anacronæ£€æµ‹å‘¨æœŸ"><a href="#anacronæ£€æµ‹å‘¨æœŸ" class="headerlink" title="anacronæ£€æµ‹å‘¨æœŸ"></a>anacronæ£€æµ‹å‘¨æœŸ</h3><ul><li>anacronä¼šä½¿ç”¨ä¸€å¤©ï¼Œä¸ƒå¤©ï¼Œä¸€ä¸ªæœˆä½œä¸ºæ£€æµ‹å‘¨æœŸ</li><li>åœ¨ç³»ç»Ÿçš„<code>/var/spool/anacron</code>ç›®å½•ä¸­å­˜åœ¨<code>cron.{daily,weekly,montyly}</code>æ–‡ä»¶ï¼Œç”¨äºè®°å½•ä¸Šæ¬¡æ‰§è¡Œcrontabçš„æ—¶é—´</li><li>å’Œå½“å‰æ—¶é—´åšæ¯”è¾ƒï¼Œå¦‚æœä¸¤ä¸ªæ—¶é—´çš„å·®å€¼è¶…è¿‡äº†anacronçš„æŒ‡å®šæ—¶é—´å·®å€¼ï¼Œè¯æ˜æœ‰cronä»»åŠ¡å‘—æ¼æ‰§è¡Œ</li></ul><h4 id="etc-anacrontabé…ç½®æ–‡ä»¶"><a href="#etc-anacrontabé…ç½®æ–‡ä»¶" class="headerlink" title="/etc/anacrontabé…ç½®æ–‡ä»¶"></a><code>/etc/anacrontab</code>é…ç½®æ–‡ä»¶</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /etc/anacrontab: configuration file for anacron</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># See anacron(8) and anacrontab(5) for details.</span></span><br><span class="line"></span><br><span class="line">SHELL=/bin/sh</span><br><span class="line">PATH=/sbin:/bin:/usr/sbin:/usr/bin</span><br><span class="line">MAILTO=root</span><br><span class="line"><span class="comment"># the maximal random delay added to the base delay of the jobs</span></span><br><span class="line">RANDOM_DELAY=45</span><br><span class="line"><span class="comment"># the jobs will be started during the following hours only</span></span><br><span class="line">START_HOURS_RANGE=3-22</span><br><span class="line"></span><br><span class="line"><span class="comment">#period in days   delay in minutes   job-identifier   command</span></span><br><span class="line">1   5   cron.daily      nice run-parts /etc/cron.daily</span><br><span class="line">7   25  cron.weekly     nice run-parts /etc/cron.weekly</span><br><span class="line">@monthly 45 cron.monthly        nice run-parts /etc/cron.monthly</span><br></pre></td></tr></table></figure><h4 id="cron-dailyå·¥ä½œæ‰§è¡Œè¿‡ç¨‹"><a href="#cron-dailyå·¥ä½œæ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="cron.dailyå·¥ä½œæ‰§è¡Œè¿‡ç¨‹"></a>cron.dailyå·¥ä½œæ‰§è¡Œè¿‡ç¨‹</h4><ul><li>é¦–å…ˆè¯»å–<code>/var/spool/anacron/cron.daily</code>ä¸­çš„ä¸Šä¸€æ¬¡anacronæ‰§è¡Œçš„æ—¶é—´</li><li>å’Œå½“å‰æ—¶é—´åšæ¯”è¾ƒï¼Œå¦‚æœä¸¤ä¸ªæ—¶é—´çš„å·®å€¼è¶…è¿‡ä¸€å¤©ï¼Œå°±æ‰§è¡Œcron.dailyå·¥ä½œ</li><li>æ‰§è¡Œè¿™ä¸ªå·¥ä½œåªèƒ½åœ¨03:00-22:00ä¹‹é—´</li><li>æ‰§è¡Œå·¥ä½œæ—¶å¼ºåˆ¶å»¶è¿Ÿæ—¶é—´ä¸º5åˆ†é’Ÿï¼Œå†éšæœºå»¶è¿Ÿ0-45åˆ†é’Ÿæ—¶é—´</li><li>ä½¿ç”¨<code>nice</code>å‘½ä»¤æŒ‡å®šé»˜è®¤ä¼˜å…ˆçº§ï¼Œä½¿ç”¨<code>run-parts</code>è„šæœ¬æ‰§è¡Œ<code>/etc/cron.daily</code>ç›®å½•ä¸­çš„æ‰€æœ‰å¯æ‰§è¡Œæ–‡ä»¶</li></ul><h3 id="crontabå®ä¾‹"><a href="#crontabå®ä¾‹" class="headerlink" title="crontabå®ä¾‹"></a>crontabå®ä¾‹</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥crondæœåŠ¡æ˜¯å¦å®‰è£…</span></span><br><span class="line">yum list cronie &amp;&amp; systemctl status crond</span><br><span class="line"><span class="comment"># æ£€æŸ¥crontabå·¥å…·æ˜¯å¦å®‰è£…</span></span><br><span class="line">yum list crontabs &amp;&amp; <span class="built_in">which</span> crontab &amp;&amp; crontab -l</span><br></pre></td></tr></table></figure><p><em>systemctl æ˜¯ç±»ä¼¼serviceçš„ä¸€ä¸ªå‘½ä»¤ï¼Œå¯ä»¥ä»£æ›¿</em></p><ul><li>cronæ—¥å¿—<br>cronæ—¥å¿—ä¿å­˜åœ¨<code>/var/log/cron</code><br>æŸ¥çœ‹æ—¥å¿—ï¼š<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -n 2 /var/<span class="built_in">log</span>/cron</span><br></pre></td></tr></table></figure></li></ul><p>æ¸…ç†æ—¥å¿—ç³»ç»Ÿ<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®šæ—¶ä»»åŠ¡æ¸…ç†æ—¥å¿—</span></span><br><span class="line">/dev/null &gt; /var/<span class="built_in">log</span>/shadowsocks.log</span><br></pre></td></tr></table></figure></p>]]></content><categories><category> åç«¯ </category></categories><tags><tag> linux </tag><tag> bash </tag><tag> crontab </tag></tags></entry><entry><title>[è½¬è½½]mongodbå¸¸ç”¨æŸ¥è¯¢è¯­å¥</title><link href="/mongodb-searchs.html"/><url>/mongodb-searchs.html</url><content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹MongoDBå¸¸ç”¨è¯­å¥ï¼Œé¡ºå¸¦ä¸SQLåšä¸ªç®€å•çš„å¯¹æ¯”ã€‚</p><a id="more"></a><p>1ã€æŸ¥è¯¢(find)</p><p>ï¼ˆ1ï¼‰æŸ¥è¯¢æ‰€æœ‰ç»“æœ<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * <span class="keyword">from</span> article</span><br><span class="line">db.article.<span class="builtin-name">find</span>()</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ2ï¼‰æŒ‡å®šè¿”å›å“ªäº›é”®<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select title, author <span class="keyword">from</span> article</span><br><span class="line">db.article.<span class="builtin-name">find</span>(&#123;&#125;, &#123;<span class="string">"title"</span>: 1, <span class="string">"author"</span>: 1&#125;)</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ3ï¼‰whereæ¡ä»¶<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> article <span class="keyword">where</span> title = <span class="string">"mongodb"</span></span><br><span class="line">db.article.find(&#123;<span class="string">"title"</span>: <span class="string">"mongodb"</span>&#125;)</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ4ï¼‰andæ¡ä»¶<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> article <span class="keyword">where</span> title = <span class="string">"mongodb"</span> and author = <span class="string">"god"</span></span><br><span class="line">db.article.find(&#123;<span class="string">"title"</span>: <span class="string">"mongodb"</span>, <span class="string">"author"</span>: <span class="string">"god"</span>&#125;)</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ5ï¼‰oræ¡ä»¶<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * <span class="keyword">from</span> article where title = <span class="string">"mongodb"</span><span class="keyword">or</span> author = <span class="string">"god"</span></span><br><span class="line">db.article.<span class="builtin-name">find</span>(&#123;<span class="string">"<span class="variable">$or</span>"</span>: [&#123;<span class="string">"title"</span>: <span class="string">"mongodb"</span>&#125;, &#123;<span class="string">"author"</span>: <span class="string">"god"</span>&#125;]&#125;)</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ6ï¼‰æ¯”è¾ƒæ¡ä»¶<br><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> article <span class="keyword">where</span><span class="keyword">read</span> &gt;= <span class="number">100</span>;</span><br><span class="line">db.article.find(&#123;"read": &#123;"$gt": <span class="number">100</span>&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>$gt(&gt;)ã€$gte(&gt;=)ã€$lt(&lt;)ã€$lte(&lt;=)<br><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> article <span class="keyword">where</span><span class="keyword">read</span> &gt;= <span class="number">100</span><span class="keyword">and</span><span class="keyword">read</span> &lt;= <span class="number">200</span></span><br><span class="line">db.article.find(&#123;"read": &#123;"$gte": <span class="number">100</span>, "lte": <span class="number">200</span>&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ7ï¼‰inæ¡ä»¶<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * <span class="keyword">from</span> article where author <span class="keyword">in</span> (<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>)</span><br><span class="line">db.article.<span class="builtin-name">find</span>(&#123;<span class="string">"author"</span>: &#123;<span class="string">"<span class="variable">$in</span>"</span>: [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>]&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ8ï¼‰like<br><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> article <span class="keyword">where</span> title <span class="keyword">like</span> "%mongodb%"</span><br><span class="line">db.article.find(&#123;"title": /mongodb/&#125;)</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ9ï¼‰count<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span><span class="built_in">count</span>(*) <span class="keyword">from</span> article</span><br><span class="line">db.article.<span class="built_in">count</span>()</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ10ï¼‰ä¸ç­‰äº<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * <span class="keyword">from</span> article where author != <span class="string">"a"</span></span><br><span class="line">db.article.<span class="builtin-name">find</span>(&#123; <span class="string">"author"</span>: &#123; <span class="string">"<span class="variable">$ne</span>"</span>: <span class="string">"a"</span> &#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ11ï¼‰æ’åº<br>å‡åºï¼š<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * <span class="keyword">from</span> article where<span class="built_in"> type </span>= <span class="string">"mongodb"</span> order by read desc</span><br><span class="line">db.article.<span class="builtin-name">find</span>(&#123;<span class="string">"type"</span>: <span class="string">"mongodb"</span>&#125;).sort(&#123;<span class="string">"read"</span>: -1&#125;)</span><br></pre></td></tr></table></figure></p><p>é™åºï¼š<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * <span class="keyword">from</span> article where<span class="built_in"> type </span>= <span class="string">"mongodb"</span> order by read asc</span><br><span class="line">db.article.<span class="builtin-name">find</span>(&#123;<span class="string">"type"</span>: <span class="string">"mongodb"</span>&#125;).sort(&#123;<span class="string">"read"</span>: 1&#125;)</span><br></pre></td></tr></table></figure></p><p>findOne()ï¼šé™¤äº†åªè¿”å›ä¸€ä¸ªæŸ¥è¯¢ç»“æœå¤–ï¼Œä½¿ç”¨æ–¹æ³•ä¸find()ä¸€æ ·ã€‚<br>2ã€åˆ›å»ºï¼ˆinsertï¼‰<br><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span><span class="keyword">into</span> article(title, author, content) <span class="keyword">values</span>("mongodb", "tg", "haha")</span><br><span class="line">db.article.<span class="keyword">insert</span>(&#123;"title": "mongodb", "author": "tg", "content": "haha"&#125;)</span><br></pre></td></tr></table></figure></p><p>3ã€æ›´æ–°ï¼ˆupdateï¼‰</p><p>ï¼ˆ1ï¼‰update()</p><p>è¯­æ³•ï¼š<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">db</span>.collecion.<span class="keyword">update</span>(<span class="keyword">query</span>, <span class="keyword">update</span>[, options] )</span><br></pre></td></tr></table></figure></p><p>query : å¿…é€‰ï¼ŒæŸ¥è¯¢æ¡ä»¶ï¼Œç±»ä¼¼findä¸­çš„æŸ¥è¯¢æ¡ä»¶ã€‚<br>update : å¿…é€‰ï¼Œupdateçš„å¯¹è±¡å’Œä¸€äº›æ›´æ–°çš„æ“ä½œç¬¦ï¼ˆå¦‚$,$incâ€¦ï¼‰ç­‰<br>optionsï¼šå¯é€‰ï¼Œä¸€äº›æ›´æ–°é…ç½®çš„å¯¹è±¡ã€‚<br>upsertï¼šå¯é€‰ï¼Œè¿™ä¸ªå‚æ•°çš„æ„æ€æ˜¯ï¼Œå¦‚æœä¸å­˜åœ¨updateçš„è®°å½•ï¼Œæ˜¯å¦æ’å…¥objNew,trueä¸ºæ’å…¥ï¼Œé»˜è®¤æ˜¯falseï¼Œä¸æ’å…¥ã€‚<br>multiï¼šå¯é€‰ï¼Œmongodb é»˜è®¤æ˜¯false,åªæ›´æ–°æ‰¾åˆ°çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œå¦‚æœè¿™ä¸ªå‚æ•°ä¸ºtrue,å°±æŠŠæŒ‰æ¡ä»¶æŸ¥å‡ºæ¥å¤šæ¡è®°å½•å…¨éƒ¨æ›´æ–°ã€‚<br>writeConcernï¼šå¯é€‰ï¼ŒæŠ›å‡ºå¼‚å¸¸çš„çº§åˆ«ã€‚</p><p>ç®€å•æ›´æ–°ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">update article <span class="built_in">set</span> title = <span class="string">"mongodb"</span><span class="built_in">where</span><span class="built_in">read</span> &gt; 100</span><br><span class="line">db.article.update(&#123;<span class="string">"read"</span>: &#123;<span class="string">"<span class="variable">$gt</span>"</span>: 100&#125;&#125;, &#123;<span class="string">"<span class="variable">$set</span>"</span>: &#123; <span class="string">"title"</span>: <span class="string">"mongodb"</span>&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ2ï¼‰save()<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.article</span><span class="selector-class">.save</span>(&#123;<span class="attribute">_id</span>: <span class="number">123</span>, title: <span class="string">"mongodb"</span>&#125;)</span><br></pre></td></tr></table></figure></p><p>æ‰§è¡Œä¸Šé¢çš„è¯­å¥ï¼Œå¦‚æœé›†åˆä¸­å·²ç»å­˜åœ¨ä¸€ä¸ª_idä¸º123çš„æ–‡æ¡£ï¼Œåˆ™æ›´æ–°å¯¹åº”å­—æ®µ;å¦åˆ™æ’å…¥ã€‚</p><p>æ³¨ï¼šå¦‚æœæ›´æ–°å¯¹è±¡ä¸å­˜åœ¨_idï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆå¹¶ä½œä¸ºæ–°çš„æ–‡æ¡£æ’å…¥ã€‚</p><p>ï¼ˆ3ï¼‰æ›´æ–°æ“ä½œç¬¦</p><p>MongoDBæä¾›ä¸€äº›å¼ºå¤§çš„æ›´æ–°æ“ä½œç¬¦ã€‚</p><p>æ›´æ–°ç‰¹å®šå­—æ®µï¼ˆ$setï¼‰ï¼š<br><figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> game <span class="built_in">set</span><span class="built_in">count</span> = <span class="number">10000</span><span class="built_in">where</span> _id = <span class="number">123</span></span><br><span class="line">db.game.<span class="keyword">update</span>(&#123;<span class="string">"_id"</span>: <span class="number">123</span>&#125;, &#123; <span class="string">"$set"</span>: &#123;<span class="string">"count"</span>: <span class="number">10000</span>&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>åˆ é™¤ç‰¹å®šå­—æ®µï¼ˆ$unsetï¼‰ï¼š<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">db</span>.game.<span class="keyword">update</span>(&#123;<span class="string">"_id"</span>:123&#125;, &#123;<span class="string">"$unset"</span>: &#123;<span class="string">"author"</span>:1&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>æ³¨ï¼š$unsetæŒ‡å®šå­—æ®µçš„å€¼åªéœ€æ˜¯ä»»æ„åˆæ³•å€¼å³å¯ã€‚</p><p>é€’å¢æˆ–é€’å‡ï¼ˆ$incï¼‰<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">db</span>.game.<span class="keyword">update</span>(&#123;<span class="string">"_id"</span>: 123&#125;, &#123; <span class="string">"$inc"</span>: &#123;<span class="string">"count"</span>: 10&#125;&#125;) <span class="comment">// æ¯æ¬¡countéƒ½åŠ 10</span></span><br></pre></td></tr></table></figure></p><p>æ³¨æ„ï¼š$incå¯¹åº”çš„å­—æ®µå¿…é¡»æ˜¯æ•°å­—ï¼Œè€Œä¸”é€’å¢æˆ–é€’å‡çš„å€¼ä¹Ÿå¿…é¡»æ˜¯æ•°å­—ã€‚</p><p>æ•°ç»„è¿½åŠ ï¼ˆ$pushï¼‰ï¼š<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">db</span>.game.<span class="keyword">update</span>(&#123;<span class="string">"_id"</span>: 123&#125;, &#123; <span class="string">"$push"</span>: &#123;<span class="string">"score"</span>: 123&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>è¿˜å¯ä»¥ä¸€æ¬¡è¿½åŠ å¤šä¸ªå…ƒç´ ï¼š<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">db</span>.game.<span class="keyword">update</span>(&#123;<span class="string">"_id"</span>: 123&#125;, &#123;<span class="string">"$push"</span>: &#123;<span class="string">"score"</span>: [12,123]&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>æ³¨ï¼šè¿½åŠ å­—æ®µå¿…é¡»æ˜¯æ•°ç»„ã€‚å¦‚æœæ•°ç»„å­—æ®µä¸å­˜åœ¨ï¼Œåˆ™è‡ªåŠ¨æ–°å¢ï¼Œç„¶åè¿½åŠ ã€‚</p><p>ä¸€æ¬¡è¿½åŠ å¤šä¸ªå…ƒç´ ï¼ˆ$pushAllï¼‰ï¼š<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">db</span>.game.<span class="keyword">update</span>(&#123;<span class="string">"_id"</span>: 123&#125;, &#123;<span class="string">"$pushAll"</span>: &#123;<span class="string">"score"</span>: [12,123]&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>è¿½åŠ ä¸é‡å¤å…ƒç´ ï¼ˆ$addToSetï¼‰ï¼š<br>$addToSetç±»ä¼¼é›†åˆSetï¼Œåªæœ‰å½“è¿™ä¸ªå€¼ä¸åœ¨å…ƒç´ å†…æ—¶æ‰å¢åŠ ï¼š<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">db</span>.game.<span class="keyword">update</span>(&#123;<span class="string">"_id"</span>: 123&#125;, &#123;<span class="string">"$addToSet"</span>: &#123;<span class="string">"score"</span>: 123&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>åˆ é™¤å…ƒç´ ï¼ˆ$popï¼‰ï¼š<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">db</span>.game.<span class="keyword">update</span>(&#123;<span class="string">"_id"</span>: 123&#125;, &#123;<span class="string">"$pop"</span>: &#123;<span class="string">"score"</span>: 1&#125;&#125;)  <span class="comment">// åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="keyword">db</span>.game.<span class="keyword">update</span>(&#123;<span class="string">"_id"</span>: 123&#125;, &#123;<span class="string">"$pop"</span>: &#123;<span class="string">"score"</span>: -1&#125;&#125;)  <span class="comment">// åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br></pre></td></tr></table></figure></p><p>æ³¨ï¼š$popæ¯æ¬¡åªèƒ½åˆ é™¤æ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œ1è¡¨ç¤ºåˆ é™¤æœ€åä¸€ä¸ªï¼Œ-1è¡¨ç¤ºåˆ é™¤ç¬¬ä¸€ä¸ªã€‚</p><p>åˆ é™¤ç‰¹å®šå…ƒç´ ï¼ˆ$pullï¼‰ï¼š<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">db</span>.game.<span class="keyword">update</span>(&#123;<span class="string">"_id"</span>: 123&#125;, &#123;<span class="string">"$pull"</span>: &#123;<span class="string">"score"</span>: 123&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢çš„è¯­å¥è¡¨ç¤ºåˆ é™¤æ•°ç»„scoreå†…å€¼ç­‰äº123çš„å…ƒç´ ã€‚</p><p>åˆ é™¤å¤šä¸ªç‰¹å®šå…ƒç´ ï¼ˆ$pullAllï¼‰ï¼š<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">db</span>.game.<span class="keyword">update</span>(&#123;<span class="string">"_id"</span>: 123&#125;, &#123;<span class="string">"$pullAll"</span>: &#123;<span class="keyword">score</span>: [123,12]&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢çš„è¯­å¥è¡¨ç¤ºåˆ é™¤æ•°ç»„å†…å€¼ç­‰äº123æˆ–12çš„å…ƒç´ ã€‚</p><p>æ›´æ–°åµŒå¥—æ•°ç»„çš„å€¼ï¼š</p><p>ä½¿ç”¨æ•°ç»„ä¸‹æ ‡ï¼ˆä»0å¼€å§‹ï¼‰ï¼š<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  addres<span class="variable">s:</span> [&#123;place: <span class="string">"nanji"</span>, <span class="keyword">te</span><span class="variable">l:</span><span class="number">123</span>&#125;, &#123;place: <span class="string">"dongbei"</span>, <span class="keyword">te</span><span class="variable">l:</span><span class="number">321</span>&#125;]</span><br><span class="line">&#125;</span><br><span class="line">db.game.<span class="keyword">update</span>(&#123;<span class="string">"_id"</span>: <span class="number">123</span>&#125;, &#123;<span class="string">"$set"</span>: &#123;<span class="string">"address.0.tel"</span>: <span class="number">213</span>&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä½ ä¸çŸ¥é“è¦æ›´æ–°æ•°ç»„å“ªé¡¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨$æ“ä½œç¬¦ï¼ˆ $è¡¨ç¤ºè‡ªèº«ï¼Œä¹Ÿå°±æ˜¯æŒ‰æŸ¥è¯¢æ¡ä»¶æ‰¾å‡ºçš„æ•°ç»„é‡Œé¢çš„é¡¹è‡ªèº«ï¼Œè€Œä¸”åªä¼šåº”ç”¨æ‰¾åˆ°çš„ç¬¬ä¸€æ¡æ•°ç»„é¡¹ï¼‰ï¼š<br><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.game.update(&#123;<span class="string">"address.place"</span>: <span class="string">"nanji"</span>&#125;, &#123;<span class="string">"<span class="variable">$set</span>"</span>: &#123;<span class="string">"address.<span class="variable">$</span>.tel"</span>: <span class="number">123</span>&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>åœ¨ä¸Šé¢çš„è¯­å¥ä¸­ï¼Œ$å°±æ˜¯æŸ¥è¯¢æ¡ä»¶<code>{&quot;address.place&quot;: &quot;nanji&quot;}</code>çš„æŸ¥è¯¢ç»“æœï¼Œä¹Ÿå°±æ˜¯<code>{place: &quot;nanji&quot;, tel: 123}</code>ï¼Œæ‰€ä»¥<code>{&quot;address.$.tel&quot;: 123}</code>ä¹Ÿå°±æ˜¯<code>{&quot;address.{place: &quot;nanji&quot;, tel: 123}.tel&quot;: 123}</code></p><p>4ã€åˆ é™¤ï¼ˆremoveï¼‰<br>åˆ é™¤æ‰€æœ‰æ–‡æ¡£ï¼š<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">delete <span class="keyword">from</span> article</span><br><span class="line">db.article.<span class="builtin-name">remove</span>()</span><br></pre></td></tr></table></figure></p><p>åˆ é™¤æŒ‡å®šæ–‡æ¡£ï¼š<br><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">delete</span><span class="meta">from</span> article <span class="meta">where</span><span class="meta">title</span> = <span class="string">"mongodb"</span></span><br><span class="line">db.article.<span class="meta">remove</span>(&#123;<span class="meta">title</span>: <span class="string">"mongodb"</span>&#125;)</span><br></pre></td></tr></table></figure></p><p>MongoDBç‰¹æœ‰çš„è¯­å¥</p><ol><li>æ•°ç»„æŸ¥è¯¢<br>ï¼ˆ1ï¼‰æ•°ç»„çš„æ™®é€šæŸ¥è¯¢<br>å‡å¦‚typeæ˜¯[â€œmongodbâ€, â€œjavascriptâ€]ï¼š<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.article.<span class="builtin-name">find</span>(&#123;<span class="string">"type"</span>: <span class="string">"mongodb"</span>&#125;)</span><br></pre></td></tr></table></figure></li></ol><p>ä¸Šé¢çš„è¯­å¥å¯ä»¥åŒ¹é…æˆåŠŸã€‚</p><p>ï¼ˆ2ï¼‰å¤šä¸ªå…ƒç´ çš„æŸ¥è¯¢<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.article.<span class="builtin-name">find</span>(&#123;<span class="string">"type"</span>: &#123;<span class="string">"<span class="variable">$all</span>"</span>: [<span class="string">"mongodb"</span>, <span class="string">"javascript"</span>]&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>åªæœ‰typeæ•°ç»„åŒæ—¶å­˜åœ¨mongodbå’Œjavascriptæ‰ä¼šåŒ¹é…ã€‚</p><p>ï¼ˆ3ï¼‰é™åˆ¶æ•°ç»„é•¿åº¦æŸ¥è¯¢<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.article.<span class="builtin-name">find</span>(&#123;<span class="string">"type"</span>: &#123;<span class="string">"<span class="variable">$size</span>"</span>: 2&#125;&#125;)</span><br></pre></td></tr></table></figure></p><p>åªæœ‰æ•°ç»„çš„é•¿åº¦æ˜¯2æ‰ä¼šåŒ¹é…</p><p>æ³¨ï¼štypeå¿…é¡»æ˜¯æ•°ç»„</p><p>ï¼ˆ4ï¼‰è¿”å›ç‰¹å®šæ•°é‡</p><p>å½“$sliceçš„å‚æ•°æ˜¯ä¸€ä¸ªæ—¶ï¼Œè¡¨ç¤ºè¿”å›çš„æ•°é‡;å½“æ˜¯ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºåç§»é‡ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºè¿”å›çš„æ•°é‡ï¼š<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.article.<span class="built_in">find</span>(&#123;<span class="string">"type"</span>: &#123;<span class="string">"$slice"</span>: <span class="number">1</span>&#125;&#125;) <span class="comment">// è¿”å›ç¬¬1ä¸ª</span></span><br><span class="line">db.article.<span class="built_in">find</span>(&#123;<span class="string">"type"</span>: &#123;<span class="string">"$slice"</span>: <span class="number">-1</span>&#125;&#125;)  <span class="comment">// è¿”å›æœ€åä¸€ä¸ª</span></span><br><span class="line">db.article.<span class="built_in">find</span>(&#123;<span class="string">"type"</span>: &#123;<span class="string">"$slice"</span>: [<span class="number">20</span>, <span class="number">10</span>]&#125;&#125;)  <span class="comment">// ä»ç¬¬21ä¸ªå¼€å§‹ï¼Œè¿”å›10ä¸ªï¼Œä¹Ÿå°±æ˜¯21ï½30</span></span><br></pre></td></tr></table></figure></p><p>æ³¨ï¼š$sliceé’ˆå¯¹çš„æ˜¯æ•°ç»„</p><p>ï¼ˆ5ï¼‰å…ƒç´ åŒ¹é…</p><p>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä¸€ä¸ªå­—æ®µçš„å€¼æ˜¯æ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨$elemMatchæ¥åŒ¹é…æ•°ç»„å†…çš„å…ƒç´ ï¼š<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="attr">kown:</span><span class="string">[&#123;</span><span class="attr">a:</span><span class="number">2</span><span class="string">,</span><span class="attr">b:</span><span class="number">4</span><span class="string">&#125;,</span><span class="number">10</span><span class="string">,</span><span class="string">&#123;</span><span class="attr">a:</span><span class="number">4</span><span class="string">&#125;,</span><span class="string">&#123;b:10&#125;]</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">db.article.find(&#123;"kown":</span><span class="string">&#123;</span><span class="string">"$elemMatch"</span><span class="string">:</span><span class="string">&#123;a:</span><span class="number">1</span><span class="string">,</span><span class="attr">b:</span><span class="string">&#123;"$gt":</span><span class="number">2</span><span class="string">&#125;&#125;&#125;&#125;)</span></span><br></pre></td></tr></table></figure></p><p>åªæœ‰a=1ä¸”b&gt;2æ‰ä¼šåŒ¹é…ã€‚</p><ol start="2"><li><p>å–æ¨¡ï¼ˆ$modï¼‰<br>æ¯”å¦‚æˆ‘ä»¬è¦åŒ¹é… read % 5 == 1ï¼š</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.article.<span class="builtin-name">find</span>(&#123;<span class="string">"read"</span>: &#123;<span class="variable">$mod</span>: [5, 1]&#125;&#125;)</span><br></pre></td></tr></table></figure></li><li><p>æ˜¯å¦å­˜åœ¨ï¼ˆ$exists)<br>å¦‚æœæˆ‘ä»¬è¦åˆ¤æ–­loveå­—æ®µæ˜¯å¦å­˜åœ¨ï¼Œå¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.article.<span class="built_in">find</span>(&#123;<span class="string">"love"</span>: &#123;<span class="string">"$exists"</span>: <span class="literal">true</span>&#125;&#125;)  <span class="comment">// å¦‚æœå­˜åœ¨å­—æ®µloveï¼Œå°±è¿”å›</span></span><br></pre></td></tr></table></figure></li></ol><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ¤æ–­ä¸å­˜åœ¨ï¼š<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.article.<span class="built_in">find</span>(&#123;<span class="string">"love"</span>: &#123;<span class="string">"$exists"</span>: <span class="literal">false</span>&#125;&#125;) <span class="comment">// å¦‚æœä¸å­˜åœ¨å­—æ®µloveï¼Œå°±è¿”å›</span></span><br></pre></td></tr></table></figure></p><ol start="4"><li>æ­£åˆ™è¡¨è¾¾å¼</li></ol><p>mongodbæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œä½¿ç”¨æ–¹æ³•ä¸æ­£åˆ™å­—é¢é‡ä¸€æ ·ï¼š<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.article.<span class="keyword">find</span>(&#123;<span class="string">"title"</span>: <span class="regexp">/mongodb/i</span>&#125;)  <span class="comment">// iæ˜¯å¿½ç•¥å¤§å°å†™</span></span><br></pre></td></tr></table></figure></p><ol start="5"><li>ç±»å‹æŸ¥è¯¢<br>æˆ‘ä»¬å¯ä»¥æ ¹æ®å­—æ®µç±»å‹æ¥è¿”å›æ•°æ®ï¼š<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.article.<span class="builtin-name">find</span>(&#123;<span class="string">"comments"</span>: &#123;<span class="string">"<span class="variable">$type</span>"</span>: 4&#125;&#125;)</span><br></pre></td></tr></table></figure></li></ol><p>åªæœ‰å½“commentsçš„ç±»å‹æ˜¯æ•°ç»„æ‰åŒ¹é…</p><p>æ³¨ï¼šæ›´å¤šç±»å‹çš„æ•°å€¼å¯ä»¥å‚è€ƒè¿™é‡Œï¼šmongodb $type</p><ol start="6"><li>å†…åµŒæ–‡æ¡£<br>mongodbæ˜¯å…è®¸å†…åµŒæ–‡æ¡£çš„ï¼Œè€Œä¸”è¦æŸ¥è¯¢å†…åµŒæ–‡æ¡£ä¹Ÿå¾ˆç®€å•ï¼ˆä½¿ç”¨ç‚¹è¯­æ³•ï¼‰ï¼š<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  address: &#123; name: <span class="string">"nanji"</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line">db.article.<span class="builtin-name">find</span>(&#123;<span class="string">"address.name"</span>: <span class="string">"nanji"</span>&#125;)</span><br></pre></td></tr></table></figure></li></ol><p>ä¸Šé¢çš„è¯­å¥æ˜¯æŸ¥è¯¢commentsä¸­çš„authorã€‚</p><p>æ•°ç»„ä¹Ÿå¯ä»¥é‡‡å–ç‚¹è¯­æ³•:<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="symbol">  comments:</span> [&#123;<span class="string">title:</span><span class="string">"mongodb"</span>&#125;, &#123;<span class="string">title:</span><span class="string">"javascript"</span>&#125;]</span><br><span class="line">&#125;</span><br><span class="line">db.article.find(&#123;<span class="string">"comments.title"</span>: <span class="string">"mongodb"</span>&#125;)</span><br></pre></td></tr></table></figure></p><ol start="7"><li>å–å<br>$notæ˜¯å…ƒè¯­å¥ï¼Œå³å¯ä»¥ç”¨åœ¨ä»»ä½•å…¶ä»–æ¡ä»¶ä¹‹ä¸Šï¼š<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.article.<span class="builtin-name">find</span>(&#123;<span class="string">"author"</span>: &#123;<span class="string">"<span class="variable">$not</span>"</span>: /mongodb/i&#125;&#125;)</span><br></pre></td></tr></table></figure></li></ol><p>åªè¦ä½¿ç”¨$notæ“ä½œç¬¦ï¼Œå°±è¡¨ç¤ºå–åã€‚</p><p>MongoDBå¸¸ç”¨æ–¹æ³•</p><ol><li>æ§åˆ¶è¿”å›æ•°é‡ï¼ˆlimitï¼‰<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.article</span><span class="selector-class">.find</span>()<span class="selector-class">.limit</span>(10)</span><br></pre></td></tr></table></figure></li></ol><p>è¿”å›10æ¡æ•°æ®</p><ol start="2"><li>ç•¥è¿‡æ•°é‡<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.article</span><span class="selector-class">.find</span>()<span class="selector-class">.skip</span>(5)</span><br></pre></td></tr></table></figure></li></ol><p>ç•¥è¿‡å‰5æ¡æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä»ç¬¬6æ¡å¼€å§‹è¿”å›ã€‚</p><p>å¯ä»¥ç»“åˆlimit()å’Œskip()æ¥è¾¾åˆ°åˆ†é¡µæ•ˆæœï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * <span class="keyword">from</span> article limit <span class="number">10</span>, <span class="number">20</span></span><br><span class="line">db.article.find().skip(<span class="number">10</span>).limit(<span class="number">20</span>)</span><br></pre></td></tr></table></figure></p><ol start="3"><li>ç»Ÿè®¡</li></ol><p>è¿”å›åŒ¹é…æ•°æ®çš„é•¿åº¦ï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.article</span><span class="selector-class">.find</span>()<span class="selector-class">.count</span>()</span><br></pre></td></tr></table></figure></p><ol start="4"><li><p>æ ¼å¼åŒ–<br>pretty()æ–¹æ³•å¯ä»¥ä»¥æ ¼å¼åŒ–çš„æ–¹å¼æ˜¾ç¤ºæ‰€æœ‰æ–‡æ¡£ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.article</span><span class="selector-class">.find</span>()<span class="selector-class">.pretty</span>()</span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤é›†åˆ<br>å½“ä½ è¦åˆ é™¤ä¸€ä¸ªé›†åˆä¸­çš„æ‰€æœ‰æ–‡æ¡£æ—¶ï¼Œç›´æ¥åˆ é™¤ä¸€ä¸ªé›†åˆæ•ˆç‡ä¼šæ›´é«˜ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.article</span><span class="selector-class">.drop</span>()</span><br></pre></td></tr></table></figure></li></ol><p>åŸæ–‡: <a href="http://ghmagical.com/article/page/id/Bj7qgmJ3CJUE" target="_blank" rel="noopener">http://ghmagical.com/article/page/id/Bj7qgmJ3CJUE</a></p>]]></content><categories><category> æ•°æ®åº“ </category></categories><tags><tag> mongodb </tag><tag> æ•°æ®åº“ </tag></tags></entry><entry><title>expressä¹‹requestå’Œresponseå¯¹è±¡</title><link href="/express_request_and_response.html"/><url>/express_request_and_response.html</url><content type="html"><![CDATA[<p>expressæ˜¯åŸºäºNodeæ­å»ºwebåº”ç”¨çš„æ¡†æ¶ï¼Œä½¿ç”¨expresså¯ä»¥å¿«é€Ÿæ­å»ºä¸€ä¸ªç½‘ç«™ï¼Œexpressçš„å’Œæ ¸å¿ƒåŠŸèƒ½æœ‰ä»¥ä¸‹ä¸‰ç‚¹ï¼š</p><ul><li>å¯ä»¥è®¾ç½®ä¸­é—´ä»¶æ¥å“åº” HTTP è¯·æ±‚ã€‚</li><li>å®šä¹‰äº†è·¯ç”±è¡¨ç”¨äºæ‰§è¡Œä¸åŒçš„ HTTP è¯·æ±‚åŠ¨ä½œã€‚</li><li>å¯ä»¥é€šè¿‡å‘æ¨¡æ¿ä¼ é€’å‚æ•°æ¥åŠ¨æ€æ¸²æŸ“ HTML é¡µé¢ã€‚</li></ul><a id="more"></a><h2 id="request-å’Œ-response-å¯¹è±¡çš„å…·ä½“ä»‹ç»ï¼š"><a href="#request-å’Œ-response-å¯¹è±¡çš„å…·ä½“ä»‹ç»ï¼š" class="headerlink" title="request å’Œ response å¯¹è±¡çš„å…·ä½“ä»‹ç»ï¼š"></a>request å’Œ response å¯¹è±¡çš„å…·ä½“ä»‹ç»ï¼š</h2><h3 id="Request-å¯¹è±¡"><a href="#Request-å¯¹è±¡" class="headerlink" title="Request å¯¹è±¡"></a>Request å¯¹è±¡</h3><ul><li>request å¯¹è±¡è¡¨ç¤º HTTP è¯·æ±‚ï¼ŒåŒ…å«äº†è¯·æ±‚æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œå‚æ•°ï¼Œå†…å®¹ï¼ŒHTTP å¤´éƒ¨ç­‰å±æ€§ã€‚</li></ul><p>å¸¸è§å±æ€§æœ‰ï¼š</p><ul><li>req.appï¼šå½“callbackä¸ºå¤–éƒ¨æ–‡ä»¶æ—¶ï¼Œç”¨req.appè®¿é—®expressçš„å®ä¾‹</li><li>req.baseUrlï¼šè·å–è·¯ç”±å½“å‰å®‰è£…çš„URLè·¯å¾„</li><li>req.body / req.cookiesï¼šè·å¾—ã€Œè¯·æ±‚ä¸»ä½“ã€/ Cookies</li><li>req.fresh / req.staleï¼šåˆ¤æ–­è¯·æ±‚æ˜¯å¦è¿˜ã€Œæ–°é²œã€</li><li>req.hostname / req.ipï¼šè·å–ä¸»æœºåå’ŒIPåœ°å€</li><li>req.originalUrlï¼šè·å–åŸå§‹è¯·æ±‚URL</li><li>req.paramsï¼šè·å–è·¯ç”±çš„parameters</li><li>req.pathï¼šè·å–è¯·æ±‚è·¯å¾„</li><li>req.protocolï¼šè·å–åè®®ç±»å‹</li><li>req.queryï¼šè·å–URLçš„æŸ¥è¯¢å‚æ•°ä¸²</li><li>req.routeï¼šè·å–å½“å‰åŒ¹é…çš„è·¯ç”±</li><li>req.subdomainsï¼šè·å–å­åŸŸå</li><li>req.accepts()ï¼šæ£€æŸ¥å¯æ¥å—çš„è¯·æ±‚çš„æ–‡æ¡£ç±»å‹<br>req.acceptsCharsets / req.acceptsEncodings / req.acceptsLanguagesï¼šè¿”å›æŒ‡å®šå­—ç¬¦é›†çš„ç¬¬- ä¸€ä¸ªå¯æ¥å—å­—ç¬¦ç¼–ç </li><li>req.get()ï¼šè·å–æŒ‡å®šçš„HTTPè¯·æ±‚å¤´</li><li>req.is()ï¼šåˆ¤æ–­è¯·æ±‚å¤´Content-Typeçš„MIMEç±»å‹</li></ul><h3 id="Response-å¯¹è±¡"><a href="#Response-å¯¹è±¡" class="headerlink" title="Response å¯¹è±¡"></a>Response å¯¹è±¡</h3><ul><li>response å¯¹è±¡è¡¨ç¤º HTTP å“åº”ï¼Œå³åœ¨æ¥æ”¶åˆ°è¯·æ±‚æ—¶å‘å®¢æˆ·ç«¯å‘é€çš„ HTTP å“åº”æ•°æ®ã€‚</li></ul><p>å¸¸è§å±æ€§æœ‰ï¼š</p><ul><li>res.appï¼šåŒreq.appä¸€æ ·</li><li>res.append()ï¼šè¿½åŠ æŒ‡å®šHTTPå¤´</li><li>res.set()åœ¨res.append()åå°†é‡ç½®ä¹‹å‰è®¾ç½®çš„å¤´</li><li>res.cookie(nameï¼Œvalue [ï¼Œoption])ï¼šè®¾ç½®Cookie</li><li>opition: domain / expires / httpOnly / maxAge / path / secure / signed</li><li>res.clearCookie()ï¼šæ¸…é™¤Cookie</li><li>res.download()ï¼šä¼ é€æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶</li><li>res.get()ï¼šè¿”å›æŒ‡å®šçš„HTTPå¤´</li><li>res.json()ï¼šä¼ é€JSONå“åº”</li><li>res.jsonp()ï¼šä¼ é€JSONPå“åº”</li><li>res.location()ï¼šåªè®¾ç½®å“åº”çš„Location HTTPå¤´ï¼Œä¸è®¾ç½®çŠ¶æ€ç æˆ–è€…close response</li><li>res.redirect()ï¼šè®¾ç½®å“åº”çš„Location HTTPå¤´ï¼Œå¹¶ä¸”è®¾ç½®çŠ¶æ€ç 302</li><li>res.render(view,[locals],callback)ï¼šæ¸²æŸ“ä¸€ä¸ªviewï¼ŒåŒæ—¶å‘callbackä¼ é€’æ¸²æŸ“åçš„å­—ç¬¦ä¸²ï¼Œå¦‚æœåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­æœ‰é”™è¯¯å‘ç”Ÿnext(err)å°†ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚callbackå°†ä¼šè¢«ä¼ å…¥ä¸€ä¸ªå¯èƒ½å‘ç”Ÿçš„é”™è¯¯ä»¥åŠæ¸²æŸ“åçš„- é¡µé¢ï¼Œè¿™æ ·å°±ä¸ä¼šè‡ªåŠ¨è¾“å‡ºäº†ã€‚</li><li>res.send()ï¼šä¼ é€HTTPå“åº”</li><li>res.sendFile(path [ï¼Œoptions] [ï¼Œfn])ï¼šä¼ é€æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ -ä¼šè‡ªåŠ¨æ ¹æ®æ–‡ä»¶extensionè®¾å®š- Content-Type</li><li>res.set()ï¼šè®¾ç½®HTTPå¤´ï¼Œä¼ å…¥objectå¯ä»¥ä¸€æ¬¡è®¾ç½®å¤šä¸ªå¤´</li><li>res.status()ï¼šè®¾ç½®HTTPçŠ¶æ€ç </li><li>res.type()ï¼šè®¾ç½®Content-Typeçš„MIMEç±»å‹</li></ul><h3 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="comment">//  ä¸»é¡µè¾“å‡º "Hello World"</span></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"ä¸»é¡µ GET è¯·æ±‚"</span>);</span><br><span class="line">   res.send(<span class="string">'Hello GET'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//  POST è¯·æ±‚</span></span><br><span class="line">app.post(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"ä¸»é¡µ POST è¯·æ±‚"</span>);</span><br><span class="line">   res.send(<span class="string">'Hello POST'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//  /del_user é¡µé¢å“åº”</span></span><br><span class="line">app.get(<span class="string">'/del_user'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"/del_user å“åº” DELETE è¯·æ±‚"</span>);</span><br><span class="line">   res.send(<span class="string">'åˆ é™¤é¡µé¢'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//  /list_user é¡µé¢ GET è¯·æ±‚</span></span><br><span class="line">app.get(<span class="string">'/list_user'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"/list_user GET è¯·æ±‚"</span>);</span><br><span class="line">   res.send(<span class="string">'ç”¨æˆ·åˆ—è¡¨é¡µé¢'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹é¡µé¢ abcd, abxcd, ab123cd, ç­‰å“åº” GET è¯·æ±‚</span></span><br><span class="line">app.get(<span class="string">'/ab*cd'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"/ab*cd GET è¯·æ±‚"</span>);</span><br><span class="line">   res.send(<span class="string">'æ­£åˆ™åŒ¹é…'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = app.listen(<span class="number">8081</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> host = server.address().address</span><br><span class="line"><span class="keyword">var</span> port = server.address().port</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"åº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://%s:%s"</span>, host, port)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="é™æ€æ–‡ä»¶"><a href="#é™æ€æ–‡ä»¶" class="headerlink" title="é™æ€æ–‡ä»¶"></a>é™æ€æ–‡ä»¶</h3><p>Express æä¾›äº†å†…ç½®çš„ä¸­é—´ä»¶ express.static æ¥è®¾ç½®é™æ€æ–‡ä»¶å¦‚ï¼šå›¾ç‰‡ï¼Œ CSS, JavaScript ç­‰ã€‚</p><p>ä½ å¯ä»¥ä½¿ç”¨ express.static ä¸­é—´ä»¶æ¥è®¾ç½®é™æ€æ–‡ä»¶è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å°†å›¾ç‰‡ï¼Œ CSS, JavaScript æ–‡ä»¶æ”¾åœ¨ public ç›®å½•ä¸‹ï¼Œä½ å¯ä»¥è¿™ä¹ˆå†™ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.use(express.static(<span class="string">'public'</span>));</span><br></pre></td></tr></table></figure></p><p>å‡è®¾æœ‰ä¸€å¼ å›¾ç‰‡/public/images/logo.pngï¼Œåº”ç”¨æ·»åŠ å¤„ç†é™æ€æ–‡ä»¶çš„åŠŸèƒ½å®ä¾‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line">app.use(express.static(<span class="string">'public'</span>));</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">   res.send(<span class="string">'Hello World'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = app.listen(<span class="number">8081</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> host = server.address().address</span><br><span class="line"><span class="keyword">var</span> port = server.address().port</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"åº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://%s:%s"</span>, host, port)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>ç”¨nodeå¯åŠ¨è¯¥æ–‡ä»¶åï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—® <a href="http://127.0.0.1:8081/images/logo.pngï¼Œ" target="_blank" rel="noopener">http://127.0.0.1:8081/images/logo.pngï¼Œ</a> å³å¯çœ‹åˆ°/public/images/logoå›¾ç‰‡</p><p>ä½¿ç”¨postè¯·æ±‚çš„å®ä¾‹<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"><span class="keyword">var</span> bodyParser = <span class="built_in">require</span>(<span class="string">'body-parser'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º application/x-www-form-urlencoded ç¼–ç è§£æ</span></span><br><span class="line"><span class="keyword">var</span> urlencodedParser = bodyParser.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;)</span><br><span class="line"></span><br><span class="line">app.use(express.static(<span class="string">'public'</span>));</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/index.htm'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">   res.sendFile( __dirname + <span class="string">"/"</span> + <span class="string">"index.htm"</span> );</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">'/process_post'</span>, urlencodedParser, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡º JSON æ ¼å¼</span></span><br><span class="line"><span class="keyword">var</span> response = &#123;</span><br><span class="line"><span class="string">"first_name"</span>:req.body.first_name,</span><br><span class="line"><span class="string">"last_name"</span>:req.body.last_name</span><br><span class="line">   &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(response);</span><br><span class="line">   res.end(<span class="built_in">JSON</span>.stringify(response));</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = app.listen(<span class="number">8081</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> host = server.address().address</span><br><span class="line"><span class="keyword">var</span> port = server.address().port</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"åº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://%s:%s"</span>, host, port)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨ä¸­é—´ä»¶å‘nodeæœåŠ¡å™¨å‘é€cookieçš„å®ä¾‹<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// express_cookie.js æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">var</span> express      = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">var</span> cookieParser = <span class="built_in">require</span>(<span class="string">'cookie-parser'</span>)</span><br><span class="line"><span class="keyword">var</span> util = <span class="built_in">require</span>(<span class="string">'util'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line">app.use(cookieParser())</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Cookies: "</span> + util.inspect(req.cookies));</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8081</span>)</span><br></pre></td></tr></table></figure></p><h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><p>expressæ˜¯åŸºäºnodeå¿«é€Ÿæ­å»ºç½‘ç«™çš„æ¡†æ¶ï¼Œåº•å±‚å®ç°ä½¿ç”¨äº†promise + callbackçš„æ–¹å¼ï¼ŒåŠŸèƒ½å…¨é¢ã€‚ä½†æ˜¯æ¯”è¾ƒæ¨èçš„æ˜¯koa2ï¼Œkoa2æ˜¯koa2.0ç‰ˆæœ¬ä¹‹åçš„ç§°å‘¼ï¼Œkoa1.0ç‰ˆæœ¬ä½¿ç”¨äº†generatorå‡½æ•°å®ç°ï¼Œ2.0ä½¿ç”¨äº†async/awaitå‡½æ•°å®ç°ï¼Œéå¸¸ç²¾ç®€ï¼Œä½†æ˜¯åŠŸèƒ½å¹¶ä¸æ¯”Expresså°‘ï¼Œexpressèƒ½åšçš„koaéƒ½èƒ½åšï¼Œè€Œä¸”åšå¾—æ›´å¥½ã€‚ä¸åŒçš„æ˜¯ï¼ŒkoaæŠŠexpressçš„éƒ¨åˆ†åŠŸèƒ½æ‹†åˆ†å‡ºå»äº†ï¼Œä½¿ç”¨çš„æ—¶å€™å¯ä»¥æ ¹æ®éœ€æ±‚åˆç†å¼•å…¥ä¸­é—´ä»¶ï¼Œæ¯”å¦‚koa-routerã€‚åœ¨ä¸Šä¸€å®¶å…¬å¸çš„æ—¶å€™ä½¿ç”¨è¿‡koa1.0å¤šé¡µé¢çš„ç”µå•†ç½‘ç«™ï¼Œå‰ç«¯é¡¹ç›®é›†æˆäº†éƒ¨åˆ†nodeä»£ç å®ç°é¡µé¢è·¯ç”±å’ŒæœåŠ¡çš„æ¸²æŸ“ï¼Œä½“éªŒéå¸¸æ£’ï¼Œä¹Ÿé˜…è¯»è¿‡å…¬å¸å†…éƒ¨ä½¿ç”¨koa2.0çš„åå°é¡¹ç›®ï¼Œæ„Ÿè§‰æ›´å‹å¥½ä¸€äº›ã€‚<br>æœ¬ç¯‡åšå®¢å¤§éƒ¨åˆ†å†…å®¹éƒ½æ˜¯æ‘˜è‡ª<a href="http://www.runoob.com/nodejs/nodejs-express-framework.html" target="_blank" rel="noopener">runoob</a>ï¼Œä¸æ˜¯åŸåˆ›ï¼Œç®—æ˜¯ä¸€ç¯‡ä»‹ç»expressçš„ç¬”è®°å§ã€‚</p>]]></content><categories><category> åç«¯ </category></categories><tags><tag> javascript </tag><tag> node </tag></tags></entry><entry><title>hexo+githubåšå®¢å¤šè®¾å¤‡åŒæ­¥</title><link href="/hexo-mutl-device-sync.html"/><url>/hexo-mutl-device-sync.html</url><content type="html"><![CDATA[<p>ä¸ºä»€ä¹ˆhexoåšå®¢éœ€è¦å¤šè®¾å¤‡åŒæ­¥å‘¢ï¼Ÿ</p><p>å¾ˆå¤šåŸºäºhexoçš„åšå®¢çš„ä¸»é¢˜éƒ½æ˜¯å¼•ç”¨çš„ç¬¬ä¸‰æ–¹çš„ä¸»é¢˜é¡¹ç›®å•Šï¼Œä½œä¸ºä¸€ä¸ªç¬¬ä¸‰æ–¹çš„é¡¹ç›®ï¼Œå¯¼å…¥åˆ°è‡ªå·±åšå®¢é¡¹ç›®çš„themesç›®å½•ä¸‹ä¹‹åï¼Œä½œä¸ºä¸€ä¸ªsubproject æ˜¯æ— æ³•commitåˆ°è‡ªå·±çš„é¡¹ç›®ä¸‹çš„ï¼Œåˆ é™¤åŸé¡¹ç›®çš„.gitæ–‡ä»¶æŠŠæ•´ä¸ªä¸»é¢˜åŒ…åµŒå…¥è‡ªå·±é¡¹ç›®ä¹Ÿè¡Œï¼Œä½†æ˜¯ä¹Ÿéœ€è¦å°Šé‡ä¸€ä¸‹ä¸»é¢˜çš„å¼€å‘è€…å‘€ã€‚<br><a id="more"></a></p><p>è¿™æ ·ä¸€æ¥ï¼Œåœ¨ä¸€ä¸ªæ–°è®¾å¤‡ä¸Š<code>git pull</code>äº†è‡ªå·±çš„é¡¹ç›®åè¿˜è¦å»<code>git pull</code>ä¸»é¢˜ç›®å½•ï¼Œç›´æ¥æ‹‰ä¸‹æ¥çš„ä¸»é¢˜åŒ…çš„é…ç½®æ–‡ä»¶<code>_config.yml</code>æ–‡ä»¶ä¸€èˆ¬éƒ½éœ€è¦ä¿®æ”¹ä¸‹å§ï¼Œå¦‚æœæœ‰googleã€ç™¾åº¦ç»Ÿè®¡ç›¸å…³çš„ä»£ç éœ€è¦æ·»åŠ åˆ°ä¸»é¢˜ä¸­çš„ç›¸å…³æ–‡ä»¶ä¸­çš„ï¼Œå°±éœ€è¦æ”¹ä¸‹åŸæ¥çš„ä¸»é¢˜æ–‡ä»¶äº†ï¼Œè¿™äº›æ”¹çš„ç¬¬ä¸€æ¬¡æ”¹åŠ¨ä¹‹åï¼Œä¸‹ä¸€æ¬¡ä½ è¿˜è®°å¾—æ€ä¹ˆæ”¹ä¸? ä¸è®°å¾—å•¦ï¼é‚£åªå¥½åœ¨ç›¸å…³æ–‡ä»¶é‡Œé¢è®°å½•ä¸‹æ¥ï¼Œä¸‹æ¬¡ç›´æ¥å‚è€ƒè¯¥è®°å½•æ¥é‡æ–°é…ç½®ä¸‹å§ï¼Œæ‰‹åŠ¨é…ç½®æ„Ÿè§‰å¾ˆéº»çƒ¦ï¼Œé‚£å°±å†™ä¸€ä¸ªshellè„šæœ¬ï¼Œä¸‹æ¬¡ç›´æ¥æ‰§è¡Œä»¥ä¸‹è¯¥è„šæœ¬å°±è‡ªåŠ¨é…ç½®å¥½å•¦ï¼</p><p>è¿™é‡Œè´´ä¸€ä¸‹æˆ‘çš„è‡ªåŠ¨åŒ–é…ç½®shellè„šæœ¬ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">localRepo=<span class="string">"<span class="variable">$HOME</span>/hexo-theme-BlueLake"</span></span><br><span class="line">floader=<span class="string">"themes/BlueLake"</span></span><br><span class="line">subGitFloader=<span class="string">"themes/BlueLake/.git"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -d <span class="string">"<span class="variable">$localRepo</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span><span class="string">"1. local BlueLake theme repostory not exist and start clone from remote......"</span></span><br><span class="line"><span class="built_in">echo</span> $( git <span class="built_in">clone</span> git@github.com:chaooo/hexo-theme-BlueLake.git &amp;&amp; mv <span class="string">"hexo-theme-BlueLake"</span><span class="string">"<span class="variable">$HOME</span>/"</span> )</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span><span class="string">"1. local BlueLake theme repostory exist!"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -d <span class="string">"<span class="variable">$floader</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">     rm -rf <span class="string">"<span class="variable">$floader</span>"</span> &amp;&amp; <span class="built_in">echo</span><span class="string">"2.remove themes/BlueLake success!"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">cp -Rf <span class="string">"<span class="variable">$HOME</span>/hexo-theme-BlueLake"</span><span class="string">"themes/BlueLake"</span> &amp;&amp; <span class="built_in">echo</span><span class="string">"3. copy thems successed!"</span> || <span class="built_in">echo</span><span class="string">"3. copy thems failed!"</span></span><br><span class="line"></span><br><span class="line">cat <span class="string">"source/_data/BlueLake_theme_config.yml"</span> &gt; <span class="string">"<span class="variable">$floader</span>/_config.yml"</span> &amp;&amp; <span class="built_in">echo</span><span class="string">"4. move _config.yml successed!"</span></span><br><span class="line"></span><br><span class="line">cat <span class="string">"source/_data/baidu_config_script.jade"</span> &gt;&gt; <span class="string">"themes/BlueLake/layout/_partial/after_footer.jade"</span> &amp;&amp; <span class="built_in">echo</span><span class="string">"5. add baidu_config_script success!"</span> || <span class="built_in">echo</span><span class="string">"5. add baidu_config_script failed!"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -d <span class="string">"<span class="variable">$subGitFloader</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> $( rm -rf <span class="variable">$&#123;subGitFloader&#125;</span> ) &amp;&amp; <span class="built_in">echo</span><span class="string">"6.remove <span class="variable">$&#123;subGitFloader&#125;</span> succsssful!"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></p><p>è‡ªä»å†™å¥½è¿™æ®µè„šæœ¬åå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæ›´æ¢æ–°è®¾å¤‡åé‡æ–°éƒ¨ç½²hexoåšå®¢çš„é—®é¢˜å•¦ã€‚</p><p>ä¸ºä»€ä¹ˆéœ€è¦ç»å¸¸éƒ¨ç½²åšå®¢å‘¢ï¼Ÿæˆ‘çˆ±æŠ˜è…¾å•Šï¼Œç”µè„‘ç»å¸¸æ¢ç³»ç»Ÿå•Šï¼Œè™šæ‹Ÿæœºubuntuï¼ŒWindowsï¼ŒMac OS XåŒç³»ç»Ÿï¼Œè¿‘ä¸€å¹´æ¥é‡è£…äº†å¥½å¤šæ¬¡ç³»ç»Ÿå•Šï¼Œæ¯æ¬¡éƒ½é‡æ–°éƒ¨ç½²å¼€å‘ç¯å¢ƒå¥½éº»çƒ¦ï¼Œè€Œä¸”æ¢å·¥ä½œä¹‹åä¹Ÿä¼šæ›´æ¢ç”µè„‘å•Šã€‚</p><p>å¦‚æœæ‹…å¿ƒä¸»é¢˜å¼€å‘è€…åç»­æ›´æ–°äº†ä¸»é¢˜å¯¼è‡´åœ¨æ–°è®¾å¤‡ä¸Šéƒ¨ç½²æ—¶ç¯å¢ƒä¸ä¸€è‡´ï¼Œå¯ä»¥æŠŠåŸä¸»é¢˜forkåˆ°è‡ªå·±çš„githubï¼Œç„¶åæŠŠä»“åº“URLæ”¹æˆforkè¿‡æ¥çš„URLå³å¯ã€‚</p><blockquote><p>æ³¨ï¼šåç»­è¡¥å……ï¼Œç°åœ¨æˆ‘å·²ä¸å†ä½¿ç”¨ä»¥ä¸Šæ–¹æ¡ˆåŒæ­¥åšå®¢é…ç½®ï¼Œç™¾åº¦ç«™é•¿å’Œgoogleç«™é•¿éªŒè¯ä½¿ç”¨ html æ ‡ç­¾éªŒè¯æ–¹å¼ï¼Œç›¸åº”çš„è¯†åˆ«ç å·²å†™å…¥é…ç½®æ–‡ä»¶ï¼Œè€Œä¸”å¯ä»¥æŠŠä¸»é¢˜ä¸­çš„éƒ¨åˆ†é…ç½®é¡¹é…ç½®åˆ°é¡¹ç›®çš„é…ç½®ä¸‹ã€‚ä¸»é¢˜åŒæ­¥é‡‡ç”¨äº† git modulesï¼ŒæŠŠåŸä½œè€…çš„ä¸»é¢˜forkåˆ°è‡ªå·±çš„githubï¼Œç„¶åè‡ªå·±ç»´æŠ¤ä¸»é¢˜ä»“åº“ï¼Œè¿™æ ·å¯ä»¥åœ¨åŸä¸»é¢˜çš„åŸºç¡€ä¸Šè¿›è¡ŒåŠŸèƒ½å’Œæ ·å¼çš„è°ƒæ•´å’Œä¼˜åŒ–ã€‚</p></blockquote>]]></content><categories><category> åšå®¢ </category></categories><tags><tag> hexo </tag><tag> github </tag><tag> github pages </tag><tag> åšå®¢ </tag></tags></entry><entry><title>linuxå­¦ä¹ ç¬”è®°(4)</title><link href="/linux-note-4.html"/><url>/linux-note-4.html</url><content type="html"><![CDATA[<p>è¿™é‡Œè®°å½•ä¸‹linuxç³»ç»Ÿä¸‹ç”¨æˆ·å’Œç”¨æˆ·ç»„çš„ç®¡ç†æ–¹é¢çš„å­¦ä¹ ç¬”è®°ã€‚<br><a id="more"></a><br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">ç”¨æˆ·: ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„äºº</span></span><br><span class="line"><span class="section">ç”¨æˆ·ç»„: å…·æœ‰ç›¸åŒç³»ç»Ÿæƒé™çš„ä¸€ç»„ç”¨æˆ·</span></span><br></pre></td></tr></table></figure></p><p><code>/etc/group</code> å­˜å‚¨å½“å‰ç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·ç»„ä¿¡æ¯</p><p>æ ¼å¼ï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">group</span><span class="selector-pseudo">:x</span><span class="selector-pseudo">:123</span><span class="selector-pseudo">:ABC</span>,<span class="selector-tag">def</span>,<span class="selector-tag">xyz</span></span><br><span class="line">ç»„åç§°:ç»„å¯†ç å ä½ç¬¦:ç»„ç¼–å·:ç»„ä¸­ç”¨æˆ·åˆ—è¡¨</span><br></pre></td></tr></table></figure></p><p>ç»„åªæœ‰ä¸€ä¸ªç”¨æˆ·ï¼Œç”¨æˆ·ç»„åˆå’Œç”¨æˆ·åç›¸åŒï¼Œç”¨æˆ·ç»„åˆ—è¡¨ä¸ºç©º,<br>rootç”¨æˆ·ç»„çš„ç»„å·ä¸º0,<br>ç¼–å·1~499å…¨éƒ¨æ˜¯åˆ†é…ç»™ç³»ç»Ÿçš„ï¼Œè¶Šæ—©å®‰è£…çš„åº”ç”¨ç»„ç¼–å·è¶Šé å‰,<br>ä¸ªäººç”¨æˆ·ç¼–å·ä»500å¼€å§‹è®¡æ•°,<br>ç»„å¯†ç å ä½ç¬¦å…¨éƒ¨éƒ½æ˜¯x</p><p><code>/etc/gshadow</code> å­˜å‚¨å½“å‰ç³»ç»Ÿä¸­ç”¨æˆ·ç»„çš„å¯†ç ä¿¡æ¯<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">group:*: :abc</span></span><br><span class="line"><span class="section">ç»„åç§°:ç»„å¯†ç :ç»„ç®¡ç†è€…:ç»„ä¸­ç”¨æˆ·åˆ—è¡¨</span></span><br></pre></td></tr></table></figure></p><p>ç»„å¯†ç ä¸º*æˆ–!æˆ–ç©ºè¡¨ç¤ºæ²¡æœ‰ç»„å¯†ç </p><p><code>/etc/paswd</code> å­˜å‚¨å½“å‰ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·çš„ä¿¡æ¯ã€‚<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user:x:123:456:xxxx:/home/user:/bin/bash</span><br><span class="line">ç”¨æˆ·å:å¯†ç å ä½ç¬¦:ç”¨æˆ·ç¼–å·:ç”¨æˆ·ç»„ç¼–å·:ç”¨æˆ·æ³¨é‡Šä¿¡æ¯:ç”¨æˆ·ä¸»ç›®å½•:shellç±»å‹</span><br></pre></td></tr></table></figure></p><p><code>/etc/shadow</code> å­˜å‚¨å½“å‰ç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·çš„å¯†ç ä¿¡æ¯ã€‚<br><br>ç”¨æˆ·å’Œç”¨æˆ·ç»„çš„å¯†ç ä¿å­˜åœ¨å•ç‹¬çš„æ–‡ä»¶/etc/gshadow å’Œ/etc/shadowä¸­ï¼Œ éœ€è¦çš„æƒé™è¦æ¯”ä¿å­˜ç”¨æˆ·å’Œç”¨æˆ·ç»„çš„æ–‡ä»¶é«˜å¾ˆå¤š</p><p>ç®¡ç†ç”¨æˆ·ç»„çš„å‘½ä»¤ï¼š</p><ul><li>æ·»åŠ ç”¨æˆ·ç»„ï¼š<br><code>groupadd [ç”¨æˆ·ç»„å]</code></li><li>ä¿®æ”¹ç”¨æˆ·ç»„åï¼š<br><code>groupmod -n [newGroupName] [oldGroupName]</code></li><li>ä¿®æ”¹ç”¨æˆ·ç»„ç¼–å·ï¼š<br><code>groupmid -g 666 [groupName]</code></li><li>åˆ›å»ºç”¨æˆ·ç»„çš„æ—¶å€™æŒ‡å®šç¼–å·ï¼š<br><code>groupadd -g 888 [groupName]</code></li><li><p>åˆ é™¤ç”¨æˆ·ç»„(åˆ é™¤ç”¨æˆ·ç»„ä¹‹å‰å¿…é¡»å…ˆæ¸…ç©ºç»„å†…ç”¨æˆ·ï¼Œ å¦åˆ™è¿™äº›ç”¨æˆ·çš„ç»„ä¿¡æ¯ä¸¢å¤±ï¼Œ æœ‰æƒé™æ–¹é¢çš„å½±å“)ï¼š<br><code>groupdel [groupName]</code></p></li><li><p>ç»„å†…æ·»åŠ ç”¨æˆ·(ç”¨æˆ·ç›®å½•é»˜è®¤åœ¨/homeä¸‹ï¼Œé»˜è®¤åˆ›å»ºä¸€ä¸ªå’Œç”¨æˆ·åç›¸åŒçš„ç”¨æˆ·ç»„)ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd userName</span><br><span class="line">useradd -g groupName -d /home/userName userName</span><br></pre></td></tr></table></figure></li><li><p>ç»™ç”¨æˆ·æ·»åŠ å¤‡æ³¨ï¼š<br><code>useradd -c å¤‡æ³¨å†…å®¹ userName</code></p></li><li>æ”¹ç”¨æˆ·åï¼š<br><code>usermod -l æ–°ç”¨æˆ·å æ—§ç”¨æˆ·å</code></li><li>æŒ‡å®šæ–°çš„ç”¨æˆ·æ–‡ä»¶å¤¹ï¼š<br><code>usermod -d /home/mhy mhy</code></li><li>ä¿®æ”¹æ‰€å±ç”¨æˆ·ç»„ï¼š<br><code>usermod -g ç»„å ç”¨æˆ·å</code></li><li>åˆ é™¤è´¦å·ï¼š<br><code>userdel ç”¨æˆ·å</code></li><li>åˆ é™¤çš„åŒæ—¶åˆ é™¤ç”¨æˆ·ç›®å½•:<br><code>userdel -r ç”¨æˆ·å</code></li><li><p>ç¦æ­¢rootä»¥å¤–çš„ç”¨æˆ·ç™»å½•æœåŠ¡å™¨ï¼ˆç©ºæ–‡ä»¶å°±å¯ä»¥ï¼‰ï¼š<br><code>touch /etc/nologin</code></p></li><li><p>é”å®šç”¨æˆ·è´¦æˆ·ï¼š<br><code>passwd -l ç”¨æˆ·å</code></p></li><li>è§£é”ç”¨æˆ·<br><code>passwd -u ç”¨æˆ·å</code></li><li>æ¸…é™¤ç”¨æˆ·çš„å¯†ç ï¼Œæ— å¯†ç ç™»å½•ï¼š<br><code>passwd -d ç”¨æˆ·å</code></li></ul><h3 id="ä¸»è¦ç»„å’Œé™„å±ç»„ï¼š"><a href="#ä¸»è¦ç»„å’Œé™„å±ç»„ï¼š" class="headerlink" title="ä¸»è¦ç»„å’Œé™„å±ç»„ï¼š"></a>ä¸»è¦ç»„å’Œé™„å±ç»„ï¼š</h3><p>ä¸€ä¸ªç”¨æˆ·å¯ä»¥å±äºå¤šä¸ªç»„ï¼Œä¸€ä¸ªä¸»è¦ç»„ï¼Œè‹¥å¹²ä¸ªä¸ªé™„å±ç»„, æ·»åŠ å¤šä¸ªï¼Œç”¨é€—å·è¿æ¥å¤šä¸ªé™„å±ç»„å:<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpasswd -a ç”¨æˆ·å  é™„å±ç»„å</span><br></pre></td></tr></table></figure></p><ul><li>åˆ›å»ºç”¨æˆ·æ—¶æŒ‡å®šä¸»è¦ç»„å’Œé™„å±ç»„ï¼š<br>`useradd -g ä¸»è¦ç»„ -G é™„å±ç»„1,è´Ÿæ•°ç»„2  ç”¨æˆ·å</li><li><p>ç”¨æˆ·ç»„è®¾ç½®å¯†ç ï¼š<br><code>gpasswd ç”¨æˆ·ç»„å</code></p></li><li><p>åˆ‡æ¢ç”¨æˆ·èº«ä»½:<br><code>su ç”¨æˆ·å</code></p></li><li><p>æˆ‘æ˜¯è°:<br><code>whoami</code></p></li><li>ç”¨æˆ·ä¿¡æ¯ï¼š<br><code>id ç”¨æˆ·å</code></li><li>æ‰€å±ç»„ï¼š<br><code>groups ç”¨æˆ·å</code></li></ul>]]></content><categories><category> åç«¯ </category></categories><tags><tag> linux </tag><tag> bash </tag></tags></entry><entry><title>linuxå­¦ä¹ ç¬”è®°(3)</title><link href="/linux-note-3.html"/><url>/linux-note-3.html</url><content type="html"><![CDATA[<p>linuxä¸­å¸¸ç”¨çš„å‘½ä»¤ä½¿ç”¨ç¬”è®°ã€‚</p><h2 id="echo-å‘½ä»¤"><a href="#echo-å‘½ä»¤" class="headerlink" title="echo å‘½ä»¤"></a>echo å‘½ä»¤</h2><blockquote><p>echo [é€‰é¡¹] [è¾“å‡ºå†…å®¹]</p></blockquote><p>é€‰é¡¹ï¼š</p><ul><li>-e æ”¯æŒåæ–œæ æ§åˆ¶çš„å­—ç¬¦è½¬æ¢</li></ul><a id="more"></a><table><thead><tr><th>æ§åˆ¶å­—ç¬¦</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>\a</td><td>è¾“å‡ºè­¦å‘ŠéŸ³</td></tr><tr><td>\b</td><td>é€€æ ¼é”®ï¼Œå³å·¦åˆ é™¤é”®</td></tr><tr><td>\n</td><td>æ¢è¡Œç¬¦</td></tr><tr><td>\r</td><td>å›è½¦é”®</td></tr><tr><td>\t</td><td>åˆ¶è¡¨ç¬¦</td></tr><tr><td>\v</td><td>å‚ç›´åˆ¶è¡¨ç¬¦</td></tr><tr><td>\0n</td><td>nn æŒ‰å…«è¿›åˆ¶ASCIIç è¡¨è¾“å‡ºå­—ç¬¦ï¼Œå…¶ä¸­0æ˜¯æ•°å­—é›¶ï¼Œnnnæ˜¯ä¸‰ä½å…«è¿›åˆ¶æ•°</td></tr><tr><td>\xh</td><td>h æŒ‰ç…§åå…­è¿›åˆ¶ASCIIç è¡¨è¾“å‡ºzç¦ã€‚å…¶ä¸­hhæ˜¯ä¸¤ä½åå…­è¿›åˆ¶æ•°</td></tr></tbody></table><h2 id="alias"><a href="#alias" class="headerlink" title="alias"></a>alias</h2><p>eg:<br><code>alias la=&quot;ls -la&quot;</code><br>æŸ¥çœ‹ç³»ç»Ÿä¸­çš„åˆ«åï¼š<br><code>alias</code><br>1.ä¸´æ—¶è®¾ç½®åˆ«åï¼š</p><p>å‘½ä»¤è¡Œè¾“å…¥ <code>alias la=&quot;ls -al --color=auto&quot;</code></p><p>2.æ°¸ä¹…è®¾ç½®ï¼š</p><p>å†™å…¥ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶:<br><code>~/.bashrc</code></p><p>3.åˆ é™¤åˆ«åï¼š<br>ä¸´æ—¶åˆ é™¤å¯ä»¥ç›´æ¥è¾“å…¥: <code>unalias la</code>,<br>æ°¸ä¹…åˆ é™¤éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶</p><ul><li><p>å‘½ä»¤ç”Ÿæ•ˆé¡ºåº</p><ol><li>ç¬¬ä¸€é¡ºä½æ‰§è¡Œç”¨ç»å¯¹è·¯å¾„æ´»æ³¼ç›¸å¯¹è·¯å¾„æ‰§è¡Œçš„å‘½ä»¤</li><li>ç¬¬äºŒé¡ºä½æ‰§è¡Œåˆ«å</li><li>ç¬¬ä¸‰æ‰§è¡Œbashçš„å†…éƒ¨å‘½ä»¤</li><li>ç¬¬å››é¡ºä½æ‰§è¡ŒæŒ‰ç…§$PATHç¯å¢ƒå˜é‡å®šä¹‰çš„ç›®å½•æŸ¥æ‰¾é¡ºåºæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå‘½ä»¤</li></ol></li><li><p>å‘½ä»¤å¿«æ·é”®</p></li></ul><table><thead><tr><th>å¿«æ·é”®</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>ctrl + c</td><td>å¼ºè¡Œç»ˆæ­¢</td></tr><tr><td>cmd  + l</td><td>æ¸…å±(æ¸…é™¤ä¸€è¡Œ)</td></tr><tr><td>ctrl + l</td><td>æ¸…å±(å±å¹•ä¸­æ‰€æœ‰è¡Œ), æ•ˆæœåŒclear</td></tr><tr><td>ctrl + a</td><td>å…‰æ ‡ç§»åŠ¨åˆ°å‘½ä»¤è¡Œè¡Œé¦–</td></tr><tr><td>ctrl + e</td><td>å…‰æ ‡ç§»åŠ¨åˆ°å‘½ä»¤è¡Œè¡Œå°¾</td></tr><tr><td>ctrl + u</td><td>ä»å…‰æ ‡ä½ç½®åˆ é™¤åˆ°è¡Œé¦–</td></tr><tr><td>ctrl + z</td><td>æŠŠå‘½ä»¤æ”¾å…¥åå°(å‘½ä»¤æ— æ³•ä½¿ç”¨ctrl + c zç»ˆæ­¢çš„æ—¶å€™ä½¿ç”¨ï¼Œä¸å»ºè®® )</td></tr><tr><td>ctrl + r</td><td>åœ¨å†å²å‘½ä»¤ä¸­æœç´¢</td></tr><tr><td>ctrl + å·¦å³æ–¹å‘é”®</td><td>æŒ‰å•è¯å·¦å³ç§»åŠ¨å…‰æ ‡</td></tr></tbody></table><h2 id="å†å²å‘½ä»¤"><a href="#å†å²å‘½ä»¤" class="headerlink" title="å†å²å‘½ä»¤"></a>å†å²å‘½ä»¤</h2><p>ä¸Šä¸‹ç®­å¤´è¯»å–å†å²å‘½ä»¤</p><ul><li>è¯»å–æ‰€æœ‰å†å²å‘½ä»¤</li></ul><p><code>history [é€‰é¡¹] [å†å²å‘½ä»¤ä¿å­˜æ–‡ä»¶]</code></p><p>é€‰é¡¹ï¼š</p><ul><li>-c æ¸…ç©ºå†å²å‘½ä»¤</li><li>-w æŠŠç¼“å­˜ä¸­çš„å†å²å‘½ä»¤å†™å…¥å†å²å‘½ä»¤ä¿å­˜æ–‡ä»¶ <code>~/.bash_history</code></li></ul><p>æ³¨æ„: historyå‘½ä»¤ä¸­çš„å‘½ä»¤åŒ…æ‹¬æ–‡ä»¶ä¿å­˜çš„å’Œå½“å‰ç™»å½•è¾“å…¥çš„æ‰€æœ‰å‘½ä»¤ï¼Œ æ–‡ä»¶åªä¼šåœ¨ç™»å‡ºçš„æ—¶å€™æ‰ä¼šä¸»åŠ¨ä¿å­˜åˆ°æ–‡ä»¶ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡<code>-w</code>é€‰é¡¹æŠŠå½“å‰ç™»å½•åçš„å†å²å‘½ä»¤æ‰‹åŠ¨ä¿å­˜åœ¨æ–‡ä»¶ä¸­</p><p>å†å²å‘½ä»¤é»˜è®¤ä¿å­˜1000æ¡ï¼Œå¯ä»¥åœ¨<code>/etc/profile</code>ä¸­çš„<code>HISTSIZE=1000</code>å­—æ®µä¸­è®¾ç½®</p><ol><li><em>ä½¿ç”¨<code>!n</code>é‡å¤æ‰§è¡Œç¬¬næ¡å†å²å‘½ä»¤</em></li><li><em>ä½¿ç”¨<code>!å­—ä¸²</code>é‡å¤æ‰§è¡Œæœ€åä¸€æ¡ä»¥è¯¥å­—ä¸²å¼€å¤´çš„å‘½ä»¤</em></li><li>ä½¿ç”¨<code>!!</code>é‡å¤æ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤</li></ol><ul><li>å‘½ä»¤å’Œæ–‡ä»¶è¡¥å…¨</li></ul><p>åœ¨bashä¸­ï¼ŒæŒ‰tabé”®è‡ªåŠ¨è¡¥å…¨å‘½ä»¤ã€æ–‡ä»¶è·¯å¾„ï¼Œ å¯¹æé«˜è¾“å…¥é€Ÿåº¦å’Œæ’é”™éå¸¸æœ‰ç”¨</p><h2 id="è¾“å‡ºé‡å®šå‘"><a href="#è¾“å‡ºé‡å®šå‘" class="headerlink" title="è¾“å‡ºé‡å®šå‘"></a>è¾“å‡ºé‡å®šå‘</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æ ‡å‡†çš„è¾“å…¥è¾“å‡ºè®¾å¤‡:</span><br><span class="line">é”®ç›˜    /dev.stdin  <span class="number">0</span> æ ‡å‡†è¾“å…¥</span><br><span class="line">æ˜¾ç¤ºå™¨  /dev/sdtout <span class="number">1</span> æ ‡å‡†è¾“å‡º</span><br><span class="line">æ˜¾ç¤ºå™¨  /dev/sdterr <span class="number">2</span> æ ‡å‡†é”™è¯¯è¾“å‡º</span><br></pre></td></tr></table></figure><h3 id="æ ‡å‡†è¾“å‡ºé‡å®šå‘ï¼š"><a href="#æ ‡å‡†è¾“å‡ºé‡å®šå‘ï¼š" class="headerlink" title="æ ‡å‡†è¾“å‡ºé‡å®šå‘ï¼š"></a>æ ‡å‡†è¾“å‡ºé‡å®šå‘ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤ &gt; æ–‡ä»¶ ï¼š ä»¥è¦†ç›–æ–¹å¼ï¼ŒæŠŠå‘½ä»¤çš„æ­£ç¡®è¾“å‡ºè¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶æˆ–è®¾å¤‡ä¸­</span><br><span class="line">å‘½ä»¤ &gt;&gt; æ–‡ä»¶ ï¼š ä»¥è¿½åŠ çš„æ–¹å¼ï¼ŒæŠŠå‘½ä»¤çš„æ­£ç¡®è¾“å‡ºè¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶æˆ–è®¾å¤‡ä¸­</span><br></pre></td></tr></table></figure><p><strong>æ–‡ä»¶ä¸å­˜åœ¨ï¼Œ å…ˆåˆ›å»ºåå†™å…¥ï¼Œ <code>&gt;</code>è¦†ç›– <code>&gt;&gt;</code>è¿½åŠ </strong></p><h3 id="å‘½ä»¤çš„é”™è¯¯è¾“å‡ºï¼š"><a href="#å‘½ä»¤çš„é”™è¯¯è¾“å‡ºï¼š" class="headerlink" title="å‘½ä»¤çš„é”™è¯¯è¾“å‡ºï¼š"></a>å‘½ä»¤çš„é”™è¯¯è¾“å‡ºï¼š</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">é”™è¯¯å‘½ä»¤ <span class="number">2</span>&gt; æ–‡ä»¶ ï¼š ä»¥è¦†ç›–æ–¹å¼ï¼ŒæŠŠå‘½ä»¤çš„é”™è¯¯è¾“å‡ºè¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶æˆ–è®¾å¤‡ä¸­</span><br><span class="line">é”™è¯¯å‘½ä»¤ <span class="number">2</span>&gt;&gt; æ–‡ä»¶ ï¼š ä»¥è¿½åŠ çš„æ–¹å¼ï¼ŒæŠŠå‘½ä»¤çš„é”™è¯¯è¾“å‡ºè¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶æˆ–è®¾å¤‡ä¸­</span><br></pre></td></tr></table></figure><p><em>æ³¨æ„ï¼šæ­£ç¡®è¾“å‡ºå¤§äºå·å·¦å³æœ‰ç©ºæ ¼ï¼Œé”™è¯¯è¾“å‡ºå·¦å³æ²¡æœ‰ç©ºæ ¼</em></p><h3 id="æ­£ç¡®å’Œé”™è¯¯è¾“å‡ºåŒæ—¶ä¿å­˜ï¼š"><a href="#æ­£ç¡®å’Œé”™è¯¯è¾“å‡ºåŒæ—¶ä¿å­˜ï¼š" class="headerlink" title="æ­£ç¡®å’Œé”™è¯¯è¾“å‡ºåŒæ—¶ä¿å­˜ï¼š"></a>æ­£ç¡®å’Œé”™è¯¯è¾“å‡ºåŒæ—¶ä¿å­˜ï¼š</h3><ul><li>ä»¥<em>è¦†ç›–</em>æ–¹å¼ï¼ŒæŠŠæ­£ç¡®è¾“å‡ºå’Œé”™è¯¯è¾“å‡ºéƒ½ä¿å­˜åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼š</li></ul><ol><li>å‘½ä»¤ &amp;&gt;æ–‡ä»¶</li><li>å‘½ä»¤ &gt; æ–‡ä»¶ 2&gt;&amp;1</li></ol><p>eg: <code>./test.sh &gt;&gt; common.log 2&gt;&amp;1</code></p><ul><li>ä»¥<em>è¿½åŠ </em>æ–¹å¼ï¼ŒæŠŠæ­£ç¡®è¾“å‡ºå’Œé”™è¯¯è¾“å‡ºéƒ½ä¿å­˜åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼š</li></ul><ol><li>å‘½ä»¤ &amp;&gt;&gt;æ–‡ä»¶</li><li>å‘½ä»¤ &gt;&gt; æ–‡ä»¶ 2&gt;&amp;1</li></ol><p>eg: <code>./test.sh &gt;&gt; common.log 2&gt;&amp;1</code></p><ul><li><em>æŠŠæ­£ç¡®è¾“å‡ºè¿½åŠ åˆ°æ–‡ä»¶1ï¼Œ æŠŠé”™è¯¯è¾“å‡ºè¿½åŠ åˆ°æ–‡ä»¶2</em>ï¼š</li></ul><ol><li>å‘½ä»¤ &gt;&gt; æ–‡ä»¶ä¸€ 2&gt;&gt; æ–‡ä»¶äºŒ</li></ol><p>eg: <code>./test.sh &gt;&gt; success.log 2&gt;&gt; error.log</code></p><p><strong>æ³¨æ„ä¸Šé¢å‘½ä»¤ä¸­çš„ç©ºæ ¼ï¼Œåœ¨é”™è¯¯è¾“å‡ºä¸­<code>2&gt;</code>æˆ–è€…<code>2&gt;&gt;</code>ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼Œ <code>1&gt;</code> ç­‰åŒäº <code>&gt;</code>ï¼Œ<code>1</code>çœç•¥ä¸å†™</strong><br>ä¸€èˆ¬éƒ½æ˜¯ä»¥è¿½åŠ çš„æ–¹å¼å†™å…¥æ—¥å¿—æ–‡ä»¶<br>æœ€å¸¸ç”¨çš„å‘½ä»¤ï¼š<br><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">`å‘½ä»¤&gt;&gt;æ–‡ä»¶ä¸€ <span class="number">2</span>&gt;&gt;æ–‡ä»¶äºŒ`</span><br><span class="line">`å‘½ä»¤ &amp;&gt;&gt; æ–‡ä»¶`</span><br></pre></td></tr></table></figure></p><p><code>/dev/null</code>ç›®å½•æ–‡ä»¶å†™å…¥åä¸¢å¼ƒï¼Œç”¨äºä¸€äº›ä¸éœ€è¦è¿‡ç¨‹åªéœ€è¦ç»“æœçš„å‘½ä»¤</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; å’Œ <span class="number">1</span>&gt; ç›¸åŒ, æ ‡å‡†è¾“å‡ºé‡å®šå‘</span><br><span class="line"><span class="number">2</span>&gt;&amp;<span class="number">1</span> æ ‡æ ‡å‡†é”™è¯¯è¾“å‡º é‡å®šå‘åˆ° æ ‡å‡†è¾“å‡º</span><br><span class="line">&amp;&gt; file æŠŠæ ‡å‡†è¾“å‡ºå’Œé”™è¯¯è¾“å‡ºéƒ½é‡å®šå‘åˆ°æ–‡ä»¶fileä¸­</span><br></pre></td></tr></table></figure><h3 id="è¾“å…¥é‡å®šå‘"><a href="#è¾“å…¥é‡å®šå‘" class="headerlink" title="è¾“å…¥é‡å®šå‘"></a>è¾“å…¥é‡å®šå‘</h3><p><code>wc [é€‰é¡¹] [æ–‡ä»¶å]</code></p><p>é€‰é¡¹ï¼š</p><ul><li>-c ç»Ÿè®¡å­—èŠ‚æ•°</li><li>-w ç»Ÿè®¡å•è¯æ•°</li><li>-l ç»Ÿè®¡è¡Œæ•°<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤ &lt; æŠŠæ–‡ä»¶ä½œä¸ºå‘½ä»¤çš„è¾“å…¥</span><br><span class="line">å‘½ä»¤ &lt;&lt; æ ‡è¯†ç¬¦</span><br></pre></td></tr></table></figure></li></ul><p>æ ‡è¯†ç¬¦æŠŠæ ‡è¯†ç¬¦ä¹‹é—´çš„å†…å®¹ä½œä¸ºå‘½ä»¤çš„è¾“å…¥<br>eg:<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wc &lt; acc.<span class="built_in">log</span><span class="meta"># ç»Ÿè®¡æ–‡ä»¶çš„è¾“å…¥</span></span><br><span class="line">&lt;&lt;å¾ˆå°‘ç”¨</span><br></pre></td></tr></table></figure></p><h2 id="ç®¡é“ç¬¦"><a href="#ç®¡é“ç¬¦" class="headerlink" title="ç®¡é“ç¬¦"></a>ç®¡é“ç¬¦</h2><h3 id="å¤šå‘½ä»¤é¡ºåºæ‰§è¡Œï¼š"><a href="#å¤šå‘½ä»¤é¡ºåºæ‰§è¡Œï¼š" class="headerlink" title="å¤šå‘½ä»¤é¡ºåºæ‰§è¡Œï¼š"></a>å¤šå‘½ä»¤é¡ºåºæ‰§è¡Œï¼š</h3><table><thead><tr><th>å¤šå‘½ä»¤æ‰§è¡Œç¬¦</th><th>æ ¼å¼</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>;</td><td>å‘½ä»¤1; å‘½ä»¤2</td><td>å¤šä¸ªå‘½ä»¤é¡ºåºæ‰§è¡Œï¼Œä¹‹é—´æ²¡æœ‰ä»»ä½•é€»è¾‘å…³ç³»</td></tr><tr><td>&amp;&amp;</td><td>å‘½ä»¤1 &amp;&amp; å‘½ä»¤2</td><td>é€»è¾‘ä¸ï¼Œ å½“å‘½ä»¤1æ­£ç¡®æ‰§è¡Œï¼Œåˆ™å‘½ä»¤2æ‰ä¼šæ‰§è¡Œï¼Œå¦åˆ™å‘½ä»¤2ä¸æ‰§è¡Œ</td></tr><tr><td></td><td></td><td></td><td>å‘½ä»¤1</td><td></td><td>å‘½ä»¤2</td><td>é€»è¾‘æˆ–ï¼Œ å½“å‘½ä»¤1æ‰§è¡Œä¸æ­£ç¡®ï¼Œæ‰ä¼šæ‰§è¡Œå‘½ä»¤2ï¼Œå¦åˆ™å‘½ä»¤2ä¸ä¼šæ‰§è¡Œ</td></tr></tbody></table><p>åˆ¤æ–­å‘½ä»¤æ˜¯å¦æ­£ç¡®æ‰§è¡Œ:</p><p><code>./test.sh &amp;&amp; echo &quot;yes&quot; || echo &quot;no&quot;</code></p><h3 id="ç®¡é“ç¬¦-1"><a href="#ç®¡é“ç¬¦-1" class="headerlink" title="ç®¡é“ç¬¦"></a>ç®¡é“ç¬¦</h3><p>æ ¼å¼ï¼š</p><p><code>å‘½ä»¤1 | å‘½ä»¤2</code></p><p>å‘½ä»¤1çš„æ­£ç¡®è¾“å‡ºä½œä¸ºå‘½ä»¤2çš„æ“ä½œå¯¹è±¡<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -an | grep ESTABLISHED</span><br></pre></td></tr></table></figure></p><h3 id="é€šé…ç¬¦"><a href="#é€šé…ç¬¦" class="headerlink" title="é€šé…ç¬¦"></a>é€šé…ç¬¦</h3><table><thead><tr><th>é€šé…ç¬¦</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>ï¼Ÿ </td><td>åŒ¹é…ä¸€ä¸ªä»»æ„å­—ç¬¦</td></tr><tr><td>*</td><td>åŒ¹é…0ä¸ªæˆ–ä»»æ„å¤šä¸ªå­—ç¬¦</td></tr><tr><td>[]</td><td>åŒ¹é…ä¸­æ‹¬å·ä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td>[-]</td><td>åŒ¹é…ä¸­æ‹¬å·ä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œ - ä»£è¡¨èŒƒå›´</td></tr><tr><td>[^]</td><td>é€»è¾‘éï¼Œ åŒ¹é…ä¸ä¸Šä¸­æ‹¬å·å†…çš„ä¸€ä¸ªå­—ç¬¦</td></tr></tbody></table><p><em>é€šé…ç¬¦ç”¨äºåŒ¹é…æ–‡ä»¶åæˆ–ç›®å½•å</em></p><h3 id="bashä¸­å…¶ä»–ç‰¹æ®Šç¬¦å·"><a href="#bashä¸­å…¶ä»–ç‰¹æ®Šç¬¦å·" class="headerlink" title="bashä¸­å…¶ä»–ç‰¹æ®Šç¬¦å·"></a>bashä¸­å…¶ä»–ç‰¹æ®Šç¬¦å·</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">''</span></span><br><span class="line"><span class="string">""</span></span><br><span class="line"><span class="string">``</span> : åå¼•å·ï¼Œåå¼•å·æ‹¬èµ·æ¥çš„æ˜¯ç³»ç»Ÿå‘½ä»¤ï¼Œåœ¨bashä¸­ä¼šå…ˆæ‰§è¡Œå®ƒï¼Œå’Œ$()ä½œç”¨ä¸€æ ·</span><br><span class="line">$() : ä½œç”¨åŒåå¼•å·, æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œç„¶åè·å–åˆ°æ‰§è¡Œç»“æœ</span><br><span class="line">$ : è°ƒç”¨å˜é‡çš„å€¼</span><br><span class="line">\ : è½¬ä¹‰ç¬¦</span><br><span class="line"><span class="comment">#  :æ³¨é‡Š</span></span><br></pre></td></tr></table></figure>]]></content><categories><category> åç«¯ </category></categories><tags><tag> linux </tag><tag> bash </tag></tags></entry><entry><title>linuxå­¦ä¹ ç¬”è®°(2)</title><link href="/linux-note-2.html"/><url>/linux-note-2.html</url><content type="html"><![CDATA[<h3 id="1-shell-è„šæœ¬"><a href="#1-shell-è„šæœ¬" class="headerlink" title="1.shell è„šæœ¬"></a>1.shell è„šæœ¬</h3><p>è„šæœ¬è¯­è¨€æ˜¯ç”¨æ¥è®©è®¡ç®—æœºè‡ªåŠ¨åŒ–æ‰§è¡Œå®Œæˆä¸€ç³»åˆ—å·¥ä½œçš„ç¨‹åºï¼Œä¸éœ€è¦ç¼–è¯‘ï¼Œé€šå¸¸æ˜¯é€šè¿‡è§£é‡Šå™¨è¿è¡Œçš„ã€‚</p><a id="more"></a><h3 id="2-shellç¯å¢ƒ"><a href="#2-shellç¯å¢ƒ" class="headerlink" title="2.shellç¯å¢ƒ"></a>2.shellç¯å¢ƒ</h3><p>shellæ–‡ä»¶çš„ç¬¬ä¸€è¡Œçš„â€#!â€æ˜¯ä¸€ä¸ªçº¦å®šçš„æ ‡è®°ï¼Œå‘Šè¯‰ç³»ç»Ÿå…¶åè·¯å¾„æ‰€æŒ‡å®šçš„ç¨‹åºå³æ˜¯è§£é‡Šæ­¤è„šæœ¬çš„shellç¨‹<br>linuxçš„shellç§ç±»å¸¸è§çš„æœ‰ï¼š</p><ul><li>Bourne Ageng Shell(/bin/bash)</li><li>Bourne Shell(/usr/bin/sh æˆ–/bin/sh)</li><li>â€œC Shellâ€ (/usr/bin/csh)</li><li>Shell for Root(/sbin/sh)</li></ul><h3 id="3-è¿è¡Œshellè„šæœ¬"><a href="#3-è¿è¡Œshellè„šæœ¬" class="headerlink" title="3.è¿è¡Œshellè„šæœ¬"></a>3.è¿è¡Œshellè„šæœ¬</h3><p>åˆ›å»ºä¸€ä¸ªshellè„šæœ¬æ–‡ä»¶,ä¿å­˜ä¸ºtest.sh<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span><span class="string">"hello"</span><span class="comment">#echoå‘½ä»¤ç”¨äºå‘çª—å£è¾“å‡ºæ–‡æœ¬</span></span><br></pre></td></tr></table></figure></p><ol><li>ä½œä¸ºå¯æ‰§è¡Œæ–‡ä»¶<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x ./text.sh  <span class="comment">#ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™</span></span><br><span class="line">./test.sh <span class="comment">#æ‰§è¡Œè„šæœ¬</span></span><br></pre></td></tr></table></figure></li></ol><p>æ‰§è¡Œè„šæœ¬å¿…é¡»æŒ‡å®šè·¯å¾„ï¼Œå¯ä»¥ç”¨ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„ï¼Œä¸æŒ‡å®šè·¯å¾„ä¼šä»PATHé‡Œé¢æ‰¾ã€‚</p><ol start="2"><li>ä½œä¸ºè§£é‡Šå™¨å‚æ•°</li></ol><p>ç›´æ¥è¿è¡Œè§£é‡Šå™¨ï¼Œå…¶å‚æ•°ä¸ºshellè„šæœ¬çš„æ–‡ä»¶å<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/bin/sh test.sh</span><br><span class="line">/bin/php test.php</span><br></pre></td></tr></table></figure></p><p>è¿™ç§æ–¹å¼è¿è¡Œè„šæœ¬ï¼Œç¬¬ä¸€è¡Œä¸éœ€è¦æŒ‡å®šè§£é‡Šå™¨ä¿¡æ¯ï¼Œå†™äº†ä¹Ÿä¸èµ·ä½œç”¨</p><h3 id="4-shellå˜é‡"><a href="#4-shellå˜é‡" class="headerlink" title="4.shellå˜é‡"></a>4.shellå˜é‡</h3><h4 id="4-1-å˜é‡å®šä¹‰"><a href="#4-1-å˜é‡å®šä¹‰" class="headerlink" title="4.1 å˜é‡å®šä¹‰"></a>4.1 å˜é‡å®šä¹‰</h4><p>å˜é‡åå’Œç­‰å·ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œshellå˜é‡å®šä¹‰çš„è§„å®šï¼š</p><ul><li>å˜é‡å‘½ååªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ï¼Œæ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œé¦–å­—ç¬¦ä¸èƒ½ä»¥æ•°å­—å¼€å¤´</li><li>ä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿</li><li>ä¸èƒ½ä½¿ç”¨æ ‡ç‚¹ç¬¦å·</li><li>ä¸èƒ½ä½¿ç”¨bashé‡Œçš„å…³é”®å­—</li></ul><p>æœ‰æ•ˆçš„å˜é‡ç¤ºä¾‹å¦‚ä¸‹ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Room</span><br><span class="line">L_YARM</span><br><span class="line">_var</span><br><span class="line">var2</span><br></pre></td></tr></table></figure></p><p>æ— æ•ˆçš„å˜é‡åï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?var=123</span><br><span class="line">user*name=runoob</span><br></pre></td></tr></table></figure></p><p>å˜é‡èµ‹å€¼å¯ä»¥æ˜¾å¼çš„ç›´æ¥èµ‹å€¼ä¹Ÿå¯ä»¥ç”¨è¯­å¥æ¥èµ‹å€¼ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Room=222</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> `ls /etc`</span><br></pre></td></tr></table></figure></p><h4 id="4-2-å˜é‡çš„ä½¿ç”¨"><a href="#4-2-å˜é‡çš„ä½¿ç”¨" class="headerlink" title="4.2 å˜é‡çš„ä½¿ç”¨"></a>4.2 å˜é‡çš„ä½¿ç”¨</h4><p>ä½¿ç”¨ä¸€ä¸ªå®šä¹‰è¿‡çš„å˜é‡ï¼Œåªéœ€è¦åœ¨å˜é‡å‰é¢åŠ ä¸Šç¾å…ƒç¬¦å·å³å¯<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">your_name=<span class="string">'mhy'</span></span><br><span class="line"><span class="built_in">echo</span><span class="variable">$your_name</span></span><br><span class="line"><span class="built_in">echo</span><span class="variable">$&#123;your_name&#125;</span></span><br></pre></td></tr></table></figure></p><p>å˜é‡åå¤–é¢çš„èŠ±æ‹¬å·å¯é€‰ï¼ŒåŠ èŠ±æ‹¬å·æ˜¯ä¸ºäº†å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡çš„è¾¹ç•Œ<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> skill <span class="keyword">in</span> Ada Coffe Action Java; <span class="keyword">do</span></span><br><span class="line">2<span class="built_in">echo</span><span class="string">"I am good at <span class="variable">$&#123;skill&#125;</span>Script"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></p><p>æ¨èç»™æ‰€æœ‰å˜é‡åŠ ä¸Š$</p><p>å·²å®šä¹‰çš„å˜é‡å¯ä»¥é‡æ–°è¢«å®šä¹‰<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your_name=<span class="string">"tom"</span></span><br><span class="line"><span class="built_in">echo</span><span class="variable">$&#123;your_name&#125;</span></span><br><span class="line">your_name=<span class="string">"lily"</span></span><br><span class="line"><span class="built_in">echo</span><span class="variable">$&#123;your_name&#125;</span></span><br></pre></td></tr></table></figure></p><p>ä½†æ˜¯å˜é‡å®šä¹‰çš„æ—¶å€™ä¸èƒ½åŠ $ç¬¦å·ã€‚</p><h4 id="4-3-åªè¯»å˜é‡"><a href="#4-3-åªè¯»å˜é‡" class="headerlink" title="4.3 åªè¯»å˜é‡"></a>4.3 åªè¯»å˜é‡</h4><p>ä½¿ç”¨readonlyå‘½ä»¤å¯ä»¥å°†å˜é‡å®šä¹‰ä¸ºåªè¯»å˜é‡ï¼Œä¿®æ”¹åªè¯»å˜é‡ä¼šæŠ¥é”™<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!bin/bash</span></span><br><span class="line">girl_friend=<span class="string">"lily"</span></span><br><span class="line"><span class="built_in">readonly</span> girl_fiend</span><br><span class="line">gir_friend=<span class="string">"leilei"</span></span><br></pre></td></tr></table></figure></p><p>è¿è¡Œè„šæœ¬æŠ¥é”™äº†.</p><h4 id="4-4-åˆ é™¤å˜é‡"><a href="#4-4-åˆ é™¤å˜é‡" class="headerlink" title="4.4 åˆ é™¤å˜é‡"></a>4.4 åˆ é™¤å˜é‡</h4><p>ä½¿ç”¨unset å‘½ä»¤åˆ é™¤å˜é‡<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">girl_friend=<span class="string">"xiao mei"</span></span><br><span class="line"><span class="built_in">unset</span> girl_friend</span><br></pre></td></tr></table></figure></p><p><strong>unset å‘½ä»¤ä¸èƒ½åˆ é™¤åªè¯»å˜é‡</strong></p><h4 id="4-5-å˜é‡ç±»å‹"><a href="#4-5-å˜é‡ç±»å‹" class="headerlink" title="4.5 å˜é‡ç±»å‹"></a>4.5 å˜é‡ç±»å‹</h4><p>shellè„šæœ¬è¯­è¨€å­˜åœ¨ä¸‰ç§å˜é‡ï¼š</p><ul><li>å±€éƒ¨å˜é‡ å±€éƒ¨å˜é‡åœ¨è„šæœ¬æˆ–å‘½ä»¤ä¸­å®šä¹‰ï¼Œä»…åœ¨å½“å‰shellå®ä¾‹ä¸­æœ‰æ•ˆ</li><li>ç¯å¢ƒå˜é‡ æ‰€æœ‰çš„ç¨‹åºåŒ…æ‹¬shellå¯åŠ¨çš„ç¨‹åºï¼Œéƒ½èƒ½è®¿é—®ç¯å¢ƒå˜é‡ï¼Œå¿…è¦æ—¶shellè„šæœ¬ä¹Ÿèƒ½å®šä¹‰ç¯å¢ƒå˜é‡</li><li>shellå˜é‡ shellå˜é‡æ˜¯ç”±shellç¨‹åºè®¾ç½®çš„ç‰¹æ®Šå˜é‡ï¼Œshellå˜é‡ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯ç¯å¢ƒå˜é‡ï¼Œä¸€éƒ¨åˆ†æ˜¯å±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡ä¿è¯äº†shellçš„æ­£å¸¸è¿è¡Œ</li></ul><h3 id="5-shellå­—ç¬¦ä¸²"><a href="#5-shellå­—ç¬¦ä¸²" class="headerlink" title="5.shellå­—ç¬¦ä¸²"></a>5.shellå­—ç¬¦ä¸²</h3><p>å­—ç¬¦ä¸²æ˜¯shellç¼–ç¨‹ä¸­æœ€å¸¸ç”¨æœ€æœ‰æ•ˆçš„æ•°æ®ç±»å‹ã€‚<br>å­—ç¬¦ä¸²å¯ä»¥ç”¨å•å¼•å·æˆ–åŒå¼•å·æˆ–ä¸ç”¨å¼•å·ã€‚</p><h4 id="5-1-å•å¼•å·"><a href="#5-1-å•å¼•å·" class="headerlink" title="5.1 å•å¼•å·"></a>5.1 å•å¼•å·</h4><p>å•å¼•å·å­—ç¬¦ä¸²çš„é™åˆ¶ï¼š</p><ul><li>å•å¼•å·é‡Œä»»ä½•å­—ç¬¦éƒ½ä¼šåŸæ ·è¾“å‡ºï¼Œå•å¼•å·å­—ç¬¦ä¸²ä¸­çš„å˜é‡æ˜¯æ— æ•ˆçš„</li><li>å•å¼•å·å­—ç¬¦ä¸²ä¸­ä¸èƒ½å‡ºç°å•å¼•å·ï¼ˆå¯¹å•å¼•å·ä½¿ç”¨è½¬ä¹‰ç¬¦åä¹Ÿä¸è¡Œï¼‰<h4 id="5-2-åŒå¼•å·"><a href="#5-2-åŒå¼•å·" class="headerlink" title="5.2 åŒå¼•å·"></a>5.2 åŒå¼•å·</h4></li></ul><p>åŒå¼•å·çš„æœ‰ç‚¹ï¼š</p><ul><li>åŒå¼•å·é‡Œå¯ä»¥æœ‰å˜é‡</li><li>åŒå¼•å·é‡Œå¯ä»¥å‡ºç°è½¬ä¹‰å­—ç¬¦</li></ul><h4 id="5-3-æ‹¼æ¥å­—ç¬¦ä¸²"><a href="#5-3-æ‹¼æ¥å­—ç¬¦ä¸²" class="headerlink" title="5.3 æ‹¼æ¥å­—ç¬¦ä¸²"></a>5.3 æ‹¼æ¥å­—ç¬¦ä¸²</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your_name=<span class="string">"mhy"</span></span><br><span class="line">greeting=<span class="string">"hello"</span>, <span class="string">"<span class="variable">$your_name</span>"</span>!<span class="string">"</span></span><br><span class="line"><span class="string">greeting_1="</span>hello, <span class="variable">$&#123;your_name&#125;</span>!<span class="string">"</span></span><br><span class="line"><span class="string">echo <span class="variable">$greeting</span><span class="variable">$greeting_1</span></span></span><br></pre></td></tr></table></figure><h4 id="5-4-è·å–å­—ç¬¦ä¸²é•¿åº¦"><a href="#5-4-è·å–å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="5.4 è·å–å­—ç¬¦ä¸²é•¿åº¦"></a>5.4 è·å–å­—ç¬¦ä¸²é•¿åº¦</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># string="beijing"</span></span><br><span class="line"><span class="comment"># echo $&#123;#string&#125; #è¾“å‡º 7</span></span><br></pre></td></tr></table></figure><h4 id="5-5-æå–å­—ç¬¦ä¸²"><a href="#5-5-æå–å­—ç¬¦ä¸²" class="headerlink" title="5.5 æå–å­—ç¬¦ä¸²"></a>5.5 æå–å­—ç¬¦ä¸²</h4><p>ä»¥ä¸‹å®ä¾‹ä»å­—ç¬¦ä¸²ç¬¬2ä¸ªå­—ç¬¦å¼€å§‹æˆªå–4ä¸ªå­—ç¬¦<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string=<span class="string">"hello beijing!"</span></span><br><span class="line"><span class="built_in">echo</span><span class="variable">$&#123;string:1:4&#125;</span><span class="comment">#è¾“å‡º trin</span></span><br></pre></td></tr></table></figure></p><h4 id="5-6-æŸ¥æ‰¾å­å­—ç¬¦ä¸²"><a href="#5-6-æŸ¥æ‰¾å­å­—ç¬¦ä¸²" class="headerlink" title="5.6 æŸ¥æ‰¾å­å­—ç¬¦ä¸²"></a>5.6 æŸ¥æ‰¾å­å­—ç¬¦ä¸²</h4><p>æŸ¥æ‰¾å­å­—ç¬¦ä¸²çš„ä½ç½®<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string=<span class="string">"wellcome to beijing, shaonian"</span></span><br><span class="line"><span class="built_in">echo</span> `expr index <span class="string">"<span class="variable">$string</span>"</span> is` <span class="comment"># è¾“å‡º</span></span><br></pre></td></tr></table></figure></p><h4 id="5-7-åˆ¤æ–­è¯»å–å­—ç¬¦ä¸²å€¼"><a href="#5-7-åˆ¤æ–­è¯»å–å­—ç¬¦ä¸²å€¼" class="headerlink" title="5.7 åˆ¤æ–­è¯»å–å­—ç¬¦ä¸²å€¼"></a>5.7 åˆ¤æ–­è¯»å–å­—ç¬¦ä¸²å€¼</h4><table><thead><tr><th>è¡¨è¾¾å¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>${var}</td><td>å®šä¹‰varçš„å€¼ï¼Œä¸$varç›¸åŒ</td></tr><tr><td></td><td></td></tr><tr><td>$(var-DEFAULT}</td><td>å¦‚æœvaræ²¡æœ‰è¢«å£°æ˜ï¼Œé‚£ä¹ˆå°±ä»¥$DEFAULTä½œä¸ºå…¶å€¼</td></tr><tr><td>${var:-DEFAULT}</td><td>å¦‚æœvaræ²¡æœ‰è¢«å£°æ˜ï¼Œæˆ–è€…å…¶å€¼ä¸ºç©ºï¼Œé‚£ä¹ˆå°±ä»¥$DEFAULTä½œä¸ºå…¶å€¼</td></tr><tr><td></td><td></td></tr><tr><td>${var=DEFAULT}</td><td>å¦‚æœvaræ²¡æœ‰è¢«å£°æ˜ï¼Œé‚£ä¹ˆå°±ä»¥$DEFAULTä½œä¸ºå…¶å€¼</td></tr><tr><td>${var:=DEFAULT</td><td>å¦‚æœvaræ²¡æœ‰è¢«å£°æ˜ï¼Œæˆ–è€…å…¶å€¼ä¸ºç©ºï¼Œé‚£ä¹ˆå°±ä»¥$DEFAULTä½œä¸ºå…¶å€¼</td></tr><tr><td></td><td></td></tr><tr><td>${var+OTHER}</td><td>å¦‚æœvarå£°æ˜äº†ï¼Œé‚£ä¹ˆå…¶å€¼å°±æ˜¯$OTHER,å¦åˆ™å°±ä¸ºnullå­—ç¬¦ä¸²</td></tr><tr><td>${var:+OTHER}</td><td>å¦‚æœvarè¢«è®¾ç½®äº†ï¼Œé‚£ä¹ˆå…¶å€¼å°±æ˜¯$OTHERï¼Œå¦åˆ™å°±ä¸ºnullå­—ç¬¦ä¸²</td></tr></tbody></table><h4 id="5-8-å­—ç¬¦ä¸²æ“ä½œæ±‡æ€»"><a href="#5-8-å­—ç¬¦ä¸²æ“ä½œæ±‡æ€»" class="headerlink" title="5.8 å­—ç¬¦ä¸²æ“ä½œæ±‡æ€»"></a>5.8 å­—ç¬¦ä¸²æ“ä½œæ±‡æ€»</h4><table><thead><tr><th>è¡¨è¾¾å¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>${string:position</td><td>åœ¨$stringä¸­, ä»ä½ç½®$positionå¼€å§‹æå–å­ä¸²</td></tr><tr><td>${string:position:length</td><td>åœ¨$stringä¸­, ä»ä½ç½®$positionå¼€å§‹æå–é•¿åº¦ä¸º$lengthçš„å­ä¸²</td></tr><tr><td></td><td></td></tr><tr><td>${string#substring</td><td>ä»å˜é‡$stringçš„å¼€å¤´, åˆ é™¤æœ€çŸ­åŒ¹é…$substringçš„å­ä¸²</td></tr><tr><td>${string##substring</td><td>ä»å˜é‡$stringçš„å¼€å¤´, åˆ é™¤æœ€é•¿åŒ¹é…$substringçš„å­ä¸²</td></tr><tr><td>${string%substring</td><td>ä»å˜é‡$stringçš„ç»“å°¾, åˆ é™¤æœ€çŸ­åŒ¹é…$substringçš„å­ä¸²</td></tr><tr><td>${string%%substring</td><td>ä»å˜é‡$stringçš„ç»“å°¾, åˆ é™¤æœ€é•¿åŒ¹é…$substringçš„å­ä¸²</td></tr><tr><td></td><td></td></tr><tr><td>${string/substring/replacement</td><td>ä½¿ç”¨$replacement, æ¥ä»£æ›¿ç¬¬ä¸€ä¸ªåŒ¹é…çš„$substring</td></tr><tr><td>${string//substring/replacement</td><td>ä½¿ç”¨$replacement, ä»£æ›¿æ‰€æœ‰åŒ¹é…çš„$substring</td></tr><tr><td>${string/#substring/replacement</td><td>å¦‚æœ$stringçš„å‰ç¼€åŒ¹é…$substring, é‚£ä¹ˆå°±ç”¨$replacementæ¥ä»£æ›¿åŒ¹é…åˆ°çš„$substring</td></tr><tr><td>${string/%substring/replacement</td><td>å¦‚æœ$stringçš„åç¼€åŒ¹é…$substring, é‚£ä¹ˆå°±ç”¨$replacementæ¥ä»£æ›¿åŒ¹é…åˆ°çš„$substring</td></tr></tbody></table><h3 id="6-shellæ•°ç»„"><a href="#6-shellæ•°ç»„" class="headerlink" title="6.shellæ•°ç»„"></a>6.shellæ•°ç»„</h3><p>bashæ”¯æŒä¸€ç»´æ•°ç»„ä¸æ”¯æŒå¤šç»´æ•°ç»„ï¼Œæ²¡æœ‰é™å®šæ•°ç»„çš„å¤§å°<br>æ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹ç¼–å·ï¼Œä¸‹ä¾¿å¯ä»¥æ˜¯æ•´æ•°æˆ–ç®—æ•°è¡¨è¾¾å¼ï¼Œå…¶å€¼åº”è¯¥å¤§äºæˆ–ç­‰äº0ã€‚</p><h4 id="6-1-å®šä¹‰æ•°ç»„"><a href="#6-1-å®šä¹‰æ•°ç»„" class="headerlink" title="6.1 å®šä¹‰æ•°ç»„"></a>6.1 å®šä¹‰æ•°ç»„</h4><p>åœ¨shellä¸­ç”¨æ‹¬å·æ¥è¡¨ç¤ºæ•°ç»„ï¼Œå…ƒç´ ç”¨ç©ºæ ¼ç¬¦å·éš”å¼€ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ•°ç»„å=(å€¼1 å€¼2 å€¼3 ... å€¼n)</span><br></pre></td></tr></table></figure></p><p>egï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">array_name=(</span><br><span class="line">  value0</span><br><span class="line">  value1</span><br><span class="line">  value2</span><br><span class="line">  value3</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><p>è¿˜å¯ä»¥å•ç‹¬å®šä¹‰æ•°ç»„çš„å„ä¸ªåˆ†é‡ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array_name[0]=value0</span><br><span class="line">array_name[1]=value1</span><br><span class="line">array_name[100]=value100</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥ä¸ä½¿ç”¨è¿ç»­çš„ä¸‹æ ‡ï¼Œè€Œä¸”ä¸‹æ ‡çš„èŒƒå›´æ²¡æœ‰é™åˆ¶ã€‚</p><h4 id="6-2-æ•°ç»„çš„æ“ä½œ"><a href="#6-2-æ•°ç»„çš„æ“ä½œ" class="headerlink" title="6.2 æ•°ç»„çš„æ“ä½œ"></a>6.2 æ•°ç»„çš„æ“ä½œ</h4><ul><li>è¯»å–æ•°ç»„</li></ul><p>è¯»å–æ•°ç»„çš„è¯­æ³•ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(array_name[index])</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨@ç¬¦å·å¯ä»¥è·å–æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> $(array_name[@])</span><br></pre></td></tr></table></figure></p><ul><li>è·å–æ•°ç»„çš„é•¿åº¦</li></ul><p>è·å–æ•°ç»„çš„é•¿åº¦çš„æ–¹æ³•ä¸è·å–å­—ç¬¦ä¸²é•¿åº¦çš„æ–¹æ³•ç›¸åŒã€‚<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–æ•°ç»„å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">length=$(<span class="comment">#array_name[@])</span></span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">length=$(<span class="comment">#array_name[*])</span></span><br><span class="line"><span class="comment"># è·å–æ•°ç»„å•ä¸ªå…ƒç´ çš„é•¿åº¦</span></span><br><span class="line">lengthn=$(<span class="comment">#array_name[n])</span></span><br></pre></td></tr></table></figure></p><h3 id="7-æ³¨é‡Š"><a href="#7-æ³¨é‡Š" class="headerlink" title="7 æ³¨é‡Š"></a>7 æ³¨é‡Š</h3><p>shellä¸­åªæœ‰å•è¡Œæ³¨é‡Šï¼Œ åœ¨æ¯ä¸€è¡Œçš„å¼€å¤´åŠ å…¥#å³å¯</p><p>å¤šè¡Œä»£ç å¯ä»¥ç”¨èŠ±æ‹¬å·æ‹¬èµ·æ¥å®šä¹‰æˆä¸€ä¸ªå‡½æ•°ï¼Œä¸è°ƒç”¨å®ƒè¿™å—ä»£ç ä¸ä¼šæ‰§è¡Œï¼Œå’Œå¤šè¡Œæ³¨é‡Šçš„æ•ˆæœä¸€æ ·</p>]]></content><categories><category> åç«¯ </category></categories><tags><tag> linux </tag><tag> bash </tag></tags></entry><entry><title>linuxå­¦ä¹ ç¬”è®°(1)</title><link href="/linux-note-1.html"/><url>/linux-note-1.html</url><content type="html"><![CDATA[<p>æœ€è¿‘ç»™å®¶é‡Œçš„PCçš„è™šæ‹Ÿæœºä¸Šæ­å»ºå¼€å‘ç¯å¢ƒï¼Œç»å¸¸ç”¨åˆ°æ–‡ä»¶æˆ–ç›®å½•æƒé™çš„é—®é¢˜ï¼Œ å‘ç°å¯¹è¿™ä¸€å—çš„äº†è§£è¿˜ä¸å¤Ÿï¼Œæ‰€ä»¥æŠ½æ—¶é—´æ¶è¡¥äº†ä¸€ä¸‹ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚<br><a id="more"></a></p><h2 id="æ–‡ä»¶ç±»å‹"><a href="#æ–‡ä»¶ç±»å‹" class="headerlink" title="æ–‡ä»¶ç±»å‹"></a>æ–‡ä»¶ç±»å‹</h2><p>æ–‡ä»¶æƒé™åŒºåˆ†çš„æ–‡ä»¶ç±»å‹æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><blockquote><p>-: æ–‡ä»¶;<br>d: ç›®å½•;<br>l: è½¯è¿æ¥æ–‡ä»¶<br>rw-  râ€“ râ€“<br>u æ‰€æœ‰è€…  gæ‰€å±ç»„  oå…¶ä»–äºº<br>r read  w write x æ‰§è¡Œ(excute)</p></blockquote><h2 id="æƒé™èŒƒå›´çš„è¡¨ç¤º"><a href="#æƒé™èŒƒå›´çš„è¡¨ç¤º" class="headerlink" title="æƒé™èŒƒå›´çš„è¡¨ç¤º"></a>æƒé™èŒƒå›´çš„è¡¨ç¤º</h2><p>ä½¿ç”¨ls -la å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶æƒé™èŒƒå›´ï¼š</p><blockquote><p>ls å‘½ä»¤çš„é€‰é¡¹è¯¦è§£:</p><ul><li>-a</li><li>-l (lang) (ll)</li><li>-d æŸ¥çœ‹ç›®å½•å±æ€§</li><li>-h  äººæ€§åŒ–æ˜¾ç¤ºæ–‡ä»¶å¤§å°</li><li>-i æ˜¾ç¤ºinode</li></ul></blockquote><p>æ‰§è¡Œ<code>ls -la</code>åæ˜¾ç¤ºå‡ºæ¥çš„å†…å®¹ä»å·¦åˆ°å³ä¾æ¬¡ä¸ºï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r--   <span class="number">1</span>         root       wheel    <span class="number">515</span>B  <span class="number">7</span><span class="number">13</span><span class="number">2015</span> afpovertcp.cfg</span><br><span class="line">  æƒé™  <span class="number">1</span>å¼•ç”¨è®¡æ•° æ‰€æœ‰è€…root æ‰€å±ç»„sheel æ–‡ä»¶å¤§å° æœ€åä¿®æ”¹æ—¶é—´  æ–‡ä»¶å</span><br></pre></td></tr></table></figure></p><h2 id="æ–‡ä»¶æƒé™æ§åˆ¶"><a href="#æ–‡ä»¶æƒé™æ§åˆ¶" class="headerlink" title="æ–‡ä»¶æƒé™æ§åˆ¶"></a>æ–‡ä»¶æƒé™æ§åˆ¶</h2><p>æ–‡ä»¶æ ¼å¼ï¼š<br><code>-rw-r-r--</code></p><p>liniuxæ–‡ä»¶æƒé™æ ¼å¼ä¸€å…±æœ‰10ä½ï¼Œç¬¬ä¸€ä½æ˜¯æ–‡ä»¶ç±»å‹ï¼Œåé¢æ²¡ä¸‰ä½ä»£è¡¨ä¸€ç»„ï¼Œæ¯ä¸‰ä½ä¸€ç»„ï¼Œ ç›¸åŒæƒé™çš„ä¸ºä¸€ç»„ï¼Œä¾æ¬¡ä¸ºï¼šu æ‰€æœ‰è€…, gæ‰€å±ç»„, oå…¶ä»–äºº</p><blockquote><p>u: User, æ–‡ä»¶æˆ–ç›®å½•çš„æ‹¥æœ‰è€…<br>g: Groupï¼Œæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„<br>o: Other, é™¤äº†æ–‡ä»¶æˆ–ç›®å½•çš„æ‹¥æœ‰è€…æˆ–æ‰€å±ç¾¤ç»„ä¹‹å¤–ï¼Œå…¶ä»–ç”¨æˆ·çš†å±äºè¿™ä¸ªèŒƒå›´<br>a: All, å…¨éƒ¨ç”¨æˆ·ï¼ŒåŒ…å«æ‹¥æœ‰è€…ã€æ‰€å±ç¾¤ç»„ä»¥åŠå…¶ä»–ç”¨æˆ·<br>r: readï¼Œ è¯»å–æƒé™ï¼Œ æ•°å­—ä»£å·ä¸º â€˜4â€™<br>w: write, å†™å…¥æƒé™ï¼Œæ•°å­—ä»£å·ä¸ºâ€™2â€™<br>x: æ‰§è¡Œæˆ–åˆ‡æ¢çš„æƒé™ï¼Œæ•°å­—ä»£å·ä¸ºâ€™1â€™<br>-: ä¸å…·å¤‡ä»»ä½•æƒé™ï¼Œ æ•°å­—ä»£å·ä¸ºâ€™0â€™<br>s: ç‰¹æ®ŠåŠŸèƒ½è¯´æ˜ï¼Œå˜æ›´æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™</p></blockquote><h2 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h2><ul><li><p>æ ¼å¼ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod [-cfvR] [--<span class="built_in">help</span>] [--version] mode file...</span><br></pre></td></tr></table></figure></li><li><p>é€‰é¡¹</p><blockquote><p>-cæˆ–â€“change: æ•ˆæœç±»ä¼¼â€™-vâ€™å‚æ•°ï¼Œä½†ä»…è¿”å›æ›´æ”¹çš„éƒ¨åˆ†<br>-fæˆ–â€“quietæˆ–â€“silent: ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯<br>-Ræˆ–â€“recursive: é€’å½’å¤„ç†ï¼Œ å°†æŒ‡ä»¤ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå­—æ¯é‡Œä¸€å¹¶å¤„ç†<br>-væˆ–â€“verboseï¼š æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹<br>â€“reference=&lt;å‚è€ƒæ–‡ä»¶æˆ–ç›®å½•&gt;ï¼š æŠŠæŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„å…¨éƒ¨è®¾æˆå’Œå‚è€ƒæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„ç›¸åŒ<br>&lt;æƒé™èŒƒå›´&gt;+&lt;æƒé™è®¾ç½®&gt;ï¼š å¼€å¯æƒé™èŒƒå›´çš„æ–‡ä»¶æˆ–ç›®å½•çš„è¯¥é€‰é¡¹æƒé™è®¾ç½®<br>&lt;æƒé™èŒƒå›´&gt;-&lt;æƒé™è®¾ç½®&gt;ï¼š å…³é—­æƒé™èŒƒå›´çš„æ–‡ä»¶æˆ–ç›®å½•çš„è¯¥é€‰é¡¹æƒé™è®¾ç½®<br>&lt;æƒé™èŒƒå›´&gt;=&lt;æƒé™è®¾ç½®&gt;ï¼š æŒ‡å®šæƒé™èŒƒå›´çš„æ–‡ä»¶æˆ–ç›®å½•çš„è¯¥é€‰é¡¹æƒé™è®¾ç½®</p></blockquote></li><li><p>å‚æ•°<br>æƒé™æ¨¡å¼ï¼š æŒ‡å®šæ–‡ä»¶çš„æƒé™æ¨¡å¼<br>æ–‡ä»¶ï¼š è¦æ”¹å˜æƒé™çš„æ–‡ä»¶</p></li></ul><blockquote><p>chmod 722 ./shell.sh</p></blockquote><p>chmod 777 shell.sh # ç»Ÿä¸€æˆæƒæ–¹å¼ï¼Œä½¿ç”¨ä¸‰ä½æ•°å­—ä»£è¡¨æƒé™ï¼Œæ¯ä¸€ä½ä»£è¡¨ä¸€ä¸ªç»„ï¼Œä¸‰ä¸ªç»„æˆæƒå‡ä¸º7ï¼ˆrwxï¼‰<br>chmod u+x shell.sh # ç»™uç»„å¢åŠ æƒé™x</p><h1 id="æ•°å­—0-7ä»£è¡¨å«ä¹‰"><a href="#æ•°å­—0-7ä»£è¡¨å«ä¹‰" class="headerlink" title="æ•°å­—0 ~ 7ä»£è¡¨å«ä¹‰"></a>æ•°å­—0 ~ 7ä»£è¡¨å«ä¹‰</h1><blockquote><p>0: â€”   000<br>1: â€“x   001<br>2: -w-   010<br>3: -wx   011<br>4: râ€“   100<br>5: r-x   101<br>6: rw-   110<br>7: rwx   111</p></blockquote><p>å¯ä»¥çœ‹å‡ºè§„å¾‹ï¼Œæ¯ä¸€ç»„çš„æƒé™æŒ‰ç…§ä»å·¦åˆ°å³çš„æ’åºä¾æ¬¡æ˜¯rwx,æŒ‰ä¸‰ä¸ªäºŒè¿›åˆ¶ä½æ’åºï¼Œå“ªä¸€ä½ä¸º1å°±ä»£è¡¨è¯¥ä½æœ‰æƒé™</p><h3 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h3><p>æ”¹å˜æ–‡ä»¶æ‰€æœ‰è€…å‘½ä»¤æ ¼å¼ï¼š</p><blockquote><p>chown [é€‰é¡¹] å‚æ•°<br>chown [é€‰é¡¹]â€¦ [æ‰€æœ‰è€…][:[ç»„]] æ–‡ä»¶â€¦</p></blockquote><p>eg:<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown -R mhy:mhy ~/.ssh</span><br></pre></td></tr></table></figure></p><p>åŒæ—¶æŠŠ<code>.ssh</code>çš„æ‰€æœ‰è€…å’Œç»„éƒ½æ”¹æˆäº†mhy</p><p>é€‰é¡¹ï¼š</p><ul><li>-R æˆ– â€“recursive é€’å½’å¤„ç†</li><li>â€“reference=&lt;å‚è€ƒæ–‡ä»¶æˆ–ç›®å½•&gt;   æŠŠæŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•çš„æ‹¥æœ‰è€…ä¸æ‰€å±ç¾¤ç»„å…¨éƒ¨è®¾æˆå’Œå‚è€ƒæ–‡ä»¶æˆ–ç›®å½•æ‹¥æœ‰è€…ä¸æ‰€å±ç¾¤ç»„ç›¸åŒ</li></ul><p>å‚æ•°ï¼š</p><ul><li>ç”¨æˆ·ï¼šç»„   æŒ‡å®šæ‰€æœ‰è€…å’Œæ‰€å±ç»„ï¼Œ å½“çœç•¥ç»„ï¼Œä»…æ”¹å˜æ‰€æœ‰è€…</li><li>æ–‡ä»¶      æ–‡ä»¶åˆ—è¡¨ï¼Œå¯ä½¿ç”¨shellé€šé…ç¬¦æ”¹å˜å¤šä¸ª<br>egï¼š<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown -R mhy /<span class="built_in">home</span>/mhy<span class="comment">/*</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„"><a href="#ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„" class="headerlink" title="ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„"></a>ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/home/user</span><br><span class="line">./file.js</span><br></pre></td></tr></table></figure><h3 id="å¸¸ç”¨å‘½ä»¤ï¼š"><a href="#å¸¸ç”¨å‘½ä»¤ï¼š" class="headerlink" title="å¸¸ç”¨å‘½ä»¤ï¼š"></a>å¸¸ç”¨å‘½ä»¤ï¼š</h3><blockquote><p>cd ~ (å½“å‰ç”¨æˆ·çš„å®¶ç›®å½•ï¼Œå¦‚æœæ˜¯rootç”¨æˆ·ï¼Œåˆ™æ˜¯åœ¨/rootï¼Œ å…¶ä»–ç”¨æˆ·å®¶ç›®å½•åœ¨/home/username)<br>cd . å½“å‰<br>cd .. ä¸Šä¸€çº§<br>cd - è¿›å…¥ä¸Šä¸€æ¬¡ç›®å½•</p></blockquote><h2 id="æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¤„ç†å‘½ä»¤"><a href="#æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¤„ç†å‘½ä»¤" class="headerlink" title="æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¤„ç†å‘½ä»¤"></a>æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¤„ç†å‘½ä»¤</h2><p>åˆ›å»ºæ–‡ä»¶å¤¹æ ¼å¼ï¼š</p><blockquote><p>mkdir -p [ç›®å½•å]</p></blockquote><p>é€‰é¡¹ï¼š</p><ul><li>-p é€’å½’åˆ›å»ºï¼ˆå…ˆå»ºç«‹ä¸Šä¸€çº§ç›®å½•ï¼‰</li></ul><p>å…¶ä»–å‘½ä»¤ï¼š</p><ul><li>pwd</li><li>rmdir åˆ é™¤ç©ºç™½ç›®å½•ï¼Œå¦‚æœæœ‰å­æ–‡ä»¶åˆ™æ— æ³•åˆ é™¤ï¼Œä¸å¸¸ç”¨</li><li>rm åˆ æ–‡ä»¶æˆ–ç›®å½•</li><li>rm -rf  å¼ºåˆ¶åˆ é™¤ç›®å½•</li><li>rm -r åˆ é™¤ç›®å½•ï¼Œ ä¼šæœ‰ç¡®è®¤æç¤º</li><li>rm -f å¼ºåˆ¶åˆ é™¤ï¼Œä¸ä¼šæç¤º</li><li>cp å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•</li><li>cp [é€‰é¡¹] éœ€è¦å¤åˆ¶çš„è·¯å¾„  ç›®æ ‡ä½ç½®</li><li>cp -r å¤åˆ¶ç›®å½•</li><li>cp -p è¿å¸¦æ–‡ä»¶å±æ€§å¤åˆ¶</li><li>cp -d è‹¥æºæ–‡ä»¶æ˜¯é“¾æ¥æ–‡ä»¶åˆ™å¤åˆ¶é“¾æ¥å±æ€§</li><li>cp -a ç›¸å½“äº -pdr</li><li>mv [æºæ–‡ä»¶ä½ç½®] [ç›®æ ‡ä½ç½®]</li></ul><h3 id="å¸¸ç”¨ç›®å½•"><a href="#å¸¸ç”¨ç›®å½•" class="headerlink" title="å¸¸ç”¨ç›®å½•"></a>å¸¸ç”¨ç›®å½•</h3><p>ç³»ç»Ÿå‘½ä»¤ç›®å½•<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">/bin</span></span><br><span class="line"><span class="string">/sbin</span></span><br><span class="line"><span class="string">/usr/bin</span></span><br><span class="line"><span class="string">/usr/sbin</span></span><br><span class="line">sbinä¸‹åªæœ‰rootæƒé™å¯ä»¥æ‰§è¡Œï¼Œ å…¶ä»–ä¸¤ä¸ªæ‰€æœ‰ä¸éœ€è¦root</span><br><span class="line"></span><br><span class="line"><span class="string">/boot</span> å¯åŠ¨ç›®å½•</span><br><span class="line"><span class="string">/etc</span> é»˜è®¤é…ç½®æ–‡ä»¶ç›®å½•</span><br><span class="line"><span class="string">/lib</span> å‡½æ•°åº“</span><br><span class="line"><span class="string">/media</span> æŒ‚è½½ç§»åŠ¨ç›˜</span><br><span class="line"><span class="string">/mnt</span> æŒ‚è½½ç£ç›˜</span><br><span class="line"><span class="string">/sys</span><span class="string">/proc</span>  å†…å­˜ç›¸å…³çš„ç›®å½•</span><br><span class="line"><span class="string">/tmp</span> ä¸´æ—¶ç›®å½•</span><br><span class="line"><span class="string">/usr</span> ç³»ç»Ÿè½¯ä»¶èµ„æºç›®å½•</span><br><span class="line">2<span class="string">/usr/bin</span> ç³»ç»Ÿå‘½ä»¤<span class="params">(æ™®é€šç”¨æˆ·)</span></span><br><span class="line">2<span class="string">/usr/sbin</span> ç³»ç»Ÿå‘½ä»¤<span class="params">(root)</span></span><br><span class="line"><span class="string">/var</span> ç³»ç»Ÿç›¸å…³çš„æ–‡æ¡£å†…å®¹</span><br></pre></td></tr></table></figure></p><h2 id="é“¾æ¥å‘½ä»¤-link"><a href="#é“¾æ¥å‘½ä»¤-link" class="headerlink" title="é“¾æ¥å‘½ä»¤(link)"></a>é“¾æ¥å‘½ä»¤(link)</h2><blockquote><p>ln -s [åŸæ–‡ä»¶]] [ç›®æ ‡æ–‡ä»¶]</p></blockquote><p>é€‰é¡¹ï¼š</p><ul><li>-s ç”Ÿæˆè½¯è¿æ¥ ä¸å¸¦såˆ™ç”Ÿæˆ ç¡¬é“¾æ¥</li></ul><h3 id="ç¡¬é“¾æ¥"><a href="#ç¡¬é“¾æ¥" class="headerlink" title="ç¡¬é“¾æ¥"></a>ç¡¬é“¾æ¥</h3><p>ç‰¹ç‚¹ï¼š</p><blockquote><p>1.æ‹¥æœ‰ç›¸åŒçš„ièŠ‚ç‚¹å’Œå­˜å‚¨blockå—ï¼Œå¯ä»¥çœ‹æˆæ˜¯åŒä¸€ä¸ªæ–‡ä»¶<br>2.å¯é€šè¿‡ièŠ‚ç‚¹è¯†åˆ«<br>3.ä¸èƒ½è·¨åˆ†åŒº<br>4.ä¸èƒ½é’ˆå¯¹ç›®å½•ä½¿ç”¨<br>5.åˆ é™¤ä¸€ä¸ªï¼Œå¦ä¸€ä¸ªè¿˜åœ¨ï¼ˆé€šè¿‡ièŠ‚ç‚¹è¯†åˆ«ï¼‰</p></blockquote><h3 id="è½¯é“¾æ¥ï¼š"><a href="#è½¯é“¾æ¥ï¼š" class="headerlink" title="è½¯é“¾æ¥ï¼š"></a>è½¯é“¾æ¥ï¼š</h3><p>ç‰¹ç‚¹ï¼š</p><blockquote><p>1.ç±»ä¼¼windowsçš„å¿«æ·æ–¹å¼<br>2.è½¯é“¾æ¥æœ‰è‡ªå·±çš„ièŠ‚ç‚¹å’Œblockå—ï¼Œæ•°æ®åªä¿å­˜åœ¨åŸæ–‡ä»¶çš„æ–‡ä»¶åå’ŒièŠ‚ç‚¹ï¼Œå¹¶æ²¡æœ‰å®é™…çš„æ–‡ä»¶æ•°æ®<br>3.lrwxâ€”â€“  ç¬¬ä¸€ä¸ªlè¡¨ç¤ºè½¯é“¾æ¥<br>4.ä¿®æ”¹åŸæ–‡ä»¶ï¼Œæ”¹ä»»ä½•ä¸€ä¸ªçš„éƒ½ä¼šæ”¹å˜ï¼Œ<br>5.åˆ é™¤åŸæ–‡ä»¶ï¼Œè½¯é“¾æ¥ä¸èƒ½ä½¿ç”¨ï¼ˆç¡¬é“¾æ¥ä¸å½±å“ä½¿ç”¨ï¼‰<br>6.åˆ é™¤è½¯é“¾æ¥å¯ä»¥ä½¿ç”¨åŸæ–‡ä»¶<br>7.è½¯é“¾æ¥çš„æƒé™777ï¼Œä½†æ˜¯å®é™…æƒé™æ˜¯åŸæ–‡ä»¶çš„æƒé™<br>8.åˆ›å»ºè½¯é“¾æ¥æ—¶åŸæ–‡ä»¶å¿…é¡»å†™ç»å¯¹è·¯å¾„</p></blockquote><p>æŸ¥çœ‹ièŠ‚ç‚¹ï¼š<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ls -i</span></span><br></pre></td></tr></table></figure></p><h2 id="æ–‡ä»¶æœç´¢å‘½ä»¤"><a href="#æ–‡ä»¶æœç´¢å‘½ä»¤" class="headerlink" title="æ–‡ä»¶æœç´¢å‘½ä»¤"></a>æ–‡ä»¶æœç´¢å‘½ä»¤</h2><blockquote><p>1.æ–‡ä»¶æœç´¢å‘½ä»¤: locate<br>2.æ–‡ä»¶æœç´¢å‘½ä»¤: find<br>3.å‘½ä»¤æœç´¢å‘½ä»¤: whereis, which<br>4.å­—ç¬¦ä¸²æœç´¢å‘½ä»¤: grep</p></blockquote><h3 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h3><blockquote><p>locate æ–‡ä»¶å</p></blockquote><p>åœ¨åå°æ•°æ®åº“æŒ‰æ–‡ä»¶åæœç´¢ï¼Œé€Ÿåº¦å¿«, locateå‘½ä»¤æœç´¢çš„æ•°æ®åº“æ˜¯ <code>/var/lib/locate</code><br>æ¯å¤©æ›´æ–°ä¸€æ¬¡ï¼Œæ‰€æœ‰æ–°å»ºæ–‡ä»¶åå¯ä»¥å¼ºåˆ¶æ›´æ–°è¯¥æ•°æ®åº“ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updatedb</span><br></pre></td></tr></table></figure></p><p>locateä½¿ç”¨ç‰¹ç‚¹ï¼š<br><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åªèƒ½æŒ‰æ–‡ä»¶åæœç´¢</span><br><span class="line">é…ç½®æ–‡ä»¶: /etc/updatedb.conf</span><br><span class="line">é…ç½®é‡Œé¢çš„é€‰é¡¹æ˜¯ä¸æœç´¢çš„æ–‡ä»¶ç³»ç»Ÿ</span><br><span class="line">MACç³»ç»Ÿå’Œlinuxç³»ç»Ÿçš„locateæœ‰å·®å¼‚</span><br></pre></td></tr></table></figure></p><h3 id="whereis-where-which"><a href="#whereis-where-which" class="headerlink" title="whereis (where), which"></a>whereis (where), which</h3><blockquote><p>whereis æŸ¥çœ‹æ‰§è¡Œä½ç½®å’Œå¸®åŠ©æ–‡æ¡£ä½ç½®</p></blockquote><p>é€‰é¡¹ï¼š</p><ul><li>-b åªæŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶</li><li>-m ä¹‹æŸ¥æ‰¾å¸®åŠ©æ–‡ä»¶</li></ul><p>which æŸ¥çœ‹å‘½ä»¤çš„å¯æ‰§è¡Œä½ç½®å’Œåˆ«å</p><blockquote><p>which</p></blockquote><p><strong>åªèƒ½æŸ¥å¤–éƒ¨å®‰è£…çš„å‘½ä»¤ï¼Œå³åªèƒ½æŸ¥éœ€è¦æ‰§è¡Œè„šæœ¬æ–‡ä»¶çš„å‘½ä»¤</strong><br>æœç´¢ä¾èµ–äºç¯å¢ƒå˜é‡ $PATH</p><h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><p>æ–‡ä»¶æœç´¢å‘½ä»¤, å¾ˆå¼ºå¤§</p><blockquote><p>find [æœç´¢èŒƒå›´] [æœç´¢æ¡ä»¶]</p></blockquote><p>eg:<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">find</span> / -name nginx.conf</span><br><span class="line"><span class="builtin-name">find</span> ~/.ssh -name config</span><br></pre></td></tr></table></figure></p><p><strong>é¿å…å¤§èŒƒå›´æœç´¢ï¼Œå¾ˆæ¶ˆè€—ç³»ç»Ÿèµ„æº</strong>ã€‚<br>findæ˜¯åœ¨ç³»ç»Ÿä¸­æœç´¢ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶åï¼Œå¦‚æœéœ€è¦åŒ¹é…ï¼Œä½¿ç”¨é€šé…ç¬¦åŒ¹é…ï¼Œé€šé…ç¬¦æ˜¯å®Œå…¨åŒ¹é….</p><h3 id="é€šé…ç¬¦ï¼š"><a href="#é€šé…ç¬¦ï¼š" class="headerlink" title="é€šé…ç¬¦ï¼š"></a>é€šé…ç¬¦ï¼š</h3><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">* </span>åŒ¹é…ä»»æ„å†…å®¹</span><br><span class="line">? åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦</span><br><span class="line">[] åŒ¹é…ä»»æ„ä¸€ä¸ªä¸­æ‹¬å·å†…çš„å­—ç¬¦</span><br></pre></td></tr></table></figure><p>é€‰é¡¹ï¼š</p><ul><li>-name  æŒ‰åç§°</li><li>-iname ä¸åŒºåˆ†å¤§å°å†™æŒ‰åç§°</li><li>-user  æŒ‰æ‰€æœ‰è€…æœç´¢</li><li>-nouser æŸ¥æ‰¾æ²¡æœ‰æ‰€æœ‰è€…çš„æ–‡ä»¶ï¼ˆå†…æ ¸æ–‡ä»¶æ²¡æœ‰æ‰€æœ‰è€…ï¼Œuç›˜çš„æ•°æ®å¯èƒ½æ²¡æœ‰æ‰€æœ‰è€…ï¼Œwindowsæ–‡ä»¶æ²¡æœ‰æ‰€æœ‰è€…ï¼‰</li><li>-mtime æŸ¥æ‰¾é™å®šæ—¶é—´å‰ä¿®æ”¹çš„æ–‡ä»¶ é»˜è®¤æ˜¯å¤©</li></ul><p>egï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">find /var/log/ -mtime +<span class="number">10</span> #æŸ¥æ‰¾<span class="number">10</span>å¤©å‰ä¿®æ”¹çš„æ–‡ä»¶</span><br><span class="line"><span class="number">-10</span><span class="number">10</span>å¤©å†…</span><br><span class="line"><span class="number">10</span><span class="number">10</span>å¤©å½“å¤©</span><br><span class="line">+<span class="number">10</span><span class="number">10</span>å¤©å‰</span><br><span class="line">-atime æ–‡ä»¶è®¿é—®æ—¶é—´</span><br><span class="line">-ctime æ”¹å˜æ–‡ä»¶å±æ€§</span><br><span class="line">-mtime ä¿®æ”¹æ–‡ä»¶å†…å®¹</span><br><span class="line"></span><br><span class="line">find / -size <span class="number">25</span>k #æŸ¥æ‰¾æ–‡ä»¶å¤§å°æ˜¯<span class="number">25</span>kbçš„æ–‡ä»¶</span><br><span class="line">â€”<span class="number">25</span> å°äº<span class="number">25</span>kb</span><br><span class="line"><span class="number">25</span>kb ç­‰äº<span class="number">25</span>kb</span><br><span class="line">+<span class="number">25</span>kb å¤§äº<span class="number">25</span>kb</span><br><span class="line"></span><br><span class="line">find / -size +<span class="number">25</span>k -a <span class="number">-50</span>k # å¤§äº<span class="number">25</span>k ä¸” å°äº<span class="number">50</span>k</span><br><span class="line">find / -size <span class="number">-25</span>k -o +<span class="number">50</span>k # å°äº<span class="number">25</span>k æˆ– å¤§äº<span class="number">50</span>k</span><br><span class="line"></span><br><span class="line">find / -size <span class="number">25</span>k -exec ls -lh &#123;&#125; \; #æŸ¥æ‰¾ï¼Œå¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</span><br></pre></td></tr></table></figure></p><p>æŸ¥æ‰¾åˆ°çš„æ–‡ä»¶æ‰§è¡Œåé¢çš„æ“ä½œ -exec:<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-exec <span class="string">...</span> &#123;&#125; \;  <span class="comment">#æ ‡å‡†æ ¼å¼</span></span><br><span class="line">find . -inum 262422 <span class="comment">#æŸ¥æ‰¾ièŠ‚ç‚¹æ˜¯262422çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># kå­—èŠ‚å°å†™ï¼Œ Må­—èŠ‚å¤§å†™</span></span><br><span class="line"><span class="keyword">ls</span> -i æ–‡ä»¶å</span><br></pre></td></tr></table></figure></p><h3 id="grepå‘½ä»¤"><a href="#grepå‘½ä»¤" class="headerlink" title="grepå‘½ä»¤"></a>grepå‘½ä»¤</h3><p>åœ¨æŒ‡å®šæ–‡ä»¶ä¸­æœç´¢å­—ç¬¦ä¸²</p><blockquote><p>grep [é€‰é¡¹] å­—ç¬¦ä¸² æ–‡ä»¶å<br>é€‰é¡¹ï¼š</p><ul><li>-i å¿½ç•¥å¤§å°å†™</li><li>-v æ’é™¤æŒ‡å®šå­—ç¬¦ä¸²ï¼Œ å–åæœç´¢</li></ul></blockquote><p>eg:<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grep</span><span class="string">"size"</span> file_name</span><br><span class="line"><span class="keyword">grep</span><span class="string">"size"</span> file1 file2 file3  <span class="comment">#å¤šæ–‡ä»¶æœç´¢</span></span><br></pre></td></tr></table></figure></p><p>æ ‡è®°åŒ¹é…é¢œè‰² â€“color=auto é€‰é¡¹ï¼š<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">"size"</span><span class="built_in">file_name</span> --<span class="built_in">color</span>=auto</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ -E é€‰é¡¹ï¼š<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grep</span> -E <span class="string">"[1-9]+"</span></span><br><span class="line"><span class="comment">#æˆ–</span></span><br><span class="line">egrep <span class="string">"[1-9]+"</span></span><br></pre></td></tr></table></figure></p><p>åªè¾“å‡ºæ–‡ä»¶ä¸­åŒ¹é…åˆ°çš„éƒ¨åˆ† -o é€‰é¡¹ï¼š<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> this <span class="keyword">is</span><span class="keyword">a</span> test <span class="built_in">line</span>. | <span class="keyword">grep</span> -<span class="keyword">o</span> -E <span class="string">"[a-z]+\."</span></span><br></pre></td></tr></table></figure></p><h3 id="grep-å’Œ-find-åŒºåˆ«"><a href="#grep-å’Œ-find-åŒºåˆ«" class="headerlink" title="grep å’Œ find åŒºåˆ«"></a>grep å’Œ find åŒºåˆ«</h3><ul><li>find åœ¨ç³»ç»Ÿä¸­æœç´¢æ–‡ä»¶åï¼Œé€šé…ç¬¦åŒ¹é…ï¼Œ é€šé…ç¬¦æ˜¯<em>å®Œå…¨åŒ¹é…</em></li><li>grep åœ¨æ–‡ä»¶ä¸­æœç´¢å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™åŒ¹é…ï¼Œæ­£åˆ™æ˜¯<em>åŒ…å«åŒ¹é…</em></li></ul><h2 id="å¸®åŠ©å‘½ä»¤"><a href="#å¸®åŠ©å‘½ä»¤" class="headerlink" title="å¸®åŠ©å‘½ä»¤"></a>å¸®åŠ©å‘½ä»¤</h2><h3 id="man"><a href="#man" class="headerlink" title="man"></a>man</h3><p> man å‘½ä»¤</p><ul><li>æŸ¥çœ‹æœ‰å“ªäº›çº§åˆ«:<blockquote><p>man -f å‘½ä»¤  == whatis å‘½ä»¤</p></blockquote></li><li><p>æŸ¥çœ‹æŒ‡å®šçº§åˆ«:</p><blockquote><p>man -5 passwd<br>man -4 null<br>man -8 ifconfig</p></blockquote></li><li><p>æŸ¥çœ‹æ‰€æœ‰å«æœ‰å‘½ä»¤å…³é”®è¯çš„ä¿¡æ¯:</p><blockquote><p>man -k å‘½ä»¤</p></blockquote></li></ul><h3 id="å…¶ä»–å¸®åŠ©å‘½ä»¤"><a href="#å…¶ä»–å¸®åŠ©å‘½ä»¤" class="headerlink" title="å…¶ä»–å¸®åŠ©å‘½ä»¤"></a>å…¶ä»–å¸®åŠ©å‘½ä»¤</h3><ul><li>é€‰é¡¹å¸®åŠ©: â€“help</li></ul><p>å‘½ä»¤å¸®åŠ©é€‰é¡¹</p><ul><li>shellå†…éƒ¨å‘½ä»¤ï¼š help</li></ul><p>è·å–shellå†…éƒ¨çš„å¸®åŠ©ï¼Œshellæœ‰è‡ªå¸¦çš„ä¸€äº›å‘½ä»¤ï¼Œæ¯”å¦‚cd,help<br>å¯ä»¥é€šè¿‡whereis cd ç¡®å®šæ˜¯å¦æ˜¯shellå†…éƒ¨å‘½ä»¤ï¼Œçœ‹å¯æ‰§è¡Œæ–‡ä»¶</p><blockquote><p>help cd #command not found: help</p></blockquote><ul><li>info</li></ul><h2 id="å‹ç¼©å‘½ä»¤"><a href="#å‹ç¼©å‘½ä»¤" class="headerlink" title="å‹ç¼©å‘½ä»¤"></a>å‹ç¼©å‘½ä»¤</h2><ul><li>å¸¸è¥å‹ç¼©æ ¼å¼ï¼š<blockquote><p>.zip  .gz  .bz2<br>.tar.gz  .tar.bz2</p></blockquote></li></ul><p><strong>linuxæ–‡ä»¶ä¸åŒºåˆ†åç¼€åï¼Œä½†æ˜¯å‹ç¼©æ–‡ä»¶ä¸ºäº†åŒºåˆ†æ–‡ä»¶ç±»å‹å’Œå‹ç¼©ç±»å‹ï¼Œå¿…é¡»è¦åœ¨åç¼€ä¸­å†™æ¸…æ¥šæ ¼å¼</strong><br>æŒ‰å‹ç¼©æ ¼å¼æ¥è®°å‘½ä»¤ç¬”è®°æ–¹ä¾¿</p><h3 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h3><ul><li>å‹ç¼©æ–‡ä»¶ï¼š<blockquote><p>zip å‹ç¼©æ–‡ä»¶å  æºæ–‡ä»¶</p></blockquote></li><li>å‹ç¼©ç›®å½•â€œ<blockquote><p>zip -r å‹ç¼©æ–‡ä»¶å  æºç›®å½•</p></blockquote></li><li>è§£å‹ç¼©ï¼š<blockquote><p>unzip å‹ç¼©æ–‡ä»¶</p></blockquote></li></ul><h3 id="gzip"><a href="#gzip" class="headerlink" title="gzip"></a>gzip</h3><ul><li>å‹ç¼©ä¸º.gzæ ¼å¼æ–‡ä»¶ï¼Œæºæ–‡ä»¶ä¼šæ¶ˆå¤±ï¼š<blockquote><p>gzip æºæ–‡ä»¶</p></blockquote></li><li>å‹ç¼©ä¸º.gzæ ¼å¼ï¼Œæºæ–‡ä»¶ä¿ç•™ï¼š<blockquote><p>gzip -c æºæ–‡ä»¶ &gt; å‹ç¼©æ–‡ä»¶<br>egï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzip -c <span class="selector-tag">a</span><span class="selector-class">.js</span> &gt; <span class="selector-tag">a</span><span class="selector-class">.js</span>.gz</span><br></pre></td></tr></table></figure></blockquote></li></ul><p>å®é™…ä¸Šæ˜¯æŠŠæºæ–‡ä»¶è¾“å‡ºåˆ°æ–°çš„æ–‡ä»¶</p><ul><li>å‹ç¼©ç›®å½•<br>å‹ç¼©ç›®å½•å®é™…ä¸Šæ˜¯æŠŠç›®å½•å†…çš„æ–‡ä»¶å…¨éƒ¨å‹ç¼©<blockquote><p>gzip -r ç›®å½•</p></blockquote></li></ul><p>å‹ç¼©ç›®å½•ä¸‹æ‰€æœ‰å­æ–‡ä»¶ï¼Œä½†æ˜¯ä¸èƒ½å‹ç¼©ç›®å½•</p><ul><li><p>è§£å‹ç¼©æ–‡ä»¶</p><blockquote><p>gzip -d å‹ç¼©æ–‡ä»¶<br>gunzip å‹ç¼©æ–‡ä»¶</p></blockquote></li><li><p>è§£å‹ç¼©ç›®å½•</p><blockquote><p>gunzip -r å‹ç¼©ç›®å½•</p></blockquote></li></ul><h3 id="bz2-ï¼ˆä¸èƒ½å‹ç¼©ç›®å½•ï¼‰"><a href="#bz2-ï¼ˆä¸èƒ½å‹ç¼©ç›®å½•ï¼‰" class="headerlink" title=".bz2 ï¼ˆä¸èƒ½å‹ç¼©ç›®å½•ï¼‰"></a>.bz2 ï¼ˆä¸èƒ½å‹ç¼©ç›®å½•ï¼‰</h3><p>å‹ç¼©æ–‡ä»¶ï¼š</p><blockquote><p>bzip2 æ–‡ä»¶å<br>bzip2 -k æ–‡ä»¶å</p></blockquote><p>è§£å‹ç¼©æ–‡ä»¶ï¼š</p><blockquote><p>-k ä¿ç•™å‹ç¼©æ–‡ä»¶<br>bzip2 -d å‹ç¼©æ–‡ä»¶<br>bunzip2 å‹ç¼©æ–‡ä»¶</p></blockquote><p><strong>ä¸Šé¢ä¸‰ä¸ªå‹ç¼©å‘½ä»¤åªæœ‰zipå¯ä»¥å‹ç¼©æ²¡æœ‰äº†ï¼Œ gzipå‹ç¼©ç›®å½•å®é™…ä¸Šæ˜¯å‹ç¼©äº†ç›®å½•å†…çš„æ–‡ä»¶ï¼Œbz2ç›´æ¥å›æŠ¥é”™ï¼Œå¯ä»¥ç”¨tarå‘½ä»¤æ‰“åŒ…ï¼Œç„¶åå†å‹ç¼©</strong></p><h3 id="æ‰“åŒ…å‘½ä»¤-tar"><a href="#æ‰“åŒ…å‘½ä»¤-tar" class="headerlink" title="æ‰“åŒ…å‘½ä»¤ tar"></a>æ‰“åŒ…å‘½ä»¤ tar</h3><ul><li>æ‰“åŒ…å‘½ä»¤ï¼š<blockquote><p>tar -cvf æ‰“åŒ…æ–‡ä»¶å æºæ–‡ä»¶</p></blockquote></li></ul><p>é€‰é¡¹ï¼š</p><ul><li>-c æ‰“åŒ…</li><li>-v æ˜¾ç¤ºè¿‡ç¨‹</li><li><p>-f æŒ‡å®šæ‰“åŒ…åçš„æ–‡ä»¶å<br>eg:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">tar</span><span class="selector-tag">-cvf</span><span class="selector-tag">longzls</span><span class="selector-class">.tar</span><span class="selector-tag">longzls</span></span><br></pre></td></tr></table></figure></li><li><p>è§£æ‰“åŒ…å‘½ä»¤ï¼š</p><blockquote><p>tar -xvf æ‰“åŒ…æ–‡ä»¶å</p></blockquote></li></ul><p>é€‰é¡¹ï¼š</p><ul><li>-x: è§£æ‰“åŒ…<br>eg:<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">tar</span><span class="selector-tag">-xvf</span><span class="selector-tag">longzls</span><span class="selector-class">.tar</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="tar-gz"><a href="#tar-gz" class="headerlink" title=".tar.gz"></a>.tar.gz</h3><p>.tar.gzæ ¼å¼æ˜¯å…ˆæ‰“åŒ…ä¸º.taræ ¼å¼ï¼Œç„¶åå‹ç¼©ä¸º.gzæ ¼å¼</p><blockquote><p>tar -zcvf å‹ç¼©åŒ…å.tar.gz æºæ–‡ä»¶</p></blockquote><p>é€‰é¡¹ï¼š</p><ul><li>-z å‹ç¼©ä¸º.tar.gzæ ¼å¼</li></ul><blockquote><p>tar -zxvf å‹ç¼©åŒ…å.tar.gz</p></blockquote><p>é€‰é¡¹ï¼š</p><ul><li>-x è§£å‹ç¼©.tar.gzæ ¼å¼</li></ul><h3 id="tar-bz2"><a href="#tar-bz2" class="headerlink" title=".tar.bz2"></a>.tar.bz2</h3><blockquote><p>tar -jcvf å‹ç¼©åŒ…å.tar.bz2 æºæ–‡ä»¶</p></blockquote><p>é€‰é¡¹ï¼š</p><ul><li>-j å‹ç¼©ä¸º.tar.bz2æ ¼å¼</li></ul><blockquote><p>tar -jxvf å‹ç¼©åŒ…å.tar,bz2</p></blockquote><p>é€‰é¡¹ï¼š</p><ul><li>-x è§£å‹ç¼©.tar.bz2æ ¼å¼</li></ul><p>æŒ‡å®šè§£å‹ç¼©ä½ç½®ï¼š</p><blockquote><p>tar -jxvf å‹ç¼©åŒ…å.gz.bz2  -C è§£å‹ç¼©ä½ç½®</p></blockquote><p>æ³¨æ„ï¼š é€‰é¡¹å¤§å†™Cå¿…é¡»å†™åˆ°å‹ç¼©åŒ…ååé¢</p><p>å‹ç¼©å¤šä¸ªæ–‡ä»¶æ—¶å‹ç¼©æ–‡ä»¶åç”¨ç©ºæ ¼è¿æ¥</p><p>æŸ¥çœ‹åŒ…é‡Œé¢å†…å®¹ä¸è§£å‹ï¼Œé€‰é¡¹ï¼š</p><ul><li>-t</li></ul><p><strong>Linuxæœ€å¸¸ç”¨çš„å‹ç¼©æ ¼å¼æ˜¯.tar.gzå’Œ.tar.bz2</strong></p><h2 id="Linuxçš„å…³æœºå’Œé‡å¯å‘½ä»¤"><a href="#Linuxçš„å…³æœºå’Œé‡å¯å‘½ä»¤" class="headerlink" title="Linuxçš„å…³æœºå’Œé‡å¯å‘½ä»¤"></a>Linuxçš„å…³æœºå’Œé‡å¯å‘½ä»¤</h2><h3 id="å…³æœº"><a href="#å…³æœº" class="headerlink" title="å…³æœº"></a>å…³æœº</h3><blockquote><p>shutdown [é€‰é¡¹] æ—¶é—´</p></blockquote><p>é€‰é¡¹ï¼š</p><ul><li>-c å–æ¶ˆå‰ä¸€ä¸ªæŒ‚æœºå‘½ä»¤</li><li>-h å…³æœº</li><li>-r é‡å¯</li></ul><p>æ—¶é—´ï¼š</p><ul><li>now #ç«‹å³æ‰§è¡Œ</li><li>10 #ååˆ†é’Ÿåæ‰§è¡Œ</li></ul><p>eg:<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shutdown -h <span class="number">2</span>:<span class="number">33</span> # <span class="number">2</span>:<span class="number">32</span> å…³æœº</span><br><span class="line">shutdown -r now</span><br></pre></td></tr></table></figure></p><p>shutdown å‘½ä»¤å¯ä»¥æ­£ç¡®ä¿æŒå…³æœºå‰çš„æ–‡ä»¶ï¼Œæ¯”è¾ƒå®‰å…¨.</p><p><strong>ä»¥ä¸‹å‘½ä»¤å…³æœºä¸å®‰å…¨</strong><br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">halt</span><br><span class="line">poweroff</span><br><span class="line">init <span class="number">0</span></span><br></pre></td></tr></table></figure></p><h3 id="é‡å¯ï¼š"><a href="#é‡å¯ï¼š" class="headerlink" title="é‡å¯ï¼š"></a>é‡å¯ï¼š</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br><span class="line">init <span class="number">6</span></span><br></pre></td></tr></table></figure><p>reboot æ˜¯æ¯”è¾ƒå®‰å…¨çš„é‡å¯æ–¹å¼</p><h3 id="é€€å‡ºç™»å½•ï¼š"><a href="#é€€å‡ºç™»å½•ï¼š" class="headerlink" title="é€€å‡ºç™»å½•ï¼š"></a>é€€å‡ºç™»å½•ï¼š</h3><blockquote><p>logout</p></blockquote><h2 id="æŒ‚è½½å‘½ä»¤"><a href="#æŒ‚è½½å‘½ä»¤" class="headerlink" title="æŒ‚è½½å‘½ä»¤"></a>æŒ‚è½½å‘½ä»¤</h2><p>æŸ¥è¯¢ç³»ç»Ÿä¸­æŒ‚è½½çš„ç‚¹ï¼š</p><blockquote><p>mount</p></blockquote><p>ä¾æ®/etc/fstabæ–‡ä»¶è‡ªåŠ¨æŒ‚è½½ï¼š</p><blockquote><p>mount -a</p></blockquote><p>æŒ‚è½½å‘½ä»¤æ ¼å¼ï¼š</p><blockquote><p>mount [-t æ–‡ä»¶ç³»ç»Ÿ] [-o ç‰¹æ®Šé€‰é¡¹] è®¾å¤‡æ–‡ä»¶å æŒ‚è½½ç‚¹</p></blockquote><p>é€‰é¡¹ï¼š</p><ul><li>-t æ–‡ä»¶ç³»ç»Ÿï¼šeg:ext3,ext4, ios9660â€¦.</li><li>-o ç‰¹æ®Šé€‰é¡¹ï¼šå¯ä»¥æŒ‡å®šæŒ‚è½½çš„é¢å¤–é€‰é¡¹</li></ul><p>æŒ‚è½½å…‰ç›˜(å…ˆè¦æ’å…¥å…‰ç›˜æˆ–è€…è™šæ‹Ÿæœºå¯¼å…¥isoé•œåƒ):</p><p>1.å»ºç«‹æŒ‚è½½ç‚¹ï¼š</p><blockquote><p>mkdir /mnt/cdrom/</p></blockquote><p>2.æŒ‚è½½å…‰ç›˜</p><blockquote><p>mount -t iso9660 /dev/cdrom/ /mnt/cdrom/</p></blockquote><p>3.ç®€å†™ï¼ˆé»˜è®¤çš„æ–‡ä»¶ç³»ç»Ÿï¼‰</p><blockquote><p>mount /dev/sr0 /mnt/cdrom</p></blockquote><p>4.å¸è½½å‘½ä»¤ï¼š</p><blockquote><p>umount è®¾å¤‡åæˆ–æŒ‚è½½ç‚¹<br>umount /mnt/cdrom</p></blockquote><p>5.æŒ‚è½½Uç›˜:</p><blockquote><p>fdisk -l # æŸ¥çœ‹Uç›˜è®¾å¤‡æ–‡ä»¶å<br>mount -t vfat /dev/sdb1 /mnt/ust/</p></blockquote><h2 id="è¿œç¨‹ç™»å½•yç”¨æˆ·ä¿¡æ¯æŸ¥çœ‹"><a href="#è¿œç¨‹ç™»å½•yç”¨æˆ·ä¿¡æ¯æŸ¥çœ‹" class="headerlink" title="è¿œç¨‹ç™»å½•yç”¨æˆ·ä¿¡æ¯æŸ¥çœ‹"></a>è¿œç¨‹ç™»å½•yç”¨æˆ·ä¿¡æ¯æŸ¥çœ‹</h2><blockquote><p>w</p></blockquote><p><code>w</code> å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿè¿œç¨‹ç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç³»ç»Ÿèµ„æº</p><blockquote><p> who</p></blockquote><p><code>who</code> å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿè¿œç¨‹ç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼ŒåŠŸèƒ½å’Œwå‘½ä»¤ç±»ä¼¼ï¼Œä¸è¿‡æ²¡æœ‰ç³»ç»Ÿèµ„æºä¿¡æ¯</p><blockquote><p>last</p></blockquote><p>lastå‘½ä»¤é»˜è®¤æ˜¯è¯»å–<code>/var/log/wtmp</code>æ–‡ä»¶çš„æ•°æ®ã€‚å‘½ä»¤è¾“å‡ºï¼š</p><blockquote><p>ç”¨æˆ·å  ç™»å½•ç»ˆç«¯ ç™»å½•ip ç™»å½•æ—¶é—´ é€€å‡ºæ—¶é—´(åœ¨çº¿æ—¶é—´)</p></blockquote><blockquote><p>lastlog</p></blockquote><p>æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·çš„æœ€åä¸€æ¬¡ç™»å½•</p><p>å‚è€ƒï¼š<br><a href="http://man.linuxde.net/chmod" target="_blank" rel="noopener">chmodå‘½ä»¤</a><br><a href="http://www.runoob.com/linux/linux-comm-chmod.html" target="_blank" rel="noopener">Linux chmodå‘½ä»¤</a></p>]]></content><categories><category> åç«¯ </category></categories><tags><tag> linux </tag><tag> bash </tag></tags></entry><entry><title>mongodbå­¦ä¹ ç¬”è®°</title><link href="/mongodb-notes.html"/><url>/mongodb-notes.html</url><content type="html"><![CDATA[<h3 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h3><p>åœ¨macä¸‹å¯åŠ¨mongodæœåŠ¡æ—¶ï¼Œå¦‚æœè¯»å–é»˜è®¤é…ç½®æ–‡ä»¶çš„è¯ç›´æ¥æ‰§è¡Œ<code>mongod</code>å°±è¡Œäº†ï¼Œå¦‚æœè¦æ·»åŠ å…¶ä»–é…ç½®å¯ä»¥æ·»åŠ å¯¹åº”çš„é…ç½®é¡¹ï¼Œä½†æ˜¯æœ€åˆç†çš„åº”è¯¥æ˜¯è¯»å–é…ç½®æ–‡ä»¶ä¸”åå°è¿è¡ŒæœåŠ¡ã€‚<br>ä½¿ç”¨ -f æˆ– â€“config é€‰é¡¹æŒ‡å®šé…ç½®æ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mongod -f  /etc/mongod.conf &amp;</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">mongod --config  /etc/mongod.conf &amp;</span><br></pre></td></tr></table></figure></p><h3 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h3><p>å¦‚æœå­˜åœ¨åˆ™åˆ‡æ¢ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> DATABASE_NAME</span><br></pre></td></tr></table></figure></p><a id="more"></a><h3 id="æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“"><a href="#æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“" class="headerlink" title="æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“"></a>æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> dbs</span><br></pre></td></tr></table></figure><p>å‘ç°åˆšåˆšåˆ›å»ºçš„æ•°æ®åº“æ²¡æœ‰æœ‰æ˜¾ç¤ºå‡ºæ¥ï¼Œå¯ä»¥æ’å…¥æ•°æ®<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.runoob.<span class="built_in">insert</span>(&#123;<span class="string">"name"</span>:<span class="string">"èœé¸Ÿæ•™ç¨‹"</span>&#125;)</span><br></pre></td></tr></table></figure></p><p>ç„¶åæ‰§è¡Œ<code>show dbs</code>å‘ç°åˆšåˆšåˆ›å»ºçš„æ•°æ®åº“æ˜¾ç¤ºå‡ºæ¥äº†</p><h3 id="åˆ é™¤æ•°æ®åº“"><a href="#åˆ é™¤æ•°æ®åº“" class="headerlink" title="åˆ é™¤æ•°æ®åº“"></a>åˆ é™¤æ•°æ®åº“</h3><p>ä»¥ä¸‹å‘½ä»¤åˆ é™¤çš„æ˜¯å½“å‰çš„æ•°æ®åº“ï¼Œå¦‚æœè¦åˆ é™¤éå½“å‰æ•°æ®åº“éœ€è¦å…ˆä½¿ç”¨<code>use DATABASE_NAME</code>å‘½ä»¤åˆ‡æ¢è¿‡å»ï¼Œç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.dropDatabase</span>()</span><br></pre></td></tr></table></figure></p><h3 id="åˆ›å»ºé›†åˆ"><a href="#åˆ›å»ºé›†åˆ" class="headerlink" title="åˆ›å»ºé›†åˆ"></a>åˆ›å»ºé›†åˆ</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.create<span class="constructor">Collection(<span class="params">name</span>, <span class="params">optipon</span>)</span></span><br></pre></td></tr></table></figure><ul><li>name: é›†åˆåç§°</li><li>optionsï¼š å¯é€‰å‚æ•°å¯¹è±¡ï¼Œæœ‰ä»¥ä¸‹é€‰é¡¹<ul><li>capped: å¸ƒå°” (å¯é€‰)ï¼Œ å¦‚æœä¸ºtrueåˆ™åˆ›å»ºå›ºå®šé›†åˆï¼Œæ˜¯æŒ‡æœ‰å›ºå®šå¤§å°çš„é›†åˆï¼Œå½“è¾¾åˆ°æœ€å¤§å€¼æ—¶ä¼šè‡ªåŠ¨è¦†ç›–æœ€æ—©çš„æ•°æ®ï¼Œ å½“è¯¥å€¼ä¸ºtrueæ—¶ï¼Œå¿…é¡»æŒ‡å®šsizeå‚æ•°</li><li>autoIndexId: å¸ƒå°” ï¼ˆå¯é€‰ï¼‰å¦‚æœä¸ºtrueï¼Œåˆ™è‡ªåŠ¨åœ¨_idå­—æ®µåˆ›å»ºç´¢å¼•ï¼Œé»˜è®¤ä¸ºfalse</li><li>size: æ•°å€¼ ï¼ˆå¯é€‰ï¼‰ å›ºå®šé›†åˆæŒ‡å®šä¸€ä¸ªæœ€å¤§å€¼ï¼Œ å•ä½æ˜¯å­—èŠ‚</li><li>max: æ•°å€¼ ï¼ˆå¯é€‰ï¼‰ å›ºå®šé›†åˆä¸­åŒ…å«çš„æ–‡æ¡£çš„æœ€å¤§æ•°é‡</li></ul></li></ul><h3 id="æŸ¥çœ‹é›†åˆ"><a href="#æŸ¥çœ‹é›†åˆ" class="headerlink" title="æŸ¥çœ‹é›†åˆ"></a>æŸ¥çœ‹é›†åˆ</h3><p>æŸ¥çœ‹å½“å‰æ•°æ®åº“çš„å·²æœ‰é›†åˆ<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> collections</span><br></pre></td></tr></table></figure></p><p>eg:<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">db.createCollection("my_test_coll1",</span><span class="string">&#123;</span><span class="attr">capped:</span><span class="literal">true</span><span class="string">,</span><span class="attr">autoIndexId:</span><span class="literal">true</span><span class="string">,</span><span class="attr">size:</span><span class="number">6142800</span><span class="string">,</span><span class="attr">max :</span><span class="number">10000</span><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure></p><p>åœ¨mongodbä¸­ä¹Ÿå¯ä»¥é€šè¿‡ç›´æ¥æ’å…¥æ•°æ®åˆ›å»ºé›†åˆ<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.my_test_coll2.<span class="built_in">insert</span>(&#123;<span class="string">"name"</span>: <span class="string">"mhyuan"</span>, <span class="string">"age"</span>: <span class="number">22</span>&#125;)</span><br></pre></td></tr></table></figure></p><h3 id="åˆ é™¤é›†åˆ"><a href="#åˆ é™¤é›†åˆ" class="headerlink" title="åˆ é™¤é›†åˆ"></a>åˆ é™¤é›†åˆ</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.COLLECTION_NAME</span><span class="selector-class">.drop</span>()</span><br></pre></td></tr></table></figure><p>å¦‚æœåˆ é™¤æˆåŠŸè¿”å›trueï¼Œå¦åˆ™è¿”å›false</p><h3 id="æ’å…¥æ–‡æ¡£"><a href="#æ’å…¥æ–‡æ¡£" class="headerlink" title="æ’å…¥æ–‡æ¡£"></a>æ’å…¥æ–‡æ¡£</h3><p>BSONæ˜¯ä¸€ç§ç±»jsonçš„ä¸€ç§äºŒè¿›åˆ¶å½¢å¼çš„å­˜å‚¨æ ¼å¼,ç®€ç§°Binary JSONã€‚mongodbä¸­æ‰€æœ‰å­˜å‚¨åœ¨é›†åˆä¸­çš„æ•°æ®éƒ½æ˜¯BSONç»“æ„ã€‚<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.COLLECTION_NAME</span><span class="selector-class">.insert</span>(<span class="selector-tag">document</span>)</span><br></pre></td></tr></table></figure></p><p>eg:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.col</span><span class="selector-class">.insert</span>(&#123;<span class="attribute">title</span>: <span class="string">'MongoDB æ•™ç¨‹'</span>,</span><br><span class="line">    description: <span class="string">'MongoDB æ˜¯ä¸€ä¸ª Nosql æ•°æ®åº“'</span>,</span><br><span class="line">    by: <span class="string">'mhy'</span>,</span><br><span class="line">    url: <span class="string">'http://www.mhynet.cn'</span>,</span><br><span class="line">    tags: [<span class="string">'mongodb'</span>, <span class="string">'database'</span>, <span class="string">'NoSQL'</span>],</span><br><span class="line">    likes: <span class="number">100</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥å°†æ•°æ®å®šä¹‰æˆä¸€ä¸ªå˜é‡ï¼Œç„¶åæ’å…¥<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">document</span>=(&#123;title: <span class="string">'MongoDB æ•™ç¨‹'</span>,</span><br><span class="line">    description: <span class="string">'MongoDB æ˜¯ä¸€ä¸ª Nosql æ•°æ®åº“'</span>,</span><br><span class="line">    by: <span class="string">'mhy'</span>,</span><br><span class="line">    url: <span class="string">'http://www.mhynet.cn'</span>,</span><br><span class="line">    tags: [<span class="string">'mongodb'</span>, <span class="string">'database'</span>, <span class="string">'NoSQL'</span>],</span><br><span class="line">    likes: 100</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>ç„¶å<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.col2</span><span class="selector-class">.insert</span>(<span class="selector-tag">document</span>)</span><br></pre></td></tr></table></figure></p><p>ä¹Ÿå¯ä»¥æ‰§è¡Œ<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.col</span><span class="selector-class">.save</span>(<span class="selector-tag">document</span>)</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä¸çŸ¥é“_idå­—æ®µåˆ™æ•ˆæœå’Œinsertä¸€æ ·ï¼Œå¦‚æœæŒ‡å®šäº†_idï¼Œåˆ™ä¼šæ›´æ–°è¯¥_idçš„æ•°æ®</p><ul><li><p>db.collection.insertOne(): å‘æŒ‡å®šé›†åˆä¸­æ’å…¥ä¸€æ¡æ–‡æ¡£æ•°æ®</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.collection.insert<span class="constructor">One(&#123;<span class="string">"a"</span>: 3&#125;)</span></span><br></pre></td></tr></table></figure></li><li><p>db.collection.insertMany(): å‘æŒ‡å®šé›†åˆä¸­æ’å…¥å¤šæ¡æ–‡æ¡£æ•°æ®</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.collection</span><span class="selector-class">.insertMany</span>(<span class="selector-attr">[&#123;<span class="string">"b"</span>: 3&#125;, &#123;<span class="string">'c'</span>: 4&#125;]</span>)</span><br></pre></td></tr></table></figure></li></ul><h3 id="æ›´æ–°æ–‡æ¡£"><a href="#æ›´æ–°æ–‡æ¡£" class="headerlink" title="æ›´æ–°æ–‡æ¡£"></a>æ›´æ–°æ–‡æ¡£</h3><p>mongodbä½¿ç”¨updata()å’Œsave()æ–¹æ³•æ›´æ–°æ•°æ®<br>update()æ–¹æ³•ç”¨äºæ›´æ–°å·²å­˜åœ¨çš„æ–‡æ¡£<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">db.collection.update(</span><br><span class="line">2<span class="params">&lt;query&gt;</span>,</span><br><span class="line">2<span class="params">&lt;update&gt;</span>,</span><br><span class="line">2&#123;</span><br><span class="line"><span class="symbol">upsert:</span><span class="params">&lt;boolean&gt;</span>,</span><br><span class="line"><span class="symbol">multi:</span><span class="params">&lt;boolean&gt;</span>,</span><br><span class="line"><span class="symbol">writeConcern:</span><span class="params">&lt;document&gt;</span></span><br><span class="line">2&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><ul><li>å‚æ•°è¯´æ˜ï¼š<ul><li>query: updateçš„æŸ¥è¯¢æ¡ä»¶ï¼Œç±»ä¼¼äºSQL update çš„whereåé¢çš„</li><li>update: updateçš„å¯¹è±¡å’Œä¸€äº›æ›´æ–°çš„æ“ä½œç¬¦ï¼ˆå¦‚$,$incâ€¦ï¼‰ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºSQL update æŸ¥è¯¢å†…setåé¢çš„</li><li>upsert: å¯é€‰ï¼Œ å¦‚æœä¸å­˜åœ¨updateçš„è®°å½•ï¼Œæ˜¯å¦æ’å…¥æ•°æ®ï¼Œ trueä¸ºæ’å…¥ï¼Œ é»˜è®¤ä¸ºfalse</li><li>multi: å¯é€‰ï¼Œ mongodbé»˜è®¤ä¸ºfalseï¼Œåªæ›´æ–°æ‰¾åˆ°çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œå¦‚æœè¿™ä¸ªå‚æ•°ä¸ºtrueï¼Œå°±æŠŠæŒ‰æ¡ä»¶æŸ¥å‡ºæ¥çš„å¤šæ¡è®°å½•å…¨éƒ¨æ›´æ–°</li><li>writeConcern: å¯é€‰ï¼ŒæŠ›å‡ºå¼‚å¸¸çš„çº§åˆ«</li></ul></li></ul><ul><li><p>åªæ›´æ–°ç¬¬ä¸€æ¡è®°å½•ï¼š</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.col.update( &#123; <span class="string">"count"</span> : &#123; <span class="symbol">$</span><span class="keyword">gt</span> : <span class="number">1</span> &#125; &#125; , &#123; <span class="symbol">$</span><span class="keyword">set</span> : &#123; <span class="string">"test2"</span> : <span class="string">"OK"</span>&#125; &#125; );</span><br></pre></td></tr></table></figure></li><li><p>å…¨éƒ¨æ›´æ–°ï¼š</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.col.update( &#123; <span class="string">"count"</span> : &#123; <span class="symbol">$</span><span class="keyword">gt</span> : <span class="number">3</span> &#125; &#125; , &#123; <span class="symbol">$</span><span class="keyword">set</span> : &#123; <span class="string">"test2"</span> : <span class="string">"OK"</span>&#125; &#125;,false,true <span class="comment">)</span>;</span><br></pre></td></tr></table></figure></li><li><p>åªæ·»åŠ ç¬¬ä¸€æ¡ï¼š</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.col.update( &#123; <span class="string">"count"</span> : &#123; <span class="symbol">$</span><span class="keyword">gt</span> : <span class="number">4</span> &#125; &#125; , &#123; <span class="symbol">$</span><span class="keyword">set</span> : &#123; <span class="string">"test5"</span> : <span class="string">"OK"</span>&#125; &#125;,true,false <span class="comment">)</span>;</span><br></pre></td></tr></table></figure></li><li><p>å…¨éƒ¨æ·»åŠ è¿›å»:</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.col.update( &#123; <span class="string">"count"</span> : &#123; <span class="symbol">$</span><span class="keyword">gt</span> : <span class="number">5</span> &#125; &#125; , &#123; <span class="symbol">$</span><span class="keyword">set</span> : &#123; <span class="string">"test5"</span> : <span class="string">"OK"</span>&#125; &#125;,true,true <span class="comment">)</span>;</span><br></pre></td></tr></table></figure></li><li><p>å…¨éƒ¨æ›´æ–°ï¼š</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.col.<span class="keyword">update</span>( &#123; <span class="string">"count"</span> : &#123; <span class="variable">$gt</span> : <span class="number">15</span> &#125; &#125; , &#123; <span class="variable">$inc</span> : &#123; <span class="string">"count"</span> : <span class="number">1</span>&#125; &#125;<span class="built_in">,false</span><span class="built_in">,true</span> );</span><br></pre></td></tr></table></figure></li><li><p>åªæ›´æ–°ç¬¬ä¸€æ¡è®°å½•ï¼š</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.col.<span class="keyword">update</span>( &#123; <span class="string">"count"</span> : &#123; <span class="variable">$gt</span> : <span class="number">10</span> &#125; &#125; , &#123; <span class="variable">$inc</span> : &#123; <span class="string">"count"</span> : <span class="number">1</span>&#125; &#125;<span class="built_in">,false</span><span class="built_in">,false</span> );</span><br></pre></td></tr></table></figure></li></ul><h3 id="save-æ–¹æ³•"><a href="#save-æ–¹æ³•" class="headerlink" title="save()æ–¹æ³•"></a>save()æ–¹æ³•</h3><p>saveæ–¹æ³•é€šè¿‡ä¼ å…¥çš„æ–‡æ¡£æ¥æ›¿æ¢å·²æœ‰æ–‡æ¡£<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.collection</span><span class="selector-class">.save</span>(</span><br><span class="line">2&lt;<span class="selector-tag">document</span>&gt;,</span><br><span class="line">2&#123;</span><br><span class="line">22<span class="attribute">writeConcern</span>: &lt;document&gt;</span><br><span class="line">2&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><ul><li>å‚æ•°è¯´æ˜ï¼š<ul><li>document: æ–‡æ¡£æ•°æ®</li><li>writeConcern: å¯é€‰ï¼Œ æŠ›å‡ºå¼‚å¸¸çš„çº§åˆ«</li></ul></li></ul><h3 id="åˆ é™¤æ–‡æ¡£"><a href="#åˆ é™¤æ–‡æ¡£" class="headerlink" title="åˆ é™¤æ–‡æ¡£"></a>åˆ é™¤æ–‡æ¡£</h3><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db<span class="built_in">.collection</span><span class="built_in">.remove</span>(</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">query</span>&gt;</span>,</span></span><br><span class="line"><span class="xml"></span><span class="xml"><span class="tag">&lt;<span class="name">justOne</span>&gt;</span></span></span><br><span class="line"><span class="xml">)</span></span><br><span class="line"><span class="xml">å¦‚æœä½ çš„ Mong</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½ çš„ MongoDB æ˜¯ 2.6 ç‰ˆæœ¬ä»¥åçš„ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.collection</span><span class="selector-class">.remove</span>(</span><br><span class="line">   &lt;<span class="selector-tag">query</span>&gt;,</span><br><span class="line">   &#123;</span><br><span class="line"><span class="attribute">justOne</span>: &lt;boolean&gt;,</span><br><span class="line">     writeConcern: &lt;document&gt;</span><br><span class="line">   &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><ul><li>å‚æ•°è¯´æ˜<ul><li>query : ï¼ˆå¯é€‰ï¼‰åˆ é™¤çš„æ–‡æ¡£çš„æ¡ä»¶ã€‚</li><li>justOne : ï¼ˆå¯é€‰ï¼‰å¦‚æœè®¾ä¸º true æˆ– 1ï¼Œåˆ™åªåˆ é™¤ä¸€ä¸ªæ–‡æ¡£ï¼Œå¦‚æœä¸è®¾ç½®è¯¥å‚æ•°ï¼Œæˆ–ä½¿ç”¨é»˜è®¤å€¼ falseï¼Œåˆ™åˆ é™¤æ‰€æœ‰åŒ¹é…æ¡ä»¶çš„æ–‡æ¡£ã€‚</li><li>writeConcern :ï¼ˆå¯é€‰ï¼‰æŠ›å‡ºå¼‚å¸¸çš„çº§åˆ«ã€‚</li></ul></li></ul><blockquote><p>remove() æ–¹æ³•å·²ç»è¿‡æ—¶äº†ï¼Œç°åœ¨å®˜æ–¹æ¨èä½¿ç”¨ deleteOne() å’Œ deleteMany() æ–¹æ³•ã€‚</p></blockquote><blockquote><p>å¦‚åˆ é™¤é›†åˆä¸‹å…¨éƒ¨æ–‡æ¡£ï¼š<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.inventory</span><span class="selector-class">.deleteMany</span>(&#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ status ç­‰äº A çš„å…¨éƒ¨æ–‡æ¡£ï¼š</span></span><br><span class="line"><span class="selector-tag">db</span><span class="selector-class">.inventory</span><span class="selector-class">.deleteMany</span>(&#123; <span class="attribute">status </span>: <span class="string">"A"</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ status ç­‰äº D çš„ä¸€ä¸ªæ–‡æ¡£ï¼š</span></span><br><span class="line"><span class="selector-tag">db</span><span class="selector-class">.inventory</span><span class="selector-class">.deleteOne</span>( &#123; <span class="attribute">status</span>: <span class="string">"D"</span> &#125; )</span><br></pre></td></tr></table></figure></p></blockquote><p>remove() æ–¹æ³• å¹¶ä¸ä¼šçœŸæ­£é‡Šæ”¾ç©ºé—´ã€‚<br>éœ€è¦ç»§ç»­æ‰§è¡Œ db.repairDatabase() æ¥å›æ”¶ç£ç›˜ç©ºé—´</p><h3 id="æŸ¥è¯¢æ–‡æ¡£"><a href="#æŸ¥è¯¢æ–‡æ¡£" class="headerlink" title="æŸ¥è¯¢æ–‡æ¡£"></a>æŸ¥è¯¢æ–‡æ¡£</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.collection</span><span class="selector-class">.find</span>(<span class="selector-tag">query</span>, <span class="selector-tag">projection</span>)</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°<ul><li>query ï¼šå¯é€‰ï¼Œä½¿ç”¨æŸ¥è¯¢æ“ä½œç¬¦æŒ‡å®šæŸ¥è¯¢æ¡ä»¶</li><li>projection ï¼šå¯é€‰ï¼Œä½¿ç”¨æŠ•å½±æ“ä½œç¬¦æŒ‡å®šè¿”å›çš„é”®ã€‚æŸ¥è¯¢æ—¶è¿”å›æ–‡æ¡£ä¸­æ‰€æœ‰é”®å€¼ï¼Œ åªéœ€çœç•¥è¯¥å‚æ•°å³å¯ï¼ˆé»˜è®¤çœç•¥ï¼‰ã€‚</li></ul></li></ul><p>å¦‚æœä½ éœ€è¦ä»¥æ˜“è¯»çš„æ–¹å¼æ¥è¯»å–æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ pretty() æ–¹æ³•ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.col</span><span class="selector-class">.find</span>()<span class="selector-class">.pretty</span>()</span><br></pre></td></tr></table></figure></p><p>pretty() æ–¹æ³•ä»¥æ ¼å¼åŒ–çš„æ–¹å¼æ¥æ˜¾ç¤ºæ‰€æœ‰æ–‡æ¡£ã€‚</p><p>é™¤äº† find() æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª findOne() æ–¹æ³•ï¼Œå®ƒåªè¿”å›ä¸€ä¸ªæ–‡æ¡£ã€‚</p><table><thead><tr><th>æ“ä½œ</th><th>æ ¼å¼</th><th>èŒƒä¾‹</th><th>RDBMSä¸­çš„ç±»ä¼¼è¯­å¥</th></tr></thead><tbody><tr><td>ç­‰äº</td><td>{\<key>:\<value>}</value></key></td><td>db.col.find({â€œbyâ€:â€èœé¸Ÿæ•™ç¨‹â€}).pretty()</td><td>where by = â€˜èœé¸Ÿæ•™ç¨‹â€™</td></tr><tr><td>å°äº</td><td>{\<key>:{$lt:\<value>}}</value></key></td><td>db.col.find({â€œlikesâ€:{$lt:50}}).pretty()</td><td>where likes &lt; 50</td></tr><tr><td>å°äºæˆ–ç­‰äº</td><td>{\<key>:{$lte:\<value>}}</value></key></td><td>db.col.find({â€œlikesâ€:{$lte:50}}).pretty()</td><td>where likes &lt;= 50</td></tr><tr><td>å¤§äº</td><td>{\<key>:{$gt:\<value>}}</value></key></td><td>db.col.find({â€œlikesâ€:{$gt:50}}).pretty()</td><td>where likes &gt; 50</td></tr><tr><td>å¤§äºæˆ–ç­‰äº</td><td>{\<key>:{$gte:\<value>}}</value></key></td><td>db.col.find({â€œlikesâ€:{$gte:50}}).pretty()</td><td>where likes &gt;= 50</td></tr><tr><td>ä¸ç­‰äº</td><td>{\<key>:{$ne:\<value>}}</value></key></td><td>db.col.find({â€œlikesâ€:{$ne:50}}).pretty()</td><td>where likes != 50</td></tr></tbody></table><ul><li>MongoDB AND æ¡ä»¶</li></ul><p>MongoDB çš„ find() æ–¹æ³•å¯ä»¥ä¼ å…¥å¤šä¸ªé”®(key)ï¼Œæ¯ä¸ªé”®(key)ä»¥é€—å·éš”å¼€ï¼Œå³å¸¸è§„ SQL çš„ AND æ¡ä»¶ã€‚</p><p>è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.col</span><span class="selector-class">.find</span>(&#123;<span class="attribute">key1</span>:value1, <span class="attribute">key2</span>:value2&#125;)<span class="selector-class">.pretty</span>()</span><br></pre></td></tr></table></figure></p><p>eg:<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">db.col.<span class="builtin-name">find</span>(&#123;<span class="string">"by"</span>:<span class="string">"èœé¸Ÿæ•™ç¨‹"</span>, <span class="string">"title"</span>:<span class="string">"MongoDB æ•™ç¨‹"</span>&#125;).pretty()</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">"_id"</span> : ObjectId(<span class="string">"56063f17ade2f21f36b03133"</span>),</span><br><span class="line"><span class="string">"title"</span> : <span class="string">"MongoDB æ•™ç¨‹"</span>,</span><br><span class="line"><span class="string">"description"</span> : <span class="string">"MongoDB æ˜¯ä¸€ä¸ª Nosql æ•°æ®åº“"</span>,</span><br><span class="line"><span class="string">"by"</span> : <span class="string">"èœé¸Ÿæ•™ç¨‹"</span>,</span><br><span class="line"><span class="string">"url"</span> : <span class="string">"http://www.runoob.com"</span>,</span><br><span class="line"><span class="string">"tags"</span> : [</span><br><span class="line"><span class="string">"mongodb"</span>,</span><br><span class="line"><span class="string">"database"</span>,</span><br><span class="line"><span class="string">"NoSQL"</span></span><br><span class="line">        ],</span><br><span class="line"><span class="string">"likes"</span> : 100</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä»¥ä¸Šå®ä¾‹ä¸­ç±»ä¼¼äº WHERE è¯­å¥ï¼šWHERE by=â€™èœé¸Ÿæ•™ç¨‹â€™ AND title=â€™MongoDB æ•™ç¨‹â€™</p><ul><li><p>MongoDB OR æ¡ä»¶<br>MongoDB OR æ¡ä»¶è¯­å¥ä½¿ç”¨äº†å…³é”®å­— $or,è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.col</span><span class="selector-class">.find</span>(</span><br><span class="line">   &#123;</span><br><span class="line">      $<span class="attribute">or</span>: [</span><br><span class="line">         &#123;<span class="attribute">key1</span>: value1&#125;, &#123;<span class="attribute">key2</span>:value2&#125;</span><br><span class="line">      ]</span><br><span class="line">   &#125;</span><br><span class="line">)<span class="selector-class">.pretty</span>()</span><br></pre></td></tr></table></figure></li><li><p>AND å’Œ OR è”åˆä½¿ç”¨<br>ç±»ä¼¼å¸¸è§„ SQL è¯­å¥ä¸ºï¼š<code>&#39;where likes&gt;50 AND (by = &#39;èœé¸Ÿæ•™ç¨‹&#39; OR title = &#39;MongoDB æ•™ç¨‹&#39;)&#39;</code></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">db.col.<span class="builtin-name">find</span>(&#123;<span class="string">"likes"</span>: &#123;<span class="variable">$gt</span>:50&#125;, <span class="variable">$or</span>: [&#123;<span class="string">"by"</span>: <span class="string">"èœé¸Ÿæ•™ç¨‹"</span>&#125;,&#123;<span class="string">"title"</span>: <span class="string">"MongoDB æ•™ç¨‹"</span>&#125;]&#125;).pretty()</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">"_id"</span> : ObjectId(<span class="string">"56063f17ade2f21f36b03133"</span>),</span><br><span class="line"><span class="string">"title"</span> : <span class="string">"MongoDB æ•™ç¨‹"</span>,</span><br><span class="line"><span class="string">"description"</span> : <span class="string">"MongoDB æ˜¯ä¸€ä¸ª Nosql æ•°æ®åº“"</span>,</span><br><span class="line"><span class="string">"by"</span> : <span class="string">"èœé¸Ÿæ•™ç¨‹"</span>,</span><br><span class="line"><span class="string">"url"</span> : <span class="string">"http://www.runoob.com"</span>,</span><br><span class="line"><span class="string">"tags"</span> : [</span><br><span class="line"><span class="string">"mongodb"</span>,</span><br><span class="line"><span class="string">"database"</span>,</span><br><span class="line"><span class="string">"NoSQL"</span></span><br><span class="line">        ],</span><br><span class="line"><span class="string">"likes"</span> : 100</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content><categories><category> æ•°æ®åº“ </category></categories><tags><tag> mongodb </tag><tag> æ•°æ®åº“ </tag></tags></entry><entry><title>vuexå­¦ä¹ ç¬”è®°</title><link href="/vuex-notes.html"/><url>/vuex-notes.html</url><content type="html"><![CDATA[<blockquote><p>vuexæ˜¯ä¸ºVueåº”ç”¨å¼€å‘çš„<strong>çŠ¶æ€ç®¡ç†æ¨¡å¼</strong>ã€‚<br>å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚Vuex ä¹Ÿé›†æˆåˆ° Vue çš„å®˜æ–¹è°ƒè¯•å·¥å…· devtools extensionï¼Œæä¾›äº†è¯¸å¦‚é›¶é…ç½®çš„ time-travel è°ƒè¯•ã€çŠ¶æ€å¿«ç…§å¯¼å…¥å¯¼å‡ºç­‰é«˜çº§è°ƒè¯•åŠŸèƒ½ã€‚</p></blockquote><p>è¿™ä¸ªçŠ¶æ€è‡ªç®¡ç†åº”ç”¨åŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>stateï¼Œé©±åŠ¨åº”ç”¨çš„æ•°æ®æºï¼›</li><li>viewï¼Œä»¥å£°æ˜æ–¹å¼å°† state æ˜ å°„åˆ°è§†å›¾ï¼›</li><li>actionsï¼Œå“åº”åœ¨ view ä¸Šçš„ç”¨æˆ·è¾“å…¥å¯¼è‡´çš„çŠ¶æ€å˜åŒ–ã€‚<a id="more"></a><strong>å•å‘æ•°æ®æµ</strong><img src="https://vuex.vuejs.org/zh-cn/images/flow.png" style="width: 400px; display: block;"></li></ul><p><strong>å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€</strong><br><img src="https://vuex.vuejs.org/zh-cn/images/vuex.png" style="width: 400px; display: block;"></p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>ä½¿ç”¨npmå®‰è£…ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex --save</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨yarnå®‰è£…<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add vuex</span><br></pre></td></tr></table></figure></p><p>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨<code>Vue.use()</code>æ¥å®‰è£…å¼•å…¥ Vuex<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span><span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span><span class="string">'vuex'</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br></pre></td></tr></table></figure></p><h3 id="State"><a href="#State" class="headerlink" title="State"></a>State</h3><h4 id="åœ¨-Vue-ç»„ä»¶ä¸­è·å¾—-Vuex-çŠ¶æ€"><a href="#åœ¨-Vue-ç»„ä»¶ä¸­è·å¾—-Vuex-çŠ¶æ€" class="headerlink" title="åœ¨ Vue ç»„ä»¶ä¸­è·å¾— Vuex çŠ¶æ€"></a>åœ¨ Vue ç»„ä»¶ä¸­è·å¾— Vuex çŠ¶æ€</h4><p>ä» store å®ä¾‹ä¸­è¯»å–çŠ¶æ€æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨è®¡ç®—å±æ€§ä¸­è¿”å›æŸä¸ªçŠ¶æ€ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ª Counter ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> Counter = &#123;</span><br><span class="line">  template: <span class="string">`&lt;div&gt;&#123;&#123; count &#125;&#125;&lt;/div&gt;`</span>,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    count () &#123;</span><br><span class="line"><span class="keyword">return</span> store.state.count</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>Vuex é€šè¿‡ store é€‰é¡¹ï¼Œæä¾›äº†ä¸€ç§æœºåˆ¶å°†çŠ¶æ€ä»æ ¹ç»„ä»¶â€œæ³¨å…¥â€åˆ°æ¯ä¸€ä¸ªå­ç»„ä»¶ä¸­ï¼ˆéœ€è°ƒç”¨ Vue.use(Vuex)ï¼‰ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line"><span class="comment">// æŠŠ store å¯¹è±¡æä¾›ç»™ â€œstoreâ€ é€‰é¡¹ï¼Œè¿™å¯ä»¥æŠŠ store çš„å®ä¾‹æ³¨å…¥æ‰€æœ‰çš„å­ç»„ä»¶</span></span><br><span class="line">  store,</span><br><span class="line">  components: &#123; Counter &#125;,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div class="app"&gt;</span></span><br><span class="line"><span class="string">      &lt;counter&gt;&lt;/counter&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>é€šè¿‡åœ¨æ ¹å®ä¾‹ä¸­æ³¨å†Œ store é€‰é¡¹ï¼Œè¯¥ store å®ä¾‹ä¼šæ³¨å…¥åˆ°æ ¹ç»„ä»¶ä¸‹çš„æ‰€æœ‰å­ç»„ä»¶ä¸­ï¼Œä¸”å­ç»„ä»¶èƒ½é€šè¿‡ this.$store è®¿é—®åˆ°ã€‚è®©æˆ‘ä»¬æ›´æ–°ä¸‹ Counter çš„å®ç°ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Counter = &#123;</span><br><span class="line">  template: <span class="string">`&lt;div&gt;&#123;&#123; count &#125;&#125;&lt;/div&gt;`</span>,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    count () &#123;</span><br><span class="line"><span class="keyword">return</span><span class="keyword">this</span>.$store.state.count</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="mapState-è¾…åŠ©å‡½æ•°"><a href="#mapState-è¾…åŠ©å‡½æ•°" class="headerlink" title="mapState è¾…åŠ©å‡½æ•°"></a>mapState è¾…åŠ©å‡½æ•°</h4><p>å½“ä¸€ä¸ªç»„ä»¶éœ€è¦è·å–å¤šä¸ªçŠ¶æ€æ—¶å€™ï¼Œå°†è¿™äº›çŠ¶æ€éƒ½å£°æ˜ä¸ºè®¡ç®—å±æ€§ä¼šæœ‰äº›é‡å¤å’Œå†—ä½™ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ mapState è¾…åŠ©å‡½æ•°å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆè®¡ç®—å±æ€§ï¼Œè®©ä½ å°‘æŒ‰å‡ æ¬¡é”®ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨å•ç‹¬æ„å»ºçš„ç‰ˆæœ¬ä¸­è¾…åŠ©å‡½æ•°ä¸º Vuex.mapState</span></span><br><span class="line"><span class="keyword">import</span> &#123; mapState &#125; <span class="keyword">from</span><span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span><span class="keyword">default</span> &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">  computed: mapState(&#123;</span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°å¯ä½¿ä»£ç æ›´ç®€ç»ƒ</span></span><br><span class="line">    count: <span class="function"><span class="params">state</span> =&gt;</span> state.count,</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ å­—ç¬¦ä¸²å‚æ•° 'count' ç­‰åŒäº `state =&gt; state.count`</span></span><br><span class="line">    countAlias: <span class="string">'count'</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ `this` è·å–å±€éƒ¨çŠ¶æ€ï¼Œå¿…é¡»ä½¿ç”¨å¸¸è§„å‡½æ•°</span></span><br><span class="line">    countPlusLocalState (state) &#123;</span><br><span class="line"><span class="keyword">return</span> state.count + <span class="keyword">this</span>.localCount</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å½“æ˜ å°„çš„è®¡ç®—å±æ€§çš„åç§°ä¸ state çš„å­èŠ‚ç‚¹åç§°ç›¸åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™ mapState ä¼ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">computed: mapState([</span><br><span class="line"><span class="comment">// æ˜ å°„ this.count ä¸º store.state.count</span></span><br><span class="line"><span class="string">'count'</span></span><br><span class="line">])</span><br></pre></td></tr></table></figure></p><h4 id="å¯¹è±¡å±•å¼€è¿ç®—ç¬¦"><a href="#å¯¹è±¡å±•å¼€è¿ç®—ç¬¦" class="headerlink" title="å¯¹è±¡å±•å¼€è¿ç®—ç¬¦"></a>å¯¹è±¡å±•å¼€è¿ç®—ç¬¦</h4><p>mapState å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚æˆ‘ä»¬å¦‚ä½•å°†å®ƒä¸å±€éƒ¨è®¡ç®—å±æ€§æ··åˆä½¿ç”¨å‘¢ï¼Ÿé€šå¸¸ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªå·¥å…·å‡½æ•°å°†å¤šä¸ªå¯¹è±¡åˆå¹¶ä¸ºä¸€ä¸ªï¼Œä»¥ä½¿æˆ‘ä»¬å¯ä»¥å°†æœ€ç»ˆå¯¹è±¡ä¼ ç»™ computed å±æ€§ã€‚ä½†æ˜¯è‡ªä»æœ‰äº†å¯¹è±¡å±•å¼€è¿ç®—ç¬¦ï¼ˆç°å¤„äº ECMASCript ææ¡ˆ stage-3 é˜¶æ®µï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥æå¤§åœ°ç®€åŒ–å†™æ³•ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  localComputed () &#123; <span class="comment">/* ... */</span> &#125;,</span><br><span class="line"><span class="comment">// ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°†æ­¤å¯¹è±¡æ··å…¥åˆ°å¤–éƒ¨å¯¹è±¡ä¸­</span></span><br><span class="line">  ...mapState(&#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="getter"><a href="#getter" class="headerlink" title="getter"></a>getter</h3><p>Vuex å…è®¸æˆ‘ä»¬åœ¨ store ä¸­å®šä¹‰â€œgetterâ€ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§ï¼‰ã€‚å°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚</p><p>Getter æ¥å— state ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    state: &#123;</span><br><span class="line">        todos: [</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">text</span>: <span class="string">'...'</span>, <span class="attr">done</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">test</span>: <span class="string">'...'</span>, <span class="attr">done</span>: <span class="literal">false</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    getters: &#123;</span><br><span class="line">        doneTodos: <span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> state.todos.filter(<span class="function"><span class="params">todo</span> =&gt;</span> todo.done)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>Getter ä¼šæš´éœ²ä¸º store.getters å¯¹è±¡ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">store.getters.doneTodos <span class="comment">// -&gt; [&#123; id: 1, text: '...', done: true &#125;]</span></span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°åœ¨ä»»ä½•ç»„ä»¶ä¸­ä½¿ç”¨å®ƒï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  doneTodosCount () &#123;</span><br><span class="line"><span class="keyword">return</span><span class="keyword">this</span>.$store.getters.doneTodosCount</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="mapGetters-è¾…åŠ©å‡½æ•°"><a href="#mapGetters-è¾…åŠ©å‡½æ•°" class="headerlink" title="mapGetters è¾…åŠ©å‡½æ•°"></a>mapGetters è¾…åŠ©å‡½æ•°</h4><p>mapGetters è¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span><span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span><span class="keyword">default</span> &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">    computed: &#123;</span><br><span class="line"><span class="comment">//ä½¿ç”¨å¯¹è±¡å±•å¼€ç¬¦ å°† getter æ··å…¥ computed å¯¹è±¡ä¸­</span></span><br><span class="line">        ...mapGetters([</span><br><span class="line"><span class="string">'doneTodosCount'</span>,</span><br><span class="line"><span class="string">'anothersGetters'</span>,</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">        ])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä½ æƒ³å°†ä¸€ä¸ª getter å±æ€§å¦å–ä¸€ä¸ªåå­—ï¼Œä½¿ç”¨å¯¹è±¡å½¢å¼ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mapGetters([</span><br><span class="line"><span class="comment">// æ˜ å°„ `this.doneCount` ä¸º `store.getters.doneTodosCount`</span></span><br><span class="line">    doneCount: <span class="string">'doneTodosCount'</span></span><br><span class="line">])</span><br></pre></td></tr></table></figure></p><h3 id="Mutation"><a href="#Mutation" class="headerlink" title="Mutation"></a>Mutation</h3><p>æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚Vuex ä¸­çš„ mutation éå¸¸ç±»ä¼¼äºäº‹ä»¶ï¼šæ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„ <strong>äº‹ä»¶ç±»å‹ (type)</strong> å’Œ ä¸€ä¸ª <strong>å›è°ƒå‡½æ•° (handler)</strong>ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬å®é™…è¿›è¡ŒçŠ¶æ€æ›´æ”¹çš„åœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä¼šæ¥å— state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span><span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    state: &#123;</span><br><span class="line">        count: <span class="number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    mutation: &#123;</span><br><span class="line">        increment(state) &#123;</span><br><span class="line">            count ++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>å½“è§¦å‘ä¸€ä¸ªç±»å‹ä¸º increment çš„ mutation æ—¶ï¼Œè°ƒç”¨æ­¤å‡½æ•°ã€‚â€è¦å”¤é†’ä¸€ä¸ª mutation handlerï¼Œä½ éœ€è¦ä»¥ç›¸åº”çš„ type è°ƒç”¨ store.commit æ–¹æ³•ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">store.commit(<span class="string">'increment'</span>)</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥ä¼ å…¥é¢å¤–çš„å‚æ•°ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line">mutations: &#123;</span><br><span class="line">  increment (state, n) &#123;</span><br><span class="line">    state.count += n</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">store.commit(<span class="string">'increment'</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure></p><p>å¤šæ•°æƒ…å†µä¸‹ä¸ºä¸€ä¸ªå¯¹è±¡ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">  increment (state, payload) &#123;</span><br><span class="line">    state.count += payload.amount</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">store.commit(<span class="string">'increment'</span>, &#123;</span><br><span class="line">  amount: <span class="number">10</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><h4 id="å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼"><a href="#å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼" class="headerlink" title="å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼"></a>å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼</h4><p>æäº¤ mutation çš„å¦ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨åŒ…å« type å±æ€§çš„å¯¹è±¡ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">muations: &#123;</span><br><span class="line">    increment (state, payload) &#123;</span><br><span class="line">        state.count += payload.amount</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">store.commit(&#123;</span><br><span class="line">    type: <span class="string">'increment'</span>,</span><br><span class="line">    amount: <span class="number">10</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><h4 id="Mutation-éœ€éµå®ˆ-Vue-çš„å“åº”è§„åˆ™"><a href="#Mutation-éœ€éµå®ˆ-Vue-çš„å“åº”è§„åˆ™" class="headerlink" title="Mutation éœ€éµå®ˆ Vue çš„å“åº”è§„åˆ™"></a>Mutation éœ€éµå®ˆ Vue çš„å“åº”è§„åˆ™</h4><p>Vuex çš„ store ä¸­çš„çŠ¶æ€æ˜¯å“åº”å¼çš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬å˜æ›´çŠ¶æ€æ—¶ï¼Œç›‘è§†çŠ¶æ€çš„Vueç»„ä»¶ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ã€‚ æ„å‘³ç€ Vuex ä¸­çš„ mutation ä¹Ÿéœ€è¦ä¸ä½¿ç”¨ Vue ä¸€æ ·éµå®ˆä¸€äº›æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>æœ€å¥½æå‰åœ¨ store ä¸­ åˆå§‹åŒ–æ‰€æœ‰éœ€è¦çš„å±æ€§</li><li>å½“éœ€è¦åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§æ—¶ï¼š<ul><li>ä½¿ç”¨ Vue.set(obj, â€˜newPropâ€™, 123) æˆ–è€…</li><li>ä»¥æ–°å¯¹è±¡æ›¿æ¢æ—§å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ stage-3 çš„ å¯¹è±¡å±•å¼€è¿ç®—ç¬¦ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">state.obj = &#123; ...state.obj, <span class="attr">newProp</span>: <span class="number">123</span> &#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h4 id="ä½¿ç”¨å¸¸é‡æ›¿ä»£-Mutation-äº‹ä»¶ç±»å‹"><a href="#ä½¿ç”¨å¸¸é‡æ›¿ä»£-Mutation-äº‹ä»¶ç±»å‹" class="headerlink" title="ä½¿ç”¨å¸¸é‡æ›¿ä»£ Mutation äº‹ä»¶ç±»å‹"></a>ä½¿ç”¨å¸¸é‡æ›¿ä»£ Mutation äº‹ä»¶ç±»å‹</h4><p>ä½¿ç”¨å¸¸é‡æ›¿ä»£ mutation äº‹ä»¶ç±»å‹åœ¨å„ç§ Flux å®ç°ä¸­æ˜¯å¾ˆå¸¸è§çš„æ¨¡å¼ã€‚è¿™æ ·å¯ä»¥ä½¿ linter ä¹‹ç±»çš„å·¥å…·å‘æŒ¥ä½œç”¨ï¼ŒåŒæ—¶æŠŠè¿™äº›å¸¸é‡æ”¾åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­å¯ä»¥è®©ä½ çš„ä»£ç åˆä½œè€…å¯¹æ•´ä¸ª app åŒ…å«çš„ mutation ä¸€ç›®äº†ç„¶ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mutation-types.js</span></span><br><span class="line"><span class="keyword">export</span><span class="keyword">const</span> SOME_MUTATION = <span class="string">'SOME_MUTATION'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// store.js</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span><span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">import</span> &#123; SOME_MUTATION &#125; <span class="keyword">from</span><span class="string">'mutation-types'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.store(&#123;</span><br><span class="line">  state: &#123;...&#125;,</span><br><span class="line">  mutation: &#123;</span><br><span class="line"><span class="comment">// æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ES2015 é£æ ¼çš„è®¡ç®—å±æ€§å‘½ååŠŸèƒ½æ¥ä½¿ç”¨ä¸€ä¸ªå¸¸é‡ä½œä¸ºå‡½æ•°å</span></span><br><span class="line">    [SOME_MUTATION] (state) &#123;</span><br><span class="line"><span class="comment">// mutate state</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨å¸¸é‡å¯¹äºå¤šäººåä½œçš„å¤§å‹é¡¹ç›®å¾ˆæœ‰å¸®åŠ©ï¼Œ ä½†ä¸æ˜¯å¿…éœ€çš„ã€‚</p><h4 id="Mutation-å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°"><a href="#Mutation-å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°" class="headerlink" title="Mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°"></a>Mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</h4><p><strong>mutationå¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</strong></p><h4 id="åœ¨ç»„ä»¶ä¸­æäº¤-mutation"><a href="#åœ¨ç»„ä»¶ä¸­æäº¤-mutation" class="headerlink" title="åœ¨ç»„ä»¶ä¸­æäº¤ mutation"></a>åœ¨ç»„ä»¶ä¸­æäº¤ mutation</h4><p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <code>this.$store.commit(&#39;xxx&#39;)</code> æäº¤ mutation ï¼Œæˆ–è€…ä½¿ç”¨ <code>mapMutation</code> è¾…åŠ©å‡½æ•°å°†ç»„ä»¶ä¸­çš„ methods æ˜ å°„ä¸º <code>store.commit</code> è°ƒç”¨ï¼ˆéœ€è¦åœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥ <code>store</code>ï¼‰ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapMutations &#125; <span class="keyword">from</span><span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span><span class="keyword">default</span> &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    ...mapMutations ([</span><br><span class="line"><span class="string">'increment'</span>, <span class="comment">// å°†`this.increment()` æ˜ å°„ä¸º`this.$store.commit('increment')`</span></span><br><span class="line"></span><br><span class="line"><span class="string">'incrementBy'</span><span class="comment">// å°† `this.incrementBy(amount)` æ˜ å°„ä¸º `this.$store.commit('incrementBy', amount)`</span></span><br><span class="line">    ]),</span><br><span class="line">    ...mapMutations([</span><br><span class="line">      add: <span class="string">'increment'</span><span class="comment">// å°† `this.add()` æ˜ å°„ä¸º `this.$store.commit('increment')`</span></span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>mutationéƒ½æ˜¯åŒæ­¥äº‹ç‰©ï¼Œå¤„ç†å¼‚æ­¥äº‹ç‰©éœ€è¦ä½¿ç”¨action.</p><h3 id="action"><a href="#action" class="headerlink" title="action"></a>action</h3><p>Action ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼š</p><ul><li>Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚</li><li>Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚</li></ul><p>è®©æˆ‘ä»¬æ¥æ³¨å†Œä¸€ä¸ªç®€å•çš„ actionï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    state: &#123;</span><br><span class="line">        count: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    motations: &#123;</span><br><span class="line">        increment(state) &#123;</span><br><span class="line">            state.count++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    actions: &#123;</span><br><span class="line">        increment (context) &#123;</span><br><span class="line">            context.commit(<span class="string">'increment'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><h4 id="åˆ†å‘-Action"><a href="#åˆ†å‘-Action" class="headerlink" title="åˆ†å‘ Action"></a>åˆ†å‘ Action</h4><p>Action é€šè¿‡ store.dispatch æ–¹æ³•è§¦å‘ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">store.dispatch(<span class="string">'increment'</span>)</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥åœ¨ action å†…éƒ¨è¿›è¡Œå¼‚æ­¥æ“ä½œï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">action: &#123;</span><br><span class="line">  incrementAsync(&#123;commit&#125;)&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      commit(<span class="string">'increment'</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>Actions æ”¯æŒåŒæ ·çš„è½½è·æ–¹å¼å’Œå¯¹è±¡æ–¹å¼è¿›è¡Œåˆ†å‘ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">store.dispatch(<span class="string">'incrementAsync'</span>, &#123;</span><br><span class="line">  amount: <span class="number">10</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.dispatch(&#123;</span><br><span class="line">  type: <span class="string">'incrementAsync'</span>,</span><br><span class="line">  amount: <span class="number">10</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>æ¥çœ‹ä¸€ä¸ªå®˜æ–¹æ–‡æ¡£ä¸Šæ›´åŠ å®é™…çš„è´­ç‰©è½¦ç¤ºä¾‹ï¼Œæ¶‰åŠåˆ°è°ƒç”¨å¼‚æ­¥ API å’Œåˆ†å‘å¤šé‡ mutationï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  checkout (&#123; commit, state &#125;, products) &#123;</span><br><span class="line"><span class="comment">// æŠŠå½“å‰è´­ç‰©è½¦çš„ç‰©å“å¤‡ä»½èµ·æ¥</span></span><br><span class="line"><span class="keyword">const</span> savedCartItems = [...state.cart.added]</span><br><span class="line"><span class="comment">// å‘å‡ºç»“è´¦è¯·æ±‚ï¼Œç„¶åä¹è§‚åœ°æ¸…ç©ºè´­ç‰©è½¦</span></span><br><span class="line">    commit(types.CHECKOUT_REQUEST)</span><br><span class="line"><span class="comment">// è´­ç‰© API æ¥å—ä¸€ä¸ªæˆåŠŸå›è°ƒå’Œä¸€ä¸ªå¤±è´¥å›è°ƒ</span></span><br><span class="line">    shop.buyProducts(</span><br><span class="line">      products,</span><br><span class="line"><span class="comment">// æˆåŠŸæ“ä½œ</span></span><br><span class="line">      () =&gt; commit(types.CHECKOUT_SUCCESS),</span><br><span class="line"><span class="comment">// å¤±è´¥æ“ä½œ</span></span><br><span class="line">      () =&gt; commit(types.CHECKOUT_FAILURE, savedCartItems)</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å†æ¥ä¸€ä¸ªï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// action.js</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span><span class="string">'axios'</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="string">'...'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span><span class="function"><span class="keyword">function</span><span class="title">loadmore</span>(<span class="params">state</span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> details = state.details</span><br><span class="line"><span class="keyword">let</span> resp = <span class="keyword">await</span> axios.get(url)</span><br><span class="line"><span class="keyword">return</span> resp.data</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span><span class="keyword">default</span> &#123;</span><br><span class="line"><span class="keyword">async</span> moreDetails(&#123;commit, state&#125;) &#123;</span><br><span class="line">    commit(<span class="string">'loadmore'</span>, <span class="keyword">await</span> loadmore(state))</span><br><span class="line">  &#125;,</span><br><span class="line">  changeAddress(&#123;commit, address&#125;) &#123;</span><br><span class="line">    commit(<span class="string">'CHANGEADDRESS'</span>, address)</span><br><span class="line">  &#125;,</span><br><span class="line"><span class="keyword">async</span> resetAddress(&#123;commit&#125;) &#123;</span><br><span class="line"><span class="keyword">let</span> addresses = []</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="keyword">let</span> resp = <span class="keyword">await</span> axios.get(<span class="string">`...`</span>)</span><br><span class="line">      addresses = resp.data</span><br><span class="line">    &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(e)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    commit(<span class="string">'CHANGEADDRESS'</span>, addresses)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="åœ¨ç»„ä»¶ä¸­åˆ†å‘-Action"><a href="#åœ¨ç»„ä»¶ä¸­åˆ†å‘-Action" class="headerlink" title="åœ¨ç»„ä»¶ä¸­åˆ†å‘ Action"></a>åœ¨ç»„ä»¶ä¸­åˆ†å‘ Action</h4><p>åœ¨ç»„ä»¶ä¸­åˆ†å‘actionæœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ul><li>ä½¿ç”¨ <code>this.$store.dispatch(&#39;xxx&#39;)</code></li><li>ä½¿ç”¨ <code>mapActions</code> è¾…åŠ©å‡½æ•°å°†ç»„ä»¶çš„ <code>methods</code> æ˜ å°„ä¸º <code>store.dispatch</code>æ¥è°ƒç”¨ï¼ˆéœ€è¦åœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥storeï¼‰<br>æ¥ä¸ªå®˜ç½‘çš„ä¾‹å­ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapActions &#125; <span class="keyword">from</span><span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span><span class="keyword">default</span> &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    ...mapActions([</span><br><span class="line"><span class="string">'increment'</span>, <span class="comment">// å°† `this.increment()` æ˜ å°„ä¸º `this.$store.dispatch('increment')`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `mapActions` ä¹Ÿæ”¯æŒè½½è·ï¼š</span></span><br><span class="line"><span class="string">'incrementBy'</span><span class="comment">// å°† `this.incrementBy(amount)` æ˜ å°„ä¸º `this.$store.dispatch('incrementBy', amount)`</span></span><br><span class="line">    ]),</span><br><span class="line">    ...mapActions(&#123;</span><br><span class="line">      add: <span class="string">'increment'</span><span class="comment">// å°† `this.add()` æ˜ å°„ä¸º `this.$store.dispatch('increment')`</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="ç»„åˆä½¿ç”¨-Action"><a href="#ç»„åˆä½¿ç”¨-Action" class="headerlink" title="ç»„åˆä½¿ç”¨ Action"></a>ç»„åˆä½¿ç”¨ Action</h4><p>store.dispatch å¯ä»¥å¤„ç†è¢«è§¦å‘çš„ action çš„å¤„ç†å‡½æ•°è¿”å›çš„ Promiseï¼Œå¹¶ä¸” store.dispatch ä»æ—§è¿”å› Promiseã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾ getData() å’Œ getOtherData() è¿”å›çš„æ˜¯ Promise</span></span><br><span class="line">actions: &#123;</span><br><span class="line"><span class="keyword">async</span> actionA (&#123; commit &#125;) &#123;</span><br><span class="line">    commit(<span class="string">'gotData'</span>, <span class="keyword">await</span> getData())</span><br><span class="line">  &#125;,</span><br><span class="line"><span class="keyword">async</span> actionB (&#123; dispatch, commit &#125;) &#123;</span><br><span class="line"><span class="keyword">await</span> dispatch(<span class="string">'actionA'</span>) <span class="comment">// ç­‰å¾… actionA å®Œæˆ</span></span><br><span class="line">    commit(<span class="string">'gotOtherData'</span>, <span class="keyword">await</span> getOtherData())</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="module"><a href="#module" class="headerlink" title="module"></a>module</h3><p>ç”±äºä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ä¼šé›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡ã€‚å½“åº”ç”¨å˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œstore å¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿ã€‚</p><p>ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒVuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆæ¨¡å—ï¼ˆmoduleï¼‰ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—â€”â€”ä»ä¸Šè‡³ä¸‹è¿›è¡ŒåŒæ ·æ–¹å¼çš„åˆ†å‰²ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moduleA = &#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;,</span><br><span class="line">  getters: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> moduleB = &#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    a: moduleA,</span><br><span class="line">    b: moduleB</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.state.a <span class="comment">// -&gt; moduleA çš„çŠ¶æ€</span></span><br><span class="line">store.state.b <span class="comment">// -&gt; moduleB çš„çŠ¶æ€</span></span><br></pre></td></tr></table></figure></p><p><a href="https://vuex.vuejs.org/zh-cn/api.html" target="_blank" rel="noopener">Vuexå®˜æ–¹APIæ–‡æ¡£</a></p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> vue </tag><tag> vuex </tag></tags></entry><entry><title>ç§»åŠ¨ç«¯é¡µé¢è¿œç¨‹è°ƒè¯•</title><link href="/mobile-remote-debug.html"/><url>/mobile-remote-debug.html</url><content type="html"><![CDATA[<p>æœ¬æ–‡è®°å½•ä¸€ä¸‹ç§»åŠ¨ç«¯é¡µé¢è°ƒè¯•çš„æ–¹æ³•ï¼Œå¾…æ—¥åæœ‰æ—¶é—´åœ¨è¯¦ç»†è¯´æ˜ç›¸å…³æ­¥éª¤ã€‚</p><a id="more"></a><h2 id="æ‰‹æœºè¿æ¥ä»£ç†"><a href="#æ‰‹æœºè¿æ¥ä»£ç†" class="headerlink" title="æ‰‹æœºè¿æ¥ä»£ç†"></a>æ‰‹æœºè¿æ¥ä»£ç†</h2><p>æ‰‹æœºç«¯è°ƒè¯•é¡µé¢éƒ½éœ€è¦ä»£ç†ï¼ŒIOSå’Œå®‰å“éƒ½ä¸€æ ·ï¼Œè¿æ¥ä»£ç†çš„æ–¹å¼å› æ‰‹æœºç±»å‹ä¸åŒç¨æœ‰å·®å¼‚ï¼Œä½†æ˜¯å½’çº³èµ·æ¥åªæœ‰å¼€å¯æƒé™ã€ä¸‹è½½è¯ä¹¦ã€é…ç½®ä»£ç†å‡ éƒ¨åˆ†ã€‚<br>é¦–å…ˆéœ€è¦åœ¨ç”µè„‘ä¸Šæ‰“å¼€Charlesåº”ç”¨ç¨‹åºï¼Œ<br>Charleså®˜ç½‘æ˜¯<a href="https://www.charlesproxy.com/" target="_blank" rel="noopener">https://www.charlesproxy.com/</a>ï¼Œ<br>å®‰è£…è¯ä¹¦çš„æ–¹å¼éƒ½å¤§åŒå°å¼‚,åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€charleså®˜ç½‘ï¼Œä¸‹è½½è¯ä¹¦ï¼Œç„¶åå®‰è£…ã€‚å¦‚æœå®‰è£…å¤±è´¥ï¼Œå¾ˆå¤§çš„å¯èƒ½æ˜¯æµè§ˆå™¨æƒé™æˆ–è€…æ‰‹æœºè®¾ç½®ä¸å¯¹ã€‚ä¸€èˆ¬åªéœ€è¦åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€Charleså®˜ç½‘ï¼Œè¿æ¥ä»£ç†åè®¿é—®é¡µé¢ä¼šè‡ªåŠ¨ä¸‹è½½ä»£ç†ã€‚</p><h2 id="å®‰è£…è¯ä¹¦"><a href="#å®‰è£…è¯ä¹¦" class="headerlink" title="å®‰è£…è¯ä¹¦"></a>å®‰è£…è¯ä¹¦</h2><p>è¿æ¥å®Œä»£ç†ä¹‹åéœ€è¦å®‰è£…è¯ä¹¦ï¼Œå¦åˆ™æ— æ³•è§£æhttpsçš„æ•°æ®ã€‚<br>ä¾æ¬¡ç‚¹å‡»: ç”µè„‘ä¸Šcharlesçš„helpèœå• =&gt; SSL Proxying =&gt; iosæ‰‹æœºï¼šinstall Charles Root ceritificate in ios simulatore; Androidæ‰‹æœºï¼š on a mobile devices or remote browser =&gt; å¼¹çª—ä¸­çš„ chls.pro/ssl è¾“å…¥åˆ°æ‰‹æœºçš„æµè§ˆå™¨ä¸­ä¸‹è½½è¯ä¹¦ =&gt; åœ¨æ‰‹æœºä¸Šç‚¹å‡»è¯¥æ–‡ä»¶è¿›è¡Œå®‰è£… =&gt; éƒ¨åˆ†æ‰‹æœºçš„å¯ä»¥è¯†åˆ«.pemè¯ä¹¦ï¼Œå¯ä»¥ç›´æ¥å®‰è£…ï¼Œä¸è¯†åˆ«è¯¥ç±»å‹æ–‡ä»¶çš„æ‰‹æœºéœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œè¯·ç»§ç»­ä¸‹é¢çš„æ“ä½œ =&gt; æ‰¾åˆ°è¯¥è¯ä¹¦æ–‡ä»¶æ‰€åœ¨èµ„æºç®¡ç†å™¨ä¸­çš„è·¯å¾„ï¼Œè®°ä½å®ƒï¼ŒQQæµè§ˆå™¨ä¸‹è½½çš„è·¯å¾„ä¸€èˆ¬åœ¨: Tentcent/QQfile_recvç›®å½•ä¸‹ =&gt; æ¥ä¸‹æ¥æ˜¯æ‰‹åŠ¨å®‰è£…, æ‰“å¼€æ‰‹æœºçš„è®¾ç½® =&gt; æ‰¾åˆ° â€œå®‰å…¨ä¸éšç§â€ èœå•ï¼Œç‚¹è¿›å…¥ï¼Œä¸åŒçš„æ‰‹æœºèœå•ä¸åŒï¼Œè¯·æ ¹æ®ä¸åŒæ‰‹æœºè¿›è¡Œå®é™…æŸ¥æ‰¾ï¼Œè¿›å…¥è¯¥èœå•ä¸‹ =&gt; åœ¨å½“å‰èœå•æˆ–å…¶å­èœå•ä¸­æ‰¾åˆ° â€œä»å­˜å‚¨è®¾å¤‡å®‰è£…â€ èœå•(åä¸ºmate20æ‰‹æœºï¼Œåœ¨è¯¥ç›®å½•ä¸‹çš„ æ›´å¤šå®‰å…¨è®¾ç½® -&gt; åŠ å¯†ä¸å‡­è¯ ä¸‹) =&gt; ç„¶åè¿›å…¥äº†èµ„æºç®¡ç†å™¨ï¼Œæ‰¾åˆ°åˆšæ‰çš„è¯ä¹¦è·¯å¾„ï¼Œå®‰è£…è¯ä¹¦</p><p>ä¸åŒçš„æ‰‹æœºæ‰¾ä¸­ â€œä»å­˜å‚¨è®¾å¤‡å®‰è£…â€åŠŸèƒ½èœå•çš„è·¯å¾„æœ‰å·®å¼‚ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥åœ¨å®‰å…¨ä¸éšç§èœå•ä¸‹é¢æ‰¾åˆ°ï¼Œæœ‰äº›æ‰‹æœºå¯ä»¥åœ¨è®¾ç½®ä¸­ç›´æ¥æœç´¢ï¼Œæå¤§åœ°æ–¹ä¾¿äº†æŸ¥æ‰¾ã€‚</p><h2 id="å®‰å“æ‰‹æœºè¿œç¨‹è°ƒè¯•"><a href="#å®‰å“æ‰‹æœºè¿œç¨‹è°ƒè¯•" class="headerlink" title="å®‰å“æ‰‹æœºè¿œç¨‹è°ƒè¯•"></a>å®‰å“æ‰‹æœºè¿œç¨‹è°ƒè¯•</h2><p><a href="https://developers.google.com/web/tools/chrome-devtools/remote-debugging/?utm_source=dcc&amp;utm_medium=redirect&amp;utm_campaign=2016q3" target="_blank" rel="noopener">è¿œç¨‹è°ƒè¯• Android è®¾å¤‡ä½¿ç”¨å¯ä»¥å‚è€ƒè¿™æœ¬ç¯‡æ–‡ç« </a><br>éœ€è¦æ³¨æ„çš„æ˜¯è¯¥æ–¹æ³•å¿…é¡»ä½¿ç”¨Chromeæµè§ˆå™¨ï¼Œæµè§ˆå™¨éœ€è¦ç›¸å…³æƒé™ã€‚</p><h2 id="IOSæ‰‹æœºè¿œç¨‹è°ƒè¯•"><a href="#IOSæ‰‹æœºè¿œç¨‹è°ƒè¯•" class="headerlink" title="IOSæ‰‹æœºè¿œç¨‹è°ƒè¯•"></a>IOSæ‰‹æœºè¿œç¨‹è°ƒè¯•</h2><p>IOSæ‰‹æœºè¿œç¨‹è°ƒè¯•éœ€è¦ä½¿ç”¨çš„æ˜¯åŸç”Ÿæµè§ˆå™¨safariï¼ŒåŒæ ·éœ€è¦æ•°æ®çº¿è¿æ¥ç”µè„‘ï¼Œè¿æ¥ä»£ç†<br>éœ€è¦çš„ç›¸å…³è®¾ç½®</p><p>æ‰‹æœºç«¯ï¼š<br>ä¾æ¬¡è¿›å…¥ï¼šè®¾ç½® &gt; Safari &gt; é«˜çº§ï¼Œç„¶åå¼€å¯Javascript å’Œ Webæ£€æŸ¥å™¨</p><p>ç”µè„‘ç«¯ï¼š<br>æ‰“å¼€ Safari æµè§ˆå™¨ï¼Œ åœ¨è®¾ç½®é‡Œé¢æ‰“å¼€ï¼š è®¾ç½® &gt; é«˜çº§ , å‹¾é€‰æœ€åé¢çš„ <em>åœ¨èœå•ä¸­æ˜¾ç¤ºâ€œå¼€å‘â€èœå•</em>ï¼Œåœ¨ç”µè„‘ç”¨æˆ·åé€‰é¡¹ä¸‹å‹¾é€‰<em>è‡ªåŠ¨æ˜¾ç¤ºJSContextçš„ç½‘é¡µæ£€æŸ¥å™¨</em>ï¼Œç„¶ååœ¨æ‰‹æœºç«¯çš„Safariæµè§ˆå™¨ä¸­æ‰“å¼€éœ€è¦è°ƒè¯•çš„é¡µé¢ï¼Œç”µè„‘Safariæµè§ˆå™¨çš„å¼€å‘èœå•ä¸­ä¼šå‡ºç°ä¸€ä¸ªæ‰‹æœºåç§°çš„é€‰é¡¹å¡ï¼Œé‡Œé¢ä¼šæ˜¾ç¤ºå‡ºæ‰‹æœºç«¯åœ¨Safariä¸­æ‰“å¼€çš„æ‰€æœ‰é¡µé¢ï¼Œç‚¹å‡»éœ€è¦è°ƒè¯•çš„é¡µé¢å³å¯ã€‚å¦‚æœæ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥ï¼Œé‡å¯ç”µè„‘ä¸Šçš„Safariæµè§ˆå™¨å³å¯ã€‚å¦‚æœè¿˜ä¹ˆæœ‰ï¼Œå¯èƒ½æ˜¯æ•°æ®çº¿æˆ–è€…è®¾ç½®çš„é—®é¢˜ï¼Œæ£€æŸ¥ç›¸å…³æ­¥éª¤æœ‰æ²¡æœ‰é—®é¢˜ã€‚</p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> å®‰å“ </tag><tag> è°ƒè¯• </tag></tags></entry><entry><title>dispatchEventçš„ç”¨æ³•</title><link href="/dispatchEvent.html"/><url>/dispatchEvent.html</url><content type="html"><![CDATA[<p>æµè§ˆå™¨äº‹ä»¶ä¸€èˆ¬è¢«ç§°ä¸ºDOMäº‹ä»¶ï¼Œé€šå¸¸çš„ç”¨æ³•æ˜¯ç»™æŸä¸ªDOMå…ƒç´ æ·»åŠ äº‹ä»¶ã€‚æµè§ˆå™¨ä¸­åŸç”Ÿçš„DOMäº‹ä»¶æœ‰å¾ˆå¤šï¼Œæœ€å¸¸ç”¨çš„æœ‰ä»¥ä¸‹å‡ å¤§ç±»ï¼šé¼ æ ‡äº‹ä»¶ã€é”®ç›˜äº‹ä»¶ã€æ¡†æ¶/å¯¹è±¡äº‹ä»¶ã€è¡¨å•äº‹ä»¶ã€å‰ªåˆ‡æ¿äº‹ä»¶ã€æ‰“å°äº‹ä»¶ã€å¤šåª’ä½“äº‹ä»¶ã€åŠ¨ç”»äº‹ä»¶ç­‰ã€‚æ¯ä¸€ç±»éƒ½æœ‰è‹¥å¹²ä¸ªDOMäº‹ä»¶ã€‚<br>å‰ç«¯æœ€å¸¸ç”¨çš„æ˜¯é¼ æ ‡äº‹ä»¶å’Œé”®ç›˜äº‹ä»¶ï¼Œæ¯”å¦‚é¼ æ ‡ç‚¹å‡»ã€é”®ç›˜é”®å…¥ã€ç§»åŠ¨ç«¯çš„touchç­‰ï¼ŒWebé¡µé¢ä¸ç”¨æˆ·äº¤äº’æ˜¯é€šè¿‡DOMäº‹ä»¶æ¥å®Œæˆçš„ã€‚<br>æœ€å¸¸ç”¨çš„äº‹ä»¶åˆ—è¡¨è¿™é‡Œä¸åœ¨ç½—åˆ—ï¼Œå¯ä»¥åœ¨<a href="http://www.runoob.com/jsref/dom-obj-event.html" target="_blank" rel="noopener">www.runoob.com</a>ä¸ŠæŸ¥ã€‚ä¹‹å‰æ€»ç»“è¿‡<a href="http://mhynet.cn/2017/09/04/%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F/">DOMäº‹ä»¶</a>æ–¹é¢çš„çŸ¥è¯†ï¼Œæœ¬æ–‡æƒ³è¯´çš„æ˜¯è‡ªå®šä¹‰äº‹ä»¶çš„ä½¿ç”¨.</p><a id="more"></a><p>åˆ›å»ºäº‹ä»¶çš„æ–¹å¼æ—©æœŸçš„æœ‰<code>createEvent()</code>ï¼Œä½†æ˜¯ç›®å‰å·²ç»è¿‡æ—¶äº†ï¼Œç°åœ¨å¸¸ç”¨çš„æ–¹å¼æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°çš„æ–¹å¼æ¥åˆ›å»ºäº‹ä»¶ã€‚</p><p>äº‹ä»¶è§¦å‘ä¸€èˆ¬é€šè¿‡ç”¨æˆ·åœ¨é¡µé¢ä¸Šçš„æ“ä½œè§¦å‘ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡äº‹ä»¶è§¦å‘å™¨æ¥å®ç°ã€‚åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œç”¨äº‹ä»¶è§¦å‘å™¨æ¥è§¦å‘äº‹ä»¶æ¯”ç”¨æˆ·çš„å®é™…æ“ä½œæ¥è§¦å‘äº‹ä»¶æ›´æ–¹ä¾¿ã€‚</p><p>è§¦å‘äº‹ä»¶æ¯ç§æµè§ˆå™¨éƒ½æœ‰åŸç”Ÿçš„æ–¹å¼ï¼ŒIEæ”¯æŒ<code>fireEvent()</code>æ–¹æ³•è§¦å‘äº‹ä»¶ï¼Œæ ‡å‡†æµè§ˆå™¨éƒ½æ”¯æŒ<code>dispatchEvent()</code>æ–¹æ³•ã€‚<br>ç®€å•ä»‹ç»ä¸€ä¸‹<code>fireEvent()</code>æ–¹å¼å§ï¼Œä¸‹é¢æ˜¯ä¸€æ®µprototype.jsçš„æºç ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fireEvent = <span class="function"><span class="keyword">function</span><span class="title">fireEvent</span>(<span class="params">element,event</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">document</span>.createEventObject)&#123;</span><br><span class="line"><span class="comment">// IEæµè§ˆå™¨æ”¯æŒfireEventæ–¹æ³•</span></span><br><span class="line"><span class="keyword">var</span> evt = <span class="built_in">document</span>.createEventObject();</span><br><span class="line"><span class="keyword">return</span> element.fireEvent(<span class="string">'on'</span>+event,evt)</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// å…¶ä»–æ ‡å‡†æµè§ˆå™¨ä½¿ç”¨dispatchEventæ–¹æ³•</span></span><br><span class="line"><span class="keyword">var</span> evt = <span class="built_in">document</span>.createEvent( <span class="string">'HTMLEvents'</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">// initEventæ¥å—3ä¸ªå‚æ•°ï¼š</span></span><br><span class="line"><span class="comment">// äº‹ä»¶ç±»å‹ï¼Œæ˜¯å¦å†’æ³¡ï¼Œæ˜¯å¦é˜»æ­¢æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸º</span></span><br><span class="line">        evt.initEvent(event, <span class="literal">true</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">return</span> !element.dispatchEvent(evt);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h2 id="dispatchEvent-äº‹ä»¶è§¦å‘å™¨"><a href="#dispatchEvent-äº‹ä»¶è§¦å‘å™¨" class="headerlink" title="dispatchEvent äº‹ä»¶è§¦å‘å™¨"></a>dispatchEvent äº‹ä»¶è§¦å‘å™¨</h2><ul><li><p>æ—©æœŸçš„åˆ›å»ºäº‹ä»¶çš„æ–¹å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> event = <span class="built_in">document</span>.createEvent(<span class="string">'Event'</span>); <span class="comment">// ä¸€ä¸ªå‚æ•°ï¼Œ è¡¨ç¤ºäº‹ä»¶ç±»å‹</span></span><br><span class="line">event.initEvent(<span class="string">'build'</span>, <span class="literal">true</span>, <span class="literal">true</span>); <span class="comment">// ä¸‰ä¸ªå‚æ•°ï¼ŒeventNameäº‹ä»¶ç±»å‹ã€canBubbleæ˜¯å¦å†’æ³¡ã€preventDefaultæ˜¯å¦é˜»æ­¢äº‹ä»¶çš„é»˜è®¤æ“ä½œ</span></span><br><span class="line"><span class="built_in">document</span>.dispatchEvent(event) <span class="comment">// å‚æ•°ä¸ºäº‹ä»¶å¯¹è±¡</span></span><br></pre></td></tr></table></figure></li><li><p>æ„é€ å‡½æ•°æ–¹å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> event = <span class="keyword">new</span> Event(<span class="string">'build'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç›‘å¬äº‹ä»¶</span></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'build'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line"><span class="comment">// e.target matches document from above</span></span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§¦å‘äº‹ä»¶</span></span><br><span class="line"><span class="built_in">document</span>.dispatchEvent(event);</span><br></pre></td></tr></table></figure></li></ul><p>å†ä¸¾ä¸ªå¯ä»¥ç»™äº‹ä»¶ä¼ å€¼çš„ä¾‹å­ï¼Œå¯ä»¥å°†è§¦å‘äº‹ä»¶å®šä¹‰åœ¨ä¸€ä¸ªæ–¹æ³•å†…:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'mhy'</span>,</span><br><span class="line">    age: <span class="number">23</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> evt = <span class="keyword">new</span> Event(<span class="string">'haha'</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">handler</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> o = e.eventBody</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'addevt'</span>, o)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'evt'</span>, evt)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'haha'</span>, handler, <span class="literal">false</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">disPatchEvt</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">2evt.eventBody = obj</span><br><span class="line">2<span class="built_in">document</span>.dispatchEvent(evt, obj)</span><br><span class="line">&#125;</span><br><span class="line">disPatchEvt(obj)</span><br></pre></td></tr></table></figure></p><p>ä»¥ä¸Šä¾‹å­ä¸­æ‰€ä¼ çš„æ•°æ®å¯ä»¥æ˜¯ä»»ä»»æ„ç±»å‹çš„æ•°æ®ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•åŸºæœ¬å¯ä»¥æ»¡è¶³ä»»æ„æ ‡å‡†æµè§ˆå™¨ç¯å¢ƒä¸‹é€šè¿‡è‡ªå®šä¹‰äº‹ä»¶çš„éœ€æ±‚ã€‚</p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> dispatchEvent </tag><tag> Event </tag></tags></entry><entry><title>windowå¯¹è±¡ä¹‹å±å¹•å°ºå¯¸ç›¸å…³çš„å±æ€§</title><link href="/window-screen-property.html"/><url>/window-screen-property.html</url><content type="html"><![CDATA[<h2 id="windowå¯¹è±¡ä¸­å±å¹•å°ºå¯¸ç›¸å…³çš„å±æ€§"><a href="#windowå¯¹è±¡ä¸­å±å¹•å°ºå¯¸ç›¸å…³çš„å±æ€§" class="headerlink" title="windowå¯¹è±¡ä¸­å±å¹•å°ºå¯¸ç›¸å…³çš„å±æ€§"></a><code>window</code>å¯¹è±¡ä¸­å±å¹•å°ºå¯¸ç›¸å…³çš„å±æ€§</h2><h3 id="window-screenX-å’Œ-window-screentY"><a href="#window-screenX-å’Œ-window-screentY" class="headerlink" title="window.screenX å’Œ window.screentY"></a><code>window.screenX</code> å’Œ <code>window.screentY</code></h3><p>è¿”å›æµè§ˆå™¨çª—å£å·¦ä¸Šè§’ç›¸å¯¹äºå±å¹•å·¦ä¸Šè§’çš„ï¼ˆ0,0)çš„æ°´å¹³è·ç¦»å’Œå‚ç›´è·ç¦»ï¼Œ å•ä½ä¸ºåƒç´ ã€‚<br><a id="more"></a></p><h3 id="window-innerWidth-å’Œ-window-innerHeight"><a href="#window-innerWidth-å’Œ-window-innerHeight" class="headerlink" title="window.innerWidth å’Œ window.innerHeight"></a><code>window.innerWidth</code> å’Œ <code>window.innerHeight</code></h3><p>è¿”å›å½“å‰æµè§ˆå™¨çª—å£å¯è§†éƒ¨åˆ†çš„å®½åº¦å’Œé«˜åº¦, å³â€œè§†å£â€ï¼ˆviewportï¼‰, å•ä½åƒç´ ã€‚<br>è¿™ä¸¤ä¸ªå±æ€§åŒ…å«æ»šåŠ¨æ¡çš„å°ºå¯¸ã€‚<br>å½“ç”¨æˆ·æ”¾å¤§ç½‘é¡µå°ºå¯¸çš„æ—¶å€™ï¼Œè¿™ä¸¤ä¸ªå±æ€§çš„å€¼ä¼šå˜å°ï¼Œå› ä¸ºè¿™æ—¶ç½‘é¡µçš„åƒç´ å¤§å°ä¸å˜ï¼Œåªæ˜¯æ¯ä¸ªåƒç´ å æ®çš„å±å¹•ç©ºé—´å˜å¤§äº†ï¼Œå› ä¸ºå¯è§éƒ¨åˆ†ï¼ˆè§†å£ï¼‰å°±å˜å°äº†ã€‚</p><h3 id="window-outerWidth-å’Œ-window-outerHeight"><a href="#window-outerWidth-å’Œ-window-outerHeight" class="headerlink" title="window.outerWidth å’Œ window.outerHeight"></a><code>window.outerWidth</code> å’Œ <code>window.outerHeight</code></h3><p>è¿”å›æµè§ˆå™¨çª—å£çš„é«˜åº¦å’Œå®½åº¦ï¼ŒåŒ…æ‹¬æµè§ˆå™¨èœå•æ å’Œè¾¹æ¡†ï¼Œå•ä½ä¸ºåƒç´ ã€‚</p><h3 id="window-pageXOffset-å’Œ-window-pageYOffset"><a href="#window-pageXOffset-å’Œ-window-pageYOffset" class="headerlink" title="window.pageXOffset å’Œ window.pageYOffset"></a><code>window.pageXOffset</code> å’Œ <code>window.pageYOffset</code></h3><p>è¿”å›é¡µé¢çš„æ°´å¹³å’Œå‚ç›´æ»šåŠ¨è·ç¦»ï¼Œ å•ä½ä¸ºåƒç´ ã€‚</p><h2 id="windowå¯¹è±¡ä¸­å±å¹•æ»šåŠ¨ç›¸å…³çš„æ–¹æ³•"><a href="#windowå¯¹è±¡ä¸­å±å¹•æ»šåŠ¨ç›¸å…³çš„æ–¹æ³•" class="headerlink" title="windowå¯¹è±¡ä¸­å±å¹•æ»šåŠ¨ç›¸å…³çš„æ–¹æ³•"></a><code>window</code>å¯¹è±¡ä¸­å±å¹•æ»šåŠ¨ç›¸å…³çš„æ–¹æ³•</h2><p><code>window</code>å¯¹è±¡ä¸­å±å¹•æ»šåŠ¨ç›¸å…³çš„æ–¹æ³•æœ€å¸¸ç”¨çš„æœ‰<code>window.scrollTo(x, y)</code> å’Œ<code>window.scrollBy(x, y)</code>ï¼Œ å•ä½éƒ½æ˜¯åƒç´ ã€‚</p><h3 id="window-scrollTo"><a href="#window-scrollTo" class="headerlink" title="window.scrollTo()"></a><code>window.scrollTo()</code></h3><p>è¯¥æ–¹æ³•ç”¨äºå°†ç½‘é¡µçš„æŒ‡å®šä½ç½®ï¼ˆå‚æ•°åæ ‡ä½ç½®ï¼‰ï¼Œæ»šåŠ¨åˆ°æµè§ˆå™¨çš„å·¦ä¸Šè§’ã€‚å‚æ•°æ˜¯ç›¸å¯¹äºæ•´å¼ ç½‘é¡µçš„åæ ‡ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.scrollTo(<span class="number">0</span>, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure></p><h3 id="window-scrollBy"><a href="#window-scrollBy" class="headerlink" title="window.scrollBy()"></a><code>window.scrollBy()</code></h3><p>è¯¥æ–¹æ³•ç”¨äºå°†ç½‘é¡µæ»šåŠ¨æŒ‡å®šè·ç¦»ã€‚ä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä¸ºå‘å³æ»šåŠ¨çš„è·ç¦»å’Œé¡¹ä¸‹æ»šåŠ¨çš„è·ç¦»ï¼Œå¦‚æœä¸ºè´Ÿå€¼ï¼Œåˆ™å‘ç›¸åçš„æ–¹å‘æ»šåŠ¨ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.scrollBy(<span class="number">0</span>, <span class="built_in">window</span>.innerHeight);</span><br></pre></td></tr></table></figure></p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> window </tag></tags></entry><entry><title>ES6ä¹‹Setå’ŒMap</title><link href="/ES6-Set-and-Map.html"/><url>/ES6-Set-and-Map.html</url><content type="html"><![CDATA[<p>Setå’ŒMapæ˜¯ES6æ–°å¢çš„æ•°æ®ç»“æ„, Setç±»ä¼¼äºæ•°ç»„ï¼ŒMapç±»ä¼¼äºå¯¹è±¡ã€‚</p><a id="more"></a><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p>Setçš„å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œä½†æ˜¯éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚<br>Setæœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”ŸæˆSetå®ä¾‹ã€‚<br>ç”ŸæˆSetå®ä¾‹ç”¨newæ“ä½œç¬¦ã€‚</p><h3 id="ç”ŸæˆSetå®ä¾‹"><a href="#ç”ŸæˆSetå®ä¾‹" class="headerlink" title="ç”ŸæˆSetå®ä¾‹"></a>ç”ŸæˆSetå®ä¾‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], &#123;<span class="attr">name</span>:<span class="string">'li'</span>,<span class="attr">age</span>:<span class="number">22</span>&#125;];</span><br><span class="line"><span class="keyword">let</span><span class="keyword">set</span> = new Set(arr)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span><span class="keyword">set</span> = new Set();</span><br><span class="line">[1,2,2,3,4,5,5].forEach(e =&gt; <span class="keyword">set</span>.add(e));</span><br><span class="line">console.log(<span class="keyword">set</span>); //Set &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">set</span>.size); // 5</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span><span class="keyword">set</span> = new Set(obj); //Set &#123;&#123;&#125;&#125;</span><br><span class="line"><span class="keyword">set</span>.add(obj); // Set &#123;&#123;&#125;&#125;</span><br><span class="line"><span class="keyword">set</span>.add(obj); // Set &#123;&#123;&#125;&#125;</span><br><span class="line"><span class="keyword">set</span>.add(&#123;&#125;); <span class="comment">// Set &#123;&#123;&#125;, &#123;&#125;&#125;</span></span><br><span class="line"><span class="keyword">set</span>.add(&#123;&#125;); <span class="comment">// Set &#123;&#123;&#125;, &#123;&#125;&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Setçš„å±æ€§å’Œæ–¹æ³•"><a href="#Setçš„å±æ€§å’Œæ–¹æ³•" class="headerlink" title="Setçš„å±æ€§å’Œæ–¹æ³•"></a>Setçš„å±æ€§å’Œæ–¹æ³•</h3><h4 id="sizeå±æ€§"><a href="#sizeå±æ€§" class="headerlink" title="sizeå±æ€§"></a>sizeå±æ€§</h4><p>è¿”å›Setå®ä¾‹çš„å…ƒç´ æ•°é‡<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">'s'</span>,<span class="string">'s'</span>, <span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span><span class="keyword">set</span> = new Set(arr); // Set &#123;<span class="string">'s'</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">set</span>.size; // 3</span><br></pre></td></tr></table></figure></p><p>#### add(value)</p><p>add() æ–¹æ³•ç”¨äºå‘Setçš„æœ«å°¾æ·»åŠ å…ƒç´ ï¼Œå¯ä»¥æ·»åŠ ä»»ä½•ç±»å‹çš„æ•°æ®(åŒ…æ‹¬Setç±»å‹)ã€‚å¦‚æœsetä¸­æœ‰è¯¥å…ƒç´ ï¼Œåˆ™ä¸æ·»åŠ ï¼›<br>æ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› Set ç»“æ„æœ¬èº«ã€‚<br>ä¾‹å­è§ä¸Šé¢ã€‚<br>é“¾å¼å†™æ³•:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span><span class="built_in">Set</span>()</span><br><span class="line">  .add(<span class="number">3</span>)</span><br><span class="line">  .add(<span class="number">2</span>)</span><br><span class="line">  .add(<span class="number">1</span>);</span><br></pre></td></tr></table></figure></p><h4 id="delete-value"><a href="#delete-value" class="headerlink" title="delete(value)"></a>delete(value)</h4><p>deleteæ–¹æ³•ç”¨äºåˆ é™¤Setå®ä¾‹ä¸­çš„å…ƒç´ ï¼Œåˆ é™¤çš„å…ƒç´ ä¸ºä¼ å…¥çš„å‚æ•°ã€‚<br>è¿”å›å€¼ä¸ºå¸ƒå°”å€¼ï¼Œ å¦‚æœå®ä¾‹ä¸­æœ‰è¯¥å‚æ•°å€¼ï¼Œåˆ é™¤å¹¶è¿”å›trueï¼Œå¦åˆ™è¿”å›false.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">'s'</span>,<span class="string">'s'</span>, <span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span><span class="keyword">set</span> = new Set(arr); // Set &#123;<span class="string">'s'</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">set</span>.delete('s'); // true</span><br><span class="line"><span class="keyword">set</span>.delete('s'); // false</span><br></pre></td></tr></table></figure></p><h4 id="has-value"><a href="#has-value" class="headerlink" title="has(value)"></a>has(value)</h4><p>hasæ–¹æ³•ç”¨æ¥æ£€æŸ¥setå®ä¾‹ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå€¼ï¼Œ å¦‚æœæœ‰åˆ™è¿”å›true, å¦åˆ™è¿”å›falseã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">'s'</span>,<span class="string">'s'</span>, <span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span><span class="keyword">set</span> = new Set(arr); // Set &#123;<span class="string">'s'</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">set</span>.has('s'); //true</span><br><span class="line"><span class="keyword">set</span>.delete('s'); // true</span><br><span class="line"><span class="keyword">set</span>.has('s'); //false</span><br></pre></td></tr></table></figure></p><h4 id="clear"><a href="#clear" class="headerlink" title="clear()"></a>clear()</h4><p>clearæ–¹æ³•ç”¨äºæ¸…ç©ºSetã€‚æ²¡æœ‰è¿”å›å€¼ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span><span class="keyword">set</span> = new Set([1,2,3,4,5]);</span><br><span class="line"><span class="keyword">set</span>.clear();</span><br><span class="line">console.log(<span class="keyword">set</span>); // Set &#123;&#125;</span><br></pre></td></tr></table></figure></p><h3 id="Set-çš„éå†æ–¹æ³•"><a href="#Set-çš„éå†æ–¹æ³•" class="headerlink" title="Set çš„éå†æ–¹æ³•"></a>Set çš„éå†æ–¹æ³•</h3><p>Setæœ‰å››ä¸ªéå†æ–¹æ³•ã€‚</p><h4 id="keys-ã€values-å’Œ-enttries"><a href="#keys-ã€values-å’Œ-enttries" class="headerlink" title="keys()ã€values()å’Œ enttries()"></a>keys()ã€values()å’Œ enttries()</h4><p>keysæ–¹æ³•ã€valuesæ–¹æ³•ã€entriesæ–¹æ³•è¿”å›çš„éƒ½æ˜¯éå†å™¨å¯¹è±¡ã€‚ç”±äº Set ç»“æ„æ²¡æœ‰é”®åï¼Œåªæœ‰é”®å€¼ï¼ˆæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œæ‰€ä»¥keysæ–¹æ³•å’Œvaluesæ–¹æ³•çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span><span class="keyword">set</span> = new Set(['red', 'green', 'blue']);</span><br><span class="line"></span><br><span class="line">for (let item of <span class="keyword">set</span>.keys()) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// red</span></span><br><span class="line"><span class="comment">// green</span></span><br><span class="line"><span class="comment">// blue</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span><span class="keyword">set</span>.values()) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// red</span></span><br><span class="line"><span class="comment">// green</span></span><br><span class="line"><span class="comment">// blue</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span><span class="keyword">set</span>.entries()) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ["red", "red"]</span></span><br><span class="line"><span class="comment">// ["green", "green"]</span></span><br><span class="line"><span class="comment">// ["blue", "blue"]</span></span><br></pre></td></tr></table></figure></p><p>Set ç»“æ„çš„å®ä¾‹é»˜è®¤å¯éå†ï¼Œå®ƒçš„é»˜è®¤éå†å™¨ç”Ÿæˆå‡½æ•°å°±æ˜¯å®ƒçš„valuesæ–¹æ³•ã€‚<br>è¿™æ„å‘³ç€ï¼Œå¯ä»¥çœç•¥valuesæ–¹æ³•ï¼Œç›´æ¥ç”¨forâ€¦ofå¾ªç¯éå† Setã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set</span>.prototype[<span class="built_in">Symbol</span>.iterator] === <span class="built_in">Set</span>.prototype.values</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span><span class="keyword">set</span> = new Set(['red', 'green', 'blue']);</span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">for (let x of <span class="keyword">set</span>) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// red</span></span><br><span class="line"><span class="comment">// green</span></span><br><span class="line"><span class="comment">// blue</span></span><br></pre></td></tr></table></figure></p><h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a>forEach()</h4><p>Set ç»“æ„çš„å®ä¾‹ä¸æ•°ç»„ä¸€æ ·ï¼Œä¹Ÿæ‹¥æœ‰forEachæ–¹æ³•ï¼Œç”¨äºå¯¹æ¯ä¸ªæˆå‘˜æ‰§è¡ŒæŸç§æ“ä½œï¼Œ<strong>æ²¡æœ‰è¿”å›å€¼</strong>ã€‚<br>forEachæ–¹æ³•çš„å‚æ•°å°±æ˜¯ä¸€ä¸ªå¤„ç†å‡½æ•°ã€‚è¯¥å‡½æ•°çš„å‚æ•°ä¸æ•°ç»„çš„forEachä¸€è‡´ï¼Œä¾æ¬¡ä¸ºé”®å€¼ã€é”®åã€é›†åˆæœ¬èº«ï¼ˆä¸Šä¾‹çœç•¥äº†è¯¥å‚æ•°ï¼‰ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼ŒSet ç»“æ„çš„é”®åå°±æ˜¯é”®å€¼ï¼ˆä¸¤è€…æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªå‚æ•°ä¸ç¬¬äºŒä¸ªå‚æ•°çš„å€¼æ°¸è¿œéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p>å¦å¤–ï¼ŒforEachæ–¹æ³•è¿˜å¯ä»¥æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºç»‘å®šå¤„ç†å‡½æ•°å†…éƒ¨çš„thiså¯¹è±¡ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span><span class="keyword">set</span> = new Set([1,2,3,4,5,5,6,6]);</span><br><span class="line"><span class="keyword">set</span>.forEach(item =&gt; console.log(item) )</span><br><span class="line">console.log(<span class="keyword">set</span>)</span><br></pre></td></tr></table></figure></p><h3 id="éå†å™¨çš„åº”ç”¨"><a href="#éå†å™¨çš„åº”ç”¨" class="headerlink" title="éå†å™¨çš„åº”ç”¨"></a>éå†å™¨çš„åº”ç”¨</h3><h4 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h4><p>æ•°ç»„å»é‡çš„æ–¹æ³•ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="string">'2'</span>,<span class="string">'s'</span>,<span class="string">'s'</span>];</span><br><span class="line"><span class="built_in">console</span>.log([...new <span class="built_in">Set</span>(arr)]);</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span><span class="built_in">Set</span>(arr));</span><br></pre></td></tr></table></figure></p><h4 id="æ•°ç»„çš„mapå’Œfilteræ–¹æ³•ä¹Ÿå¯ä»¥é—´æ¥ç”¨äº-Set"><a href="#æ•°ç»„çš„mapå’Œfilteræ–¹æ³•ä¹Ÿå¯ä»¥é—´æ¥ç”¨äº-Set" class="headerlink" title="æ•°ç»„çš„mapå’Œfilteræ–¹æ³•ä¹Ÿå¯ä»¥é—´æ¥ç”¨äº Set"></a>æ•°ç»„çš„mapå’Œfilteræ–¹æ³•ä¹Ÿå¯ä»¥é—´æ¥ç”¨äº Set</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ•°ç»„çš„map()</span></span><br><span class="line"><span class="keyword">let</span><span class="keyword">set</span> = new Set([1,2,3,4,5,5,6,6,7]);</span><br><span class="line"><span class="keyword">set</span> = new Set([...<span class="keyword">set</span>].map(item =&gt; `$&#123;item&#125;&lt;----&gt;$&#123;item * <span class="number">2</span>&#125;<span class="string">`))</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//æ•°ç»„çš„filter</span></span><br><span class="line"><span class="string">let set = new Set([1, 2, &#123;name: 'li', age: 22&#125;, &#123;name: 'wang', age: 22&#125;, &#123;name: 'li', age: 24&#125;]);</span></span><br><span class="line"><span class="string">let s = new Set([...set].filter(item =&gt;  item instanceof Object &amp;&amp; item.age == 22 ))</span></span><br></pre></td></tr></table></figure><h4 id="å®ç°å¹¶é›†ï¼ˆUnionï¼‰ã€äº¤é›†ï¼ˆIntersectï¼‰å’Œå·®é›†ï¼ˆDifference"><a href="#å®ç°å¹¶é›†ï¼ˆUnionï¼‰ã€äº¤é›†ï¼ˆIntersectï¼‰å’Œå·®é›†ï¼ˆDifference" class="headerlink" title="å®ç°å¹¶é›†ï¼ˆUnionï¼‰ã€äº¤é›†ï¼ˆIntersectï¼‰å’Œå·®é›†ï¼ˆDifference)"></a>å®ç°å¹¶é›†ï¼ˆUnionï¼‰ã€äº¤é›†ï¼ˆIntersectï¼‰å’Œå·®é›†ï¼ˆDifference)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span><span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]);</span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span><span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¹¶é›† union</span></span><br><span class="line"><span class="keyword">let</span> nuion = <span class="keyword">new</span><span class="built_in">Set</span>([...a, ...b]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// äº¤é›†</span></span><br><span class="line"><span class="keyword">let</span> intersect = <span class="keyword">new</span><span class="built_in">Set</span>([...a].filter(<span class="function"><span class="params">item</span> =&gt;</span> b.has(item)));</span><br><span class="line"></span><br><span class="line"><span class="comment">// å·®é›†</span></span><br><span class="line"><span class="keyword">let</span> difference = <span class="keyword">new</span><span class="built_in">Set</span>([...a].filter(<span class="function"><span class="params">item</span> =&gt;</span> !b.has(item)));</span><br></pre></td></tr></table></figure><h4 id="ç›´æ¥åœ¨éå†æ“ä½œä¸­æ”¹å˜åŸæ¥çš„-Set-ç»“æ„"><a href="#ç›´æ¥åœ¨éå†æ“ä½œä¸­æ”¹å˜åŸæ¥çš„-Set-ç»“æ„" class="headerlink" title="ç›´æ¥åœ¨éå†æ“ä½œä¸­æ”¹å˜åŸæ¥çš„ Set ç»“æ„"></a>ç›´æ¥åœ¨éå†æ“ä½œä¸­æ”¹å˜åŸæ¥çš„ Set ç»“æ„</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="keyword">let</span><span class="keyword">set</span> = new Set([1, 2, 3]);</span><br><span class="line"><span class="keyword">set</span> = new Set([...<span class="keyword">set</span>].map(val =&gt; val * 2));</span><br><span class="line">// <span class="keyword">set</span>çš„å€¼æ˜¯2, 4, 6</span><br><span class="line"></span><br><span class="line">// æ–¹æ³•äºŒ</span><br><span class="line">let <span class="keyword">set</span> = new Set([1, 2, 3]);</span><br><span class="line"><span class="keyword">set</span> = new Set(Array.from(<span class="keyword">set</span>, val =&gt; val * 2));</span><br><span class="line">// <span class="keyword">set</span>çš„å€¼æ˜¯2, 4, 6</span><br></pre></td></tr></table></figure><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>Mapå’Œå¯¹è±¡ç±»ä¼¼ï¼Œéƒ½æ˜¯å­˜å‚¨çš„é”®å€¼å¯¹ï¼Œä¸åŒä¹‹å¤„åœ¨äºå¯¹è±¡çš„é”®åªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè€ŒMapçš„é”®å¯ä»¥ä¸ºä»»æ„ç±»å‹çš„æ•°æ®ã€‚</p><h3 id="ç”ŸæˆMapå®ä¾‹"><a href="#ç”ŸæˆMapå®ä¾‹" class="headerlink" title="ç”ŸæˆMapå®ä¾‹"></a>ç”ŸæˆMapå®ä¾‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span><span class="built_in">Map</span>([</span><br><span class="line">    [<span class="string">'name'</span>, <span class="string">'lili'</span>],</span><br><span class="line">    [<span class="string">'age'</span>, <span class="number">22</span>],</span><br><span class="line">    [<span class="string">'sex'</span>, <span class="string">'male'</span>]</span><br><span class="line">]);</span><br></pre></td></tr></table></figure><h3 id="Mapçš„å±æ€§å’Œæ“ä½œæ–¹æ³•"><a href="#Mapçš„å±æ€§å’Œæ“ä½œæ–¹æ³•" class="headerlink" title="Mapçš„å±æ€§å’Œæ“ä½œæ–¹æ³•"></a>Mapçš„å±æ€§å’Œæ“ä½œæ–¹æ³•</h3><h4 id="Mapçš„å±æ€§size"><a href="#Mapçš„å±æ€§size" class="headerlink" title="Mapçš„å±æ€§size"></a>Mapçš„å±æ€§size</h4><p>Mapçš„sizeå±æ€§å’ŒSetçš„sizeå±æ€§ç±»ä¼¼ï¼Œè¿”å›Mapç»“æ„çš„æˆå‘˜æ€»æ•°ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m.size; <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p><h4 id="set-key-value"><a href="#set-key-value" class="headerlink" title="set(key, value)"></a>set(key, value)</h4><p>Mapçš„set()æ–¹æ³•ç”¨äºå‘Mapå®ä¾‹ä¸­æ·»åŠ æ–°æˆå‘˜ï¼Œè¯¥æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºMapå®ä¾‹çš„é”®å’Œå€¼ã€‚å¦‚æœé”®keyå·²å­˜åœ¨ï¼Œåˆ™æ›´æ–°å€¼valueã€‚è¿”å›Mapç»“æ„ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span><span class="built_in">Map</span>();</span><br><span class="line">m.set(<span class="string">'name'</span>, <span class="string">'liu'</span>); <span class="comment">// Map &#123;'name', 'liu'&#125;</span></span><br></pre></td></tr></table></figure></p><p>å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span><span class="built_in">Map</span>()</span><br><span class="line">  .set(<span class="number">1</span>, <span class="string">'a'</span>)</span><br><span class="line">  .set(<span class="number">2</span>, <span class="string">'b'</span>)</span><br><span class="line">  .set(<span class="number">3</span>, <span class="string">'c'</span>);</span><br></pre></td></tr></table></figure></p><h4 id="get-key"><a href="#get-key" class="headerlink" title="get(key)"></a>get(key)</h4><p>Mapçš„get()æ–¹æ³•ç”¨äºæŸ¥è¯¢Mapå®ä¾‹çš„æˆå‘˜ï¼Œ å‚æ•°ä¸ºé”®, è¿”å›è¯¥é”®keyæ‰€å¯¹åº”çš„å€¼valueã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span><span class="built_in">Map</span>([<span class="string">'name'</span>, <span class="string">'lili'</span>]);</span><br><span class="line">m.get(<span class="string">'name'</span>); <span class="comment">// 'lili'</span></span><br><span class="line">m.get(<span class="string">'age'</span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></p><h4 id="has-key"><a href="#has-key" class="headerlink" title="has(key)"></a>has(key)</h4><p>Mapç»“æ„çš„has()æ–¹æ³•ç”¨æ¥åˆ¤æ–­æŸä¸ªé”®æ˜¯å¦åœ¨è¯¥Mapç»“æ„ä¸­ï¼Œ è¿”å›å¸ƒå°”å€¼ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span><span class="built_in">Map</span>(<span class="string">'name'</span>, <span class="string">'wang'</span>);</span><br><span class="line">m.has(<span class="string">'name'</span>); <span class="comment">// ture</span></span><br><span class="line">m.has(<span class="string">'sex'</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></p><h4 id="clear-1"><a href="#clear-1" class="headerlink" title="clear()"></a>clear()</h4><p>åŒSetçš„clear()æ–¹æ³•ï¼Œ ç”¨äºæ¸…ç©ºæ‰€æœ‰æˆå‘˜ï¼Œ æ²¡æœ‰è¿”å›å€¼ã€‚</p><h4 id="delete-key"><a href="#delete-key" class="headerlink" title="delete(key)"></a>delete(key)</h4><p>åˆ é™¤æŸä¸ªé”®ï¼Œ åˆ é™¤æˆåŠŸè¿”å›true, å¦åˆ™è¿”å›falseã€‚</p><h3 id="Mapçš„éå†æ–¹æ³•"><a href="#Mapçš„éå†æ–¹æ³•" class="headerlink" title="Mapçš„éå†æ–¹æ³•"></a>Mapçš„éå†æ–¹æ³•</h3><p>Mapçš„éå†æ–¹æ³•æœ‰keys(), values(), entries(), forEach().<br>Map çš„éå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåºã€‚<br>ä¸forâ€¦ofå¾ªç¯ç»„åˆä½¿ç”¨å¾ˆå¥½ç”¨ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span><span class="built_in">Map</span>([</span><br><span class="line">    [<span class="string">'name'</span>, <span class="string">'lili'</span>],</span><br><span class="line">    [<span class="string">'age'</span>, <span class="number">22</span>],</span><br><span class="line">    [<span class="string">'sex'</span>, <span class="string">'male'</span>]</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">of</span> m.keys()) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(key)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [key, value] <span class="keyword">of</span> m.entries()) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(key, value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäºä½¿ç”¨m.entries()</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> m) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(key, value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ç»“åˆæ•°ç»„çš„mapæ–¹æ³•ã€filteræ–¹æ³•ï¼Œå¯ä»¥å®ç° Map çš„éå†å’Œè¿‡æ»¤ï¼ˆMap æœ¬èº«æ²¡æœ‰mapå’Œfilteræ–¹æ³•ï¼‰ã€‚</p><h3 id="Map-è½¬æ¢ä¸ºå…¶ä»–æ•°æ®ç»“æ„"><a href="#Map-è½¬æ¢ä¸ºå…¶ä»–æ•°æ®ç»“æ„" class="headerlink" title="Map è½¬æ¢ä¸ºå…¶ä»–æ•°æ®ç»“æ„"></a>Map è½¬æ¢ä¸ºå…¶ä»–æ•°æ®ç»“æ„</h3><h4 id="Map-lt-gt-æ•°ç»„"><a href="#Map-lt-gt-æ•°ç»„" class="headerlink" title="Map&lt;==&gt;æ•°ç»„"></a>Map&lt;==&gt;æ•°ç»„</h4><p>è½¬ä¸ºæ•°ç»„ç»“æ„ï¼Œå¯ä»¥ç”¨å±•å¼€ç¬¦ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„è½¬ä¸ºMap</span></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span><span class="built_in">Map</span>([</span><br><span class="line">  [<span class="number">1</span>, <span class="string">'one'</span>],</span><br><span class="line">  [<span class="number">2</span>, <span class="string">'two'</span>],</span><br><span class="line">  [<span class="number">3</span>, <span class="string">'three'</span>],</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Mapè½¬ä¸ºæ•°ç»„</span></span><br><span class="line">[...map.keys()]</span><br><span class="line"><span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line">[...map.values()]</span><br><span class="line"><span class="comment">// ['one', 'two', 'three']</span></span><br><span class="line"></span><br><span class="line">[...map.entries()]</span><br><span class="line"><span class="comment">// [[1,'one'], [2, 'two'], [3, 'three']]</span></span><br><span class="line"></span><br><span class="line">[...map]</span><br></pre></td></tr></table></figure></p><h3 id="Map-lt-gt-Object"><a href="#Map-lt-gt-Object" class="headerlink" title="Map&lt;==&gt;Object"></a>Map&lt;==&gt;Object</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">strMapToObj</span>(<span class="params">map</span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line"><span class="comment">// è¯¥æ–¹æ³•åˆ›å»ºçš„å¯¹è±¡æ²¡æœ‰åŸå‹ï¼Œ å‚æ•°ä¸ºnull</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [k,v] <span class="keyword">of</span> map.entries()) &#123;</span><br><span class="line">        obj[k] = v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœMapçš„é”®ä¸ºå­—ç¬¦ä¸²å¯ä»¥æ— æŸè½¬ä¸ºå¯¹è±¡ï¼Œå¦‚æœä¸æ˜¯å­—ç¬¦ä¸²åˆ™è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åè½¬ä¸ºå¯¹è±¡ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">strObjToMap</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span><span class="built_in">Map</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span><span class="built_in">Object</span>.keys(obj)) &#123;</span><br><span class="line">        strMap.set(k, obj[k]);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="Map-lt-gt-JSON"><a href="#Map-lt-gt-JSON" class="headerlink" title="Map &lt;==&gt; JSON"></a>Map &lt;==&gt; JSON</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JSON -&gt; Map</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">JSONToMap</span>(<span class="params">str</span>)) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> strObjToMap(<span class="built_in">JSON</span>.parse(str))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Map -&gt; JSON</span></span><br><span class="line"><span class="comment">//é”®åä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">strMapToJSON</span>(<span class="params">strMap</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span><span class="built_in">JSON</span>.stringify(strMapToObj(strMap))</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é”®åä¸ºéå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">mapToArrayJson</span>(<span class="params">map</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span><span class="built_in">JSON</span>.stringify([...map]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag></tags></entry><entry><title>MySQLå­¦ä¹ ç¬”è®°</title><link href="/MySQL-notes.html"/><url>/MySQL-notes.html</url><content type="html"><![CDATA[<p>MySQLæ•°æ®åº“å­¦ä¹ ç¬”è®°ã€‚<br>MySQLç¯å¢ƒæ­å»ºå¯æŸ¥é˜…èµ„æ–™ï¼Œæ­¤å¤„ä¸ç»†è¯´ã€‚é»˜è®¤å·²æ­å»ºå¥½MySQLç¯å¢ƒã€‚</p><a id="more"></a><h2 id="1-æˆæƒã€ç™»å½•ç›¸å…³"><a href="#1-æˆæƒã€ç™»å½•ç›¸å…³" class="headerlink" title="1.æˆæƒã€ç™»å½•ç›¸å…³"></a>1.æˆæƒã€ç™»å½•ç›¸å…³</h2><h3 id="å¯åŠ¨MySQLæœåŠ¡å¸¸ç”¨å‘½ä»¤"><a href="#å¯åŠ¨MySQLæœåŠ¡å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¯åŠ¨MySQLæœåŠ¡å¸¸ç”¨å‘½ä»¤:"></a>å¯åŠ¨MySQLæœåŠ¡å¸¸ç”¨å‘½ä»¤:</h3><ul><li>å¯åŠ¨mysqlæœåŠ¡ï¼šsudo start mysql æˆ–è€… sudo service mysql start</li><li>åœæ­¢mysqlæœåŠ¡ï¼šsudo stop mysql æˆ–è€… sudo service mysql stop</li><li>é‡å¯mysqlæœåŠ¡ï¼š sudo restart mysql æˆ–è€… sudo service mysql restart</li><li>æŸ¥çœ‹mysqlæ•°æ®åº“çš„ç‰ˆæœ¬å·ï¼šmysql -V</li><li>å¯åŠ¨mysqldæœåŠ¡: sudo /etc/init.d/mysql start</li><li>åœæ­¢mysqldæœåŠ¡: sudo /etc/init.d/mysql stop</li><li>å¯åŠ¨mysqldæœåŠ¡: sudo /etc/init.d/mysql restart</li></ul><h3 id="ä»¥rootç”¨æˆ·ç™»å½•MySQL"><a href="#ä»¥rootç”¨æˆ·ç™»å½•MySQL" class="headerlink" title="ä»¥rootç”¨æˆ·ç™»å½•MySQL"></a>ä»¥rootç”¨æˆ·ç™»å½•MySQL</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><p>ç„¶åè¾“å…¥å¯†ç ï¼Œç™»å½•æˆåŠŸåè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºä¸ªäººç”¨æˆ·ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create user mhy inentified by <span class="string">'123'</span>;</span><br></pre></td></tr></table></figure></p><p>ç”¨æˆ·åä¸º: <code>mhy</code>, å¯†ç ä¸º: <code>123</code>ã€‚</p><h3 id="æˆæƒ"><a href="#æˆæƒ" class="headerlink" title="æˆæƒ"></a>æˆæƒ</h3><p>åˆ›å»ºç”¨æˆ·åéœ€è¦è¿›è¡Œæˆæƒï¼Œ æˆæƒå‘½ä»¤æ ¼å¼:</p><p><code>grant [privilegesCode] on [dbName.tableName] to [username@host] identified by [&quot;password&quot;];</code></p><p><code>[]</code>å†…çš„é¡¹éœ€è¦æ ¹æ®è‡ªå·±çš„æƒ…å†µé€‰æ‹©ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grant all privileges on <span class="built_in">test</span>.* to mhy@localhost identified by <span class="string">'123'</span>;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><p><strong>privilegesCode</strong>ä»£è¡¨æˆäºˆçš„æƒé™ï¼Œå¸¸ç”¨çš„æƒé™ç±»å‹æœ‰ï¼š</p><ul><li><code>all privileges</code> æ‰€æœ‰æƒé™</li><li><code>select</code> è¯»å–æƒé™</li><li><code>delete</code> åˆ é™¤æƒé™</li><li><code>update</code> æ›´æ–°æƒé™</li><li><code>create</code> åˆ›å»ºæƒé™</li><li><code>drop</code> åˆ é™¤æ•°æ®åº“ã€æ•°æ®è¡¨æƒé™</li></ul><p><strong>dbName.tableName</strong>è¡¨ç¤ºæˆäºˆæƒé™çš„æ•°æ®åº“å’Œæ•°æ®è¡¨ï¼Œå¸¸ç”¨çš„ç±»å‹æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š</p><ul><li><code>.</code> æˆäºˆè¯¥æ•°æ®åº“æœåŠ¡å™¨ä¸Šæ‰€æœ‰çš„æ•°æ®åº“çš„æƒé™</li><li><code>dbName.*</code> æˆäºˆdbNameæ•°æ®åº“ä¸Šæ‰€æœ‰æ•°æ®è¡¨çš„æƒé™</li><li><code>dbName.dbTable</code> æˆäºˆdbNameæ•°æ®åº“çš„dbTableæ•°æ®è¡¨çš„æƒé™</li></ul><p><strong>username@host</strong>è¡¨ç¤ºæˆäºˆæƒé™çš„ç”¨æˆ·åŠå…è®¸è¯¥ç”¨æˆ·ç™»å½•çš„IPåœ°å€ã€‚å…¶ä¸­Hostæœ‰ä»¥ä¸‹å‡ ç§é€‰æ‹©ï¼š</p><ul><li><code>localhost</code> åªå…è®¸æœ¬åœ°ç™»å½•ï¼Œä¸å…è®¸è¿œç¨‹ç™»å½•ã€‚</li><li><code>%</code> å…è®¸åœ¨é™¤æœ¬æœºä¹‹å¤–çš„ä»»ä½•ä¸€å°æœºå™¨è¿œç¨‹ç™»å½•ã€‚</li><li><code>192.168.33.21</code> å…·ä½“çš„IPåœ°å€ï¼Œè¡¨ç¤ºå…è®¸è¯¥ç”¨æˆ·ä»ç‰¹å®šçš„IPç™»å½•ã€‚</li></ul><p><strong>password</strong><br> æŒ‡å®šè¯¥ç”¨æˆ·ç™»å½•æ—¶çš„å¯†ç ã€‚</p><p><strong>flush privileges</strong><br> è¡¨ç¤ºåˆ·æ–°æƒé™å˜æ›´ã€‚</p><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯ä»¥åˆ é™¤ç”¨æˆ·ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop user zhangsan@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure></p><p>æŸ¥çœ‹ç”¨æˆ·<code>mhy</code>çš„æƒé™ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show grants <span class="keyword">for</span><span class="string">'mhy'</span>;</span><br></pre></td></tr></table></figure></p><h2 id="2-åˆ›å»ºã€ä¿®æ”¹å’Œåˆ é™¤æ•°æ®åº“-database"><a href="#2-åˆ›å»ºã€ä¿®æ”¹å’Œåˆ é™¤æ•°æ®åº“-database" class="headerlink" title="2.åˆ›å»ºã€ä¿®æ”¹å’Œåˆ é™¤æ•°æ®åº“ database"></a>2.åˆ›å»ºã€ä¿®æ”¹å’Œåˆ é™¤æ•°æ®åº“ database</h2><h3 id="åˆ›å»ºæ•°æ®è¡¨"><a href="#åˆ›å»ºæ•°æ®è¡¨" class="headerlink" title="åˆ›å»ºæ•°æ®è¡¨"></a>åˆ›å»ºæ•°æ®è¡¨</h3><p>åˆ›å»ºæ•°æ®åº“å‘½ä»¤, dbNameä¸ºæ•°æ®åº“åå­—ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database dbName;</span><br></pre></td></tr></table></figure></p><h3 id="åˆ é™¤æ•°æ®åº“ï¼š"><a href="#åˆ é™¤æ•°æ®åº“ï¼š" class="headerlink" title="åˆ é™¤æ•°æ®åº“ï¼š"></a>åˆ é™¤æ•°æ®åº“ï¼š</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop database dbName;</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ï¼š"><a href="#æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ï¼š" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ï¼š"></a>æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ï¼š</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show databases;</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹æ•°æ®è¡¨"><a href="#ä¿®æ”¹æ•°æ®è¡¨" class="headerlink" title="ä¿®æ”¹æ•°æ®è¡¨"></a>ä¿®æ”¹æ•°æ®è¡¨</h3><p>ä¿®æ”¹æ•°æ®è¡¨æ›´å¤šçš„æ˜¯ä¿®æ”¹æ•°æ®è¡¨çš„ç»“æ„ã€‚ä½¿ç”¨<code>alter table</code>è¯­å¥ã€‚</p><ul><li><p>åˆ é™¤å­—æ®µç”¨ <code>drop</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table tableName drop å­—æ®µå;</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ å­—æ®µç”¨ <code>add</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table tableName add å­—æ®µå æ•°æ®ç±»å‹ [å¯é€‰é¡¹];</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹å­—æ®µåç§°å’Œç±»å‹<br>æœ‰ä¸¤ç§æ–¹å¼ï¼š<code>modify</code>å’Œ<code>change</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table tableName modify å­—æ®µå [char(20)]</span><br></pre></td></tr></table></figure></li></ul><p>å¯é€‰é¡¹ä¸­å¯ä»¥æ˜¯æ•°æ®ç±»å‹ã€‚</p><p><code>change</code>è¯­å¥é™¤äº†é‡æ–°å®šä¹‰å­—æ®µï¼Œè¿˜å¯ä»¥é‡å‘½åå­—æ®µï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table tableName change åŸå­—æ®µå æ–°å­—æ®µå char(10);</span><br></pre></td></tr></table></figure></p><ul><li>ä¿®æ”¹æ•°æ®è¡¨å<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table tableName rename to newTableName;</span><br></pre></td></tr></table></figure></li></ul><p>è¿˜å¯ä»¥ä¿®æ”¹å­—æ®µçš„é»˜è®¤å€¼ã€‚</p><p>å¦‚æœå¼•æ“æ˜¯innodbçš„è¯ï¼Œæ•°æ®åº“åç§°ä¸èƒ½ä¿®æ”¹ï¼Œå…¶ä»–å¼•æ“çš„æ•°æ®åº“é‡å‘½åæœ‰æ•°æ®ä¸¢å¤±çš„é£é™©ï¼Œæ‰€ä»¥åœ¨åˆ›å»ºæ•°æ®åº“çš„æ—¶å€™å‘½ååˆ‡å‹¿è‰ç‡ã€‚</p><h2 id="3-åˆ›å»ºå’Œä¿®æ”¹æ•°æ®è¡¨-table"><a href="#3-åˆ›å»ºå’Œä¿®æ”¹æ•°æ®è¡¨-table" class="headerlink" title="3.åˆ›å»ºå’Œä¿®æ”¹æ•°æ®è¡¨ table"></a>3.åˆ›å»ºå’Œä¿®æ”¹æ•°æ®è¡¨ table</h2><p>åˆ›å»ºæ•°æ®è¡¨ä¹‹å‰éœ€è¦é€‰æ‹©æ•°æ®åº“ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é€‰æ‹©æ•°æ®åº“ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use dbName;</span><br></pre></td></tr></table></figure></p><p>é€‰æ‹©æ•°æ®åº“ä¹‹åå°±å¯ä»¥åˆ›å»ºæ•°æ®è¡¨äº†ï¼Œåˆ›å»ºæ•°æ®è¡¨çš„æ—¶å€™éœ€è¦å¡«å†™çš„æœ‰è¡¨åã€è¡¨çš„å­—æ®µåç§°ã€æ¯ä¸ªå­—æ®µçš„æ•°æ®ç±»å‹ï¼Œè¿˜æœ‰å…¶ä»–å¯é€‰é¡¹ä¸»é”®ï¼ˆPRIMARY KEYï¼‰ã€å¤–é”®ï¼ˆï¼‰ã€è‡ªåŠ¨å¢é•¿ï¼ˆAUTO_INCREMENTï¼‰ã€é»˜è®¤å€¼ï¼ˆDEFAULTï¼‰ã€æ˜¯å¦å…è®¸ä¸ºç©ºï¼ˆNOT NULLï¼‰ç­‰ã€‚ENGINE=InnoDBè®¾ç½®å¼•æ“ï¼Œå¼•æ“ä¸€èˆ¬ä¼šåœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼Œå¦‚æœè¦å»ºçš„æ•°æ®è¡¨çš„å¼•æ“å’Œé…ç½®æ–‡ä»¶ä¸ä¸€æ ·éœ€è¦åœ¨æ­¤å¤„æŒ‡æ˜ã€‚<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table tableName (</span><br><span class="line">  å­—æ®µ1 æ•°æ®ç±»å‹ [å…¶ä»–å¯é€‰é¡¹]ï¼Œ</span><br><span class="line">  å­—æ®µ2 æ•°æ®ç±»å‹ [å…¶ä»–å¯é€‰é¡¹]ï¼Œ</span><br><span class="line">  ...</span><br><span class="line">) [ENGINE=InnoDB DEFAULT CHARSET=utf8];</span><br></pre></td></tr></table></figure></p><p><code>[]</code>å†…çš„é¡¹ä¸ºå¯é€‰é¡¹ï¼Œæœ€åé¢çš„<code>ENGING DEFAULT CHARSET</code>ä¹Ÿæ˜¯å¯é€‰é¡¹ï¼Œä¸€èˆ¬éƒ½ä¼šåœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼Œä¸éœ€è¦åœ¨åˆ›å»ºè¡¨æ—¶è¿›è¡Œè®¾ç½®ã€‚<br>åˆ›å»ºæ•°æ®è¡¨çš„å…·ä½“å®ä¾‹ç¨åè®²äº†mysqlçš„æ•°æ®ç±»å‹å’Œçº¦æŸååœ¨å°†ã€‚<br>æŸ¥çœ‹æ•°æ®è¡¨ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show tables [from dbName];</span><br></pre></td></tr></table></figure></p><p>æŸ¥çœ‹è¡¨ç»“æ„ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show columns from tableName;</span><br></pre></td></tr></table></figure></p><p>æ•°æ®è¡¨åˆ é™¤çš„ä¸‰ç§è¯­å¥dropã€deleteå’Œtruncateçš„å¼‚åŒï¼š</p><p><strong>ç›¸åŒç‚¹</strong>ï¼š</p><ol><li>truncateå’Œdeleteåªåˆ é™¤è¡¨æ•°æ®ä¿ç•™è¡¨ç»“æ„ï¼›</li><li>truncateå’Œä¸å¸¦whereå­å¥çš„deleteï¼Œä»¥åŠdropéƒ½èƒ½åˆ é™¤è¡¨å†…çš„æ•°æ®.</li></ol><p><strong>ä¸åŒç‚¹</strong>ï¼š</p><ol><li>dropæ•´ä¸ªåˆ é™¤æ•°æ®è¡¨ï¼Œé€Ÿåº¦æœ€å¿«ï¼›</li><li>deleteåˆ é™¤æ•°æ®è¡¨ä¸­çš„æ•°æ®ï¼Œå¯ä»¥åŠ å…¥æ¡ä»¶è¯­å¥whereï¼Œéœ€è¦å…ˆæŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„æ•°æ®ç„¶ååˆ é™¤ï¼Œå¦‚æœä¸åŠ æ¡ä»¶è¯­å¥ï¼Œåˆ™æ¸…ç©ºæ‰€æœ‰æ•°æ®;</li><li>truncateæ¸…ç©ºè¡¨å†…æ•°æ®ï¼Œä½†ä¸åˆ é™¤æ•°æ®è¡¨ç»“æ„ã€‚<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åˆ é™¤æ•°æ®è¡¨ï¼ˆç»“æ„ã€å±æ€§ã€ç´¢å¼•ï¼‰</span></span><br><span class="line">drop table tableName;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æŸä¸€è¡Œ</span></span><br><span class="line">delete from tableName  Where volumnName=values;</span><br><span class="line"><span class="comment"># åˆ é™¤æ‰€æœ‰æ•°æ®</span></span><br><span class="line">delete from tableNameï¼›</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">delete * from tableName</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¸…ç©ºæ•°æ®</span></span><br><span class="line">truncate table tableName;</span><br></pre></td></tr></table></figure></li></ol><p>å¯¹äºæœ‰ä¸»å¤–é”®å…³ç³»çš„è¡¨ï¼Œä¸èƒ½ä½¿ç”¨truncateè€Œåº”è¯¥ä½¿ç”¨ä¸å¸¦whereå­å¥çš„deleteè¯­å¥ï¼Œç”±äºtruncateä¸è®°å½•åœ¨æ—¥å¿—ä¸­ï¼Œä¸èƒ½å¤Ÿæ¿€æ´»è§¦å‘å™¨ã€‚</p><h2 id="4-SQLæ•°æ®ç±»å‹"><a href="#4-SQLæ•°æ®ç±»å‹" class="headerlink" title="4.SQLæ•°æ®ç±»å‹"></a>4.SQLæ•°æ®ç±»å‹</h2><p>SQLè¯­å¥å¸¸è§çš„æ•°æ®ç±»å‹æœ‰å­—ç¬¦ä¸²ã€æ•°å­—å’Œæ—¥æœŸä¸‰å¤§ç±»ã€‚</p><h3 id="å­—ç¬¦ä¸²ç±»å‹"><a href="#å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="å­—ç¬¦ä¸²ç±»å‹"></a>å­—ç¬¦ä¸²ç±»å‹</h3><p>CHARå’ŒVARCHARç±»å‹ç±»ä¼¼ï¼Œä½†å®ƒä»¬ä¿å­˜å’Œæ£€ç´¢çš„æ–¹å¼ä¸åŒã€‚å®ƒä»¬çš„æœ€å¤§é•¿åº¦å’Œæ˜¯å¦å°¾éƒ¨ç©ºæ ¼è¢«ä¿ç•™ç­‰æ–¹é¢ä¹Ÿä¸åŒã€‚åœ¨å­˜å‚¨æˆ–æ£€ç´¢è¿‡ç¨‹ä¸­ä¸è¿›è¡Œå¤§å°å†™è½¬æ¢ã€‚</p><p><img style="width: 70%" src="https://wicdn.xiaohongchun.com/xhc-plat/1520585223512_53Wbnarmmc.png"></p><h2 id="æ•°å€¼ç±»å‹"><a href="#æ•°å€¼ç±»å‹" class="headerlink" title="æ•°å€¼ç±»å‹"></a>æ•°å€¼ç±»å‹</h2><p><img style="width: 70%" src="https://wicdn.xiaohongchun.com/xhc-plat/1520585223512_yJtAzAQjAC.png"></p><h3 id="æ—¥æœŸæ—¶é—´ç±»å‹"><a href="#æ—¥æœŸæ—¶é—´ç±»å‹" class="headerlink" title="æ—¥æœŸæ—¶é—´ç±»å‹"></a>æ—¥æœŸæ—¶é—´ç±»å‹</h3><p><img style="width: 70%" src="https://wicdn.xiaohongchun.com/xhc-plat/1520585223509_bknXEkz6P5.png"></p><p>åˆç†é€‰ç”¨æ•°æ®ç±»å‹å¯¹äºæé«˜MySQLæ€§èƒ½å…·æœ‰éå¸¸é‡è¦çš„æ„ä¹‰ï¼Œè¿™ä¸€å—å¯ä»¥å‚è€ƒã€Šé«˜æ€§èƒ½MYSQLã€‹è¿›è¡Œå­¦ä¹ ã€‚</p><h2 id="5-çº¦æŸ"><a href="#5-çº¦æŸ" class="headerlink" title="5.çº¦æŸ"></a>5.çº¦æŸ</h2><p>çº¦æŸä¸»è¦å®Œæˆå¯¹æ•°æ®çš„æ£€éªŒå’Œé™åˆ¶ï¼Œä»è€Œä¿è¯æ•°æ®åº“çš„å®Œæ•´æ€§ã€‚å¸¸è§çš„çº¦æŸæœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li>å¤–é”®çº¦æŸ(foreign key)</li><li>ä¸»é”®çº¦æŸ(primary key)</li><li>å”¯ä¸€å€¼çº¦æŸ(unique)</li><li>è‡ªå¢é•¿çº¦æŸ(auto_increment)</li><li>é»˜è®¤å€¼çº¦æŸ(default)</li><li>éç©ºçº¦æŸ(not null)</li></ul><h3 id="ä¸»é”®çº¦æŸï¼ˆprimary-key"><a href="#ä¸»é”®çº¦æŸï¼ˆprimary-key" class="headerlink" title="ä¸»é”®çº¦æŸï¼ˆprimary key)"></a>ä¸»é”®çº¦æŸï¼ˆprimary key)</h3><p>ä¸»é”®çº¦æŸåˆ—ä¸èƒ½é‡å¤ï¼Œä»»æ„ä¸¤è¡Œçš„ä¸»é”®å€¼éƒ½ä¸èƒ½ç›¸åŒï¼Œä¹Ÿä¸èƒ½ä¸ºç©ºå€¼ã€‚<br>ä¸€èˆ¬æ¯ä¸€å¼ æ•°æ®è¡¨éƒ½æœ‰ä¸€ä¸ªçº¦æŸï¼Œé€šå¸¸ä¸ºidï¼Œæœ€å¥½ä¸è¦æŠŠä¸šåŠ¡å­—æ®µè®¾ä¸ºä¸»é”®ï¼Œå› ä¸ºå¯èƒ½ä¼šæœ‰é‡å¤çš„æ•°æ®ã€‚<br>åˆ›å»ºæ•°æ®è¡¨çš„æ—¶å€™åœ¨éœ€è¦åˆ›å»ºä¸»é”®çº¦æŸçš„å­—æ®µåé¢çš„å¯é€‰é¡¹ä½ç½®åŠ å…¥ <code>primary key</code> å³å¯ã€‚<br>æ‹¥æœ‰ä¸»é”®çº¦æŸçš„è¡¨æ’å…¥æ•°æ®æ—¶ï¼Œæ‹¥æœ‰ä¸»é”®çº¦æŸçš„å­—æ®µçš„æ•°æ®é‡å¤æˆ–ä¸ºç©ºæ—¶ä¼šæŠ¥é”™ã€‚<br>å¸¸è§çš„æ“ä½œï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®è¡¨æ—¶åŠ å…¥ä¸»é”®çš„ä¸¤ç§æ–¹æ³•</span></span><br><span class="line">create table tableName (</span><br><span class="line">  å­—æ®µå1 æ•°æ®ç±»å‹ primary key,</span><br><span class="line">  å­—æ®µå2 æ•°æ®ç±»å‹</span><br><span class="line">);</span><br><span class="line">create table tableName (</span><br><span class="line">  å­—æ®µå1 æ•°æ®ç±»å‹,</span><br><span class="line">  å­—æ®µå2 æ•°æ®ç±»å‹,</span><br><span class="line">  constraint çº¦æŸå primary key(å­—æ®µå1)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ ä¸»é”® åˆ—åcolumnNameå¦‚æœä¸ºå¤šä¸ªæ—¶å»ºç«‹è”åˆä¸»é”®</span></span><br><span class="line">alter table tableName add primary key(columnName);</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤ä¸»é”®çº¦æŸ</span></span><br><span class="line">alter table tableName drop primary key;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹åˆ—ä¸ºä¸»é”®</span></span><br><span class="line">alter table tableName modify å­—æ®µå æ•°æ®ç±»å‹ primary key;</span><br></pre></td></tr></table></figure></p><p><strong>è”åˆä¸»é”®</strong>:è”åˆå¤šä¸ªåˆ—å»ºç«‹è”åˆä¸»é”®ã€‚</p><h3 id="å¤–é”®çº¦æŸï¼ˆforeign-keyï¼‰"><a href="#å¤–é”®çº¦æŸï¼ˆforeign-keyï¼‰" class="headerlink" title="å¤–é”®çº¦æŸï¼ˆforeign keyï¼‰"></a>å¤–é”®çº¦æŸï¼ˆforeign keyï¼‰</h3><p>å¤–é”®çº¦æŸçš„ä½œç”¨æ˜¯å»ºç«‹ä¸¤å¼ è¡¨ä¹‹é—´çš„è”ç³»ï¼Œä¿æŒæ•°æ®çš„ä¸€è‡´æ€§ã€‚è¡¨çš„å¤–é”®å¯ä»¥æ˜¯å¦ä¸€å¼ è¡¨çš„ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•æˆ–å”¯ä¸€çº¦æŸã€‚<br>å¤–é”®å¯ä»¥æœ‰é‡å¤çš„, å¯ä»¥æ˜¯ç©ºå€¼ã€‚å®ç°ä¸€å¯¹ä¸€æˆ–ä¸€å¯¹å¤šå…³ç³»ã€‚<br>åˆ›å»ºå¤–é”®çº¦æŸå®ä¾‹ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºçˆ¶è¡¨</span></span><br><span class="line">create table fatherTable(</span><br><span class="line">  id int primary key,</span><br><span class="line">  title varchar(10)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå­è¡¨ï¼Œå»ºç«‹å¤–é”®æœ‰ä¸¤ç§æ–¹å¼</span></span><br><span class="line"><span class="comment"># ç¬¬ä¸€ç§ï¼šæ·»åŠ å…³é”®å­—</span></span><br><span class="line">create table sonTable(</span><br><span class="line">  id int auto_increment,</span><br><span class="line">  name varchar(20),</span><br><span class="line">  constraint son_id primary key(id),</span><br><span class="line">  father_id int references fatherTable(id)</span><br><span class="line">);</span><br><span class="line"><span class="comment"># ç¬¬äºŒç§ï¼š é¢å¤–å£°æ˜ son_id ä¸ºä¸»é”®çš„åå­—ï¼Œfa_tab_idä¸ºå¤–é”®çš„åå­—</span></span><br><span class="line">create table sonTable(</span><br><span class="line">  id int auto_increment,</span><br><span class="line">  name varchar(20),</span><br><span class="line">  constraint son_id primary key(id),</span><br><span class="line">  father_id int,</span><br><span class="line">  constraint fa_tab_id foreign key(father_id) reference fatherTable(id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p><strong>åŠ å¤–é”®çº¦æŸçš„æ¡ä»¶</strong>ï¼š</p><ul><li>çˆ¶è¡¨å’Œå­è¡¨å¿…é¡»ä½¿ç”¨ç›¸åŒçš„å­˜å‚¨å¼•æ“ï¼Œ æ•°æ®è¡¨çš„å­˜å‚¨å¼•æ“åªèƒ½ä¸ºInnoDB,default-storage-engine-INNODB</li><li>å¤–é”®åˆ—å’Œå‚ç…§åˆ—å¿…é¡»å…·æœ‰ç›¸ä¼¼çš„æ•°æ®ç±»å‹ï¼Œæ•°å­—çš„é•¿åº¦æˆ–æ˜¯æœ‰ç¬¦å·ä½å¿…é¡»ç›¸åŒï¼Œè€Œå­—ç¬¦ çš„é•¿åº¦å¯ä»¥ä¸åŒ</li><li>å¤–é”®åˆ—å’Œå‚ç…§åˆ—å¿…é¡»åˆ›å»ºç´¢å¼•ï¼Œå¦‚æœå¤–é”®åˆ—ä¸å­˜åœ¨ç´¢å¼•çš„è¯ï¼ŒMySQLå°†è‡ªåŠ¨åˆ›å»ºç´¢å¼•ã€‚</li></ul><p>è®¾å®šå‚ç…§åˆ—:FOREIGN KEY(id) PEFERENCES provinces(id)<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤å¤–é”®çº¦æŸ</span></span><br><span class="line">alter table tableName drop foreign key å¤–é”®çº¦æŸå;</span><br><span class="line">(åˆ›å»ºå¤–é”®çš„æ–¹æ³•æ²¡æœ‰æŒ‡å®šçº¦æŸåç§°ï¼Œç³»ç»Ÿä¼šé»˜è®¤ç»™å¤–é”®çº¦æŸåˆ†é…å¤–é”®çº¦æŸåç§°ï¼Œå‘½åä¸ºstudent_ibfk_n)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¢åŠ å¤–é”®çº¦æŸ</span></span><br><span class="line">alter table tableName add foreign key åˆ—å references çˆ¶è¡¨(å¯¹åº”åˆ—å);</span><br></pre></td></tr></table></figure></p><h3 id="å”¯ä¸€çº¦æŸï¼ˆunique-keyï¼‰"><a href="#å”¯ä¸€çº¦æŸï¼ˆunique-keyï¼‰" class="headerlink" title="å”¯ä¸€çº¦æŸï¼ˆunique keyï¼‰"></a>å”¯ä¸€çº¦æŸï¼ˆunique keyï¼‰</h3><p><code>unique key</code>çš„ç”¨é€”ï¼šä¸»è¦æ˜¯ç”¨æ¥é˜²æ­¢æ•°æ®æ’å…¥çš„æ—¶å€™é‡å¤ã€‚<br>åˆ›å»ºæ•°æ®è¡¨æ—¶åœ¨å­—æ®µåé¢åŠ å…¥<code>unique key</code>å³å¯å»ºç«‹å”¯ä¸€çº¦æŸã€‚<br>ä¹Ÿå¯ä»¥å•ç‹¬è®¾ç½®ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table tableName modify columnName char(20) unique key;</span><br></pre></td></tr></table></figure></p><h2 id="6-æ’å…¥å’Œä¿®æ”¹è®°å½•"><a href="#6-æ’å…¥å’Œä¿®æ”¹è®°å½•" class="headerlink" title="6.æ’å…¥å’Œä¿®æ”¹è®°å½•"></a>6.æ’å…¥å’Œä¿®æ”¹è®°å½•</h2><p>å»ºç«‹å¥½æ•°æ®è¡¨ä¹‹åå°±å¯ä»¥æ’å…¥æ•°æ®äº†ã€‚</p><h3 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h3><p>æ’å…¥æ•°æ®ä½¿ç”¨<code>insert into</code>è¯­å¥ï¼Œå…·ä½“å¦‚ä¸‹ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into tableName (å­—æ®µ1, å­—æ®µ2, å­—æ®µ3,...å­—æ®µn) values (å€¼1, å€¼2, å€¼3, ...å€¼n);</span><br><span class="line"><span class="comment"># å¦‚æœæ•°æ®ä¸ºå­—ç¬¦ä¸²ï¼Œå¿…é¡»åŠ å¼•å·ã€‚</span></span><br></pre></td></tr></table></figure></p><p>æ³¨æ„ï¼šä»¥ä¸Šè¯­å¥æ’å…¥æ•°æ®çš„æ—¶å€™å¿…é¡»è¦ä¿è¯ä¸€è‡´æ€§ï¼Œå³å‰åå¿…é¡»ä¸€ä¸€å¯¹åº”ã€‚<br>è¿˜æœ‰ä¸€ç§æ–¹å¼ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into tableName (å­—æ®µ1=å€¼1, å­—æ®µ2=å€¼2, ...);</span><br></pre></td></tr></table></figure></p><h3 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h3><p>update setå‘½ä»¤ç”¨æ¥ä¿®æ”¹è¡¨ä¸­çš„æ•°æ®ã€‚<br>update setå‘½ä»¤æ ¼å¼ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update tableName <span class="built_in">set</span> å­—æ®µ=æ–°å€¼, ... <span class="built_in">where</span> æ¡ä»¶;</span><br></pre></td></tr></table></figure></p><h2 id="7-æŸ¥è¯¢"><a href="#7-æŸ¥è¯¢" class="headerlink" title="7.æŸ¥è¯¢"></a>7.æŸ¥è¯¢</h2><p>æ•°æ®æŸ¥è¯¢ä½¿ç”¨<code>select</code>è¯­å¥ã€‚<br><code>select æŸ¥è¯¢é¡¹ from tableName [where æ¡ä»¶]</code></p>]]></content><categories><category> æ•°æ®åº“ </category></categories><tags><tag> mysql </tag><tag> æ•°æ®åº“ </tag></tags></entry><entry><title>windowå¯¹è±¡ä¹‹screen</title><link href="/window-screens.html"/><url>/window-screens.html</url><content type="html"><![CDATA[<p><code>window.screen</code>è¿”å›å½“å‰windowçš„screenå¯¹è±¡ã€‚screenå¯¹è±¡å®ç°äº†Screenæ¥å£ï¼Œå®ƒæ˜¯ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œè¿”å›å½“å‰æ¸²æŸ“çª—å£ä¸­å’Œå±å¹•æœ‰å…³çš„å±æ€§ã€‚<br><a id="more"></a></p><ul><li>screen.availWidth - å¯ç”¨çš„å±å¹•å®½åº¦<br>screen.availWidth å±æ€§è¿”å›è®¿é—®è€…å±å¹•çš„å®½åº¦ï¼Œä»¥åƒç´ è®¡ï¼Œå‡å»ç•Œé¢ç‰¹æ€§ï¼Œæ¯”å¦‚çª—å£ä»»åŠ¡æ ã€‚</li><li>screen.availHeight - å¯ç”¨çš„å±å¹•é«˜åº¦<br>screen.availHeight å±æ€§è¿”å›è®¿é—®è€…å±å¹•çš„é«˜åº¦ï¼Œä»¥åƒç´ è®¡ï¼Œå‡å»ç•Œé¢ç‰¹æ€§ï¼Œæ¯”å¦‚çª—å£ä»»åŠ¡æ ã€‚</li></ul><table><thead><tr><th style="text-align:left">å±æ€§</th><th style="text-align:left">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left">availHeight</td><td style="text-align:left">è¿”å›å±å¹•çš„é«˜åº¦ï¼ˆä¸åŒ…æ‹¬Windowsä»»åŠ¡æ ï¼‰</td></tr><tr><td style="text-align:left">availWidth</td><td style="text-align:left">è¿”å›å±å¹•çš„å®½åº¦ï¼ˆä¸åŒ…æ‹¬Windowsä»»åŠ¡æ ï¼‰</td></tr><tr><td style="text-align:left">colorDepth</td><td style="text-align:left">è¿”å›ç›®æ ‡è®¾å¤‡æˆ–ç¼“å†²å™¨ä¸Šçš„è°ƒè‰²æ¿çš„æ¯”ç‰¹æ·±åº¦</td></tr><tr><td style="text-align:left">height</td><td style="text-align:left">è¿”å›å±å¹•çš„æ€»é«˜åº¦</td></tr><tr><td style="text-align:left">pixelDepth</td><td style="text-align:left">è¿”å›å±å¹•çš„é¢œè‰²åˆ†è¾¨ç‡ï¼ˆæ¯è±¡ç´ çš„ä½æ•°ï¼‰</td></tr><tr><td style="text-align:left">width</td><td style="text-align:left">è¿”å›å±å¹•çš„æ€»å®½åº¦</td></tr></tbody></table>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> window </tag></tags></entry><entry><title>windowå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</title><link href="/window-property-and-function.html"/><url>/window-property-and-function.html</url><content type="html"><![CDATA[<p>åœ¨JavaScriptè¯­è¨€ä¸­ï¼ŒDOM( Document Object Model) æ˜¯æ“ä½œæ–‡æ¡£çš„APIï¼Œdocument æ˜¯å…¶çš„ä¸€ä¸ªå¯¹è±¡ï¼›è€ŒBOMæ˜¯æ§åˆ¶æµè§ˆå™¨è¡Œä¸ºçš„APIï¼Œwindow æ˜¯å…¶çš„ä¸€ä¸ªå¯¹è±¡ã€‚<br><a id="more"></a><br><img style="width: 80%" src="http://pic4.zhimg.com/80/0c273417eb835e0700bbe2ea7ce4c4bb_hd.jpg"></p><p><a href="http://www.zhihu.com/question/33453164" target="_blank" rel="noopener">å¼•ç”¨çŸ¥ä¹ä¸Šçš„è§£é‡Š</a>,æ•´ä¸ªçª—å£ä¸­åˆ†ä¸ºå‡ ä¸ªåŒºåŸŸï¼Œå…¶ä¸­ï¼š</p><ol><li>DOMç®¡è¾–åŒºåŸŸï¼š<br>EåŒºå½’DOMç®¡ï¼Œæ˜¯æ ¹æ®å¼€å‘å‡ºæ¥çš„ç½‘ç«™æ–‡æ¡£ï¼ˆhtml,css,javascriptï¼‰ç­‰æ¸²æŸ“å‡ºæ¥çš„é¡µé¢ã€‚</li><li>BOMç®¡è¾–åŒºåŸŸ<br>å…¶ä½™çš„å‡ ä¸ªåŒºåŸŸéƒ½å½’BOMç®¡ã€‚<ul><li>AåŒºï¼šæµè§ˆå™¨çš„åœ°å€æ ã€æ ‡ç­¾æ ã€æœç´¢æ ã€ä¹¦ç­¾æ ã€èœå•æ ç­‰ã€‚</li><li>BåŒºï¼šæµè§ˆå™¨å³é”®èœå•ã€‚</li><li>CåŒºï¼šçŠ¶æ€æ ï¼ŒdocumentåŠ è½½æ—¶æ˜¾ç¤ºhttpçŠ¶æ€ç­‰ä¿¡æ¯ã€‚</li><li>DåŒºï¼šæ»šåŠ¨æ¡ã€‚<h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><blockquote><p>BOM æ˜¯æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œwindowæ˜¯BOMçš„ä¸€ä¸ªå¯¹è±¡ï¼Œwindowå¯¹è±¡ä¸‹æœ‰å¾ˆå¤šå­å¯¹è±¡ï¼Œä¸€èµ·æ§åˆ¶æµè§ˆå™¨çš„è¡Œä¸ºã€‚åœ¨æµè§ˆå™¨ä¸­windowå¯¹æƒ³ä¸ºglobalå¯¹è±¡ã€‚</p></blockquote></li></ul></li></ol><p><img style="width: 80%" src="http://pic3.zhimg.com/80/v2-818759383c05737f5c626d7cd634e8ee_hd.jpg"></p><p>window å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªåŒ…å«DOMæ–‡æ¡£çš„çª—å£ï¼Œå…¶ document å±æ€§æŒ‡å‘çª—å£ä¸­è½½å…¥çš„ DOMæ–‡æ¡£ ã€‚ä½¿ç”¨ document.defaultView å±æ€§å¯ä»¥è·å–æŒ‡å®šæ–‡æ¡£æ‰€åœ¨çª—å£ã€‚</p><h3 id="window-scrollbars"><a href="#window-scrollbars" class="headerlink" title="window.scrollbars"></a>window.scrollbars</h3><p>è¿”å›æ»šåŠ¨æ¡å¯¹è±¡ï¼Œå¯ä»¥æ£€æŸ¥å…¶å¯è§æ€§ã€‚</p><p>window.scrollbars æœ‰ä¸€ä¸ªå±æ€§</p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> window </tag></tags></entry><entry><title>windowå¯¹è±¡ä¹‹location</title><link href="/window-location.html"/><url>/window-location.html</url><content type="html"><![CDATA[<p>window.location åªè¯»å±æ€§ï¼Œè¿”å›ä¸€ä¸ª Location  å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æœ‰å…³æ–‡æ¡£å½“å‰ä½ç½®çš„ä¿¡æ¯ã€‚</p><blockquote><p>window.location : æ‰€æœ‰å­—æ¯å¿…é¡»å°å†™ï¼<br>å°½ç®¡ window.location æ˜¯ä¸€ä¸ªåªè¯» Location å¯¹è±¡ï¼Œä½ ä»ç„¶å¯ä»¥èµ‹ç»™å®ƒä¸€ä¸ª DOMStringã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹å¤„ç† locationï¼Œå°±åƒå®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¸€æ ·ï¼šwindow.location = â€˜<a href="http://www.example.com&#39;ï¼Œæ˜¯" target="_blank" rel="noopener">http://www.example.com&#39;ï¼Œæ˜¯</a> window.location.href = â€˜<a href="http://www.example.com&#39;çš„åŒä¹‰è¯" target="_blank" rel="noopener">http://www.example.com&#39;çš„åŒä¹‰è¯</a> ã€‚</p></blockquote><a id="more"></a><p>å¯ä»¥ç”¨location.hrefè·å–ã€‚è¦è·å¾—URLå„ä¸ªéƒ¨åˆ†çš„å€¼ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">location.protocol; <span class="comment">// 'http'</span></span><br><span class="line">location.host; <span class="comment">// 'www.example.com'</span></span><br><span class="line">location.port; <span class="comment">// '8080'</span></span><br><span class="line">location.pathname; <span class="comment">// '/path/index.html'</span></span><br><span class="line">location.search; <span class="comment">// '?a=1&amp;b=2'</span></span><br><span class="line">location.hash; <span class="comment">// 'TOP'</span></span><br></pre></td></tr></table></figure></p><p>è¦åŠ è½½ä¸€ä¸ªæ–°é¡µé¢ï¼Œå¯ä»¥è°ƒç”¨<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">location.assign(url)</span><br><span class="line">location.href  = url</span><br></pre></td></tr></table></figure></p><p>å¦‚æœè¦é‡æ–°åŠ è½½å½“å‰é¡µé¢ï¼Œè°ƒç”¨location.reload()æ–¹æ³•éå¸¸æ–¹ä¾¿ã€‚</p><ul><li>window.location.search</li></ul><h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><ul><li>reload()<br>é‡æ–°åŠ è½½é¡µé¢</li><li><p>assign()<br>åŠ è½½æ–°æ–‡æ¡£</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- location.assign(<span class="string">'https://developer.mozilla.org/zh-CN/docs/Web/API/Window/location'</span>)</span><br></pre></td></tr></table></figure></li><li><p>replace()<br>ä½¿ç”¨æ–°æ–‡æ¡£æ›¿æ¢å½“å‰æ–‡æ¡£</p></li></ul>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> window </tag></tags></entry><entry><title>windowå¯¹è±¡ä¹‹navigator</title><link href="/window-navigator.html"/><url>/window-navigator.html</url><content type="html"><![CDATA[<p>ä»ä»Šå¤©å¼€å§‹ä¼šé™†ç»­å­¦ä¹ windowå¯¹è±¡çš„å±æ€§ï¼Œä»Šå¤©å…ˆå­¦ä¹ <code>window.navigator</code>ã€‚<br><code>window.navigator</code>è¿”å›ä¸€ä¸ªnavigatorå¯¹è±¡çš„å¼•ç”¨,å¯ä»¥ç”¨å®ƒæ¥æŸ¥è¯¢ä¸€äº›å…³äºè¿è¡Œå½“å‰è„šæœ¬çš„åº”ç”¨ç¨‹åºçš„ç›¸å…³ä¿¡ã€‚<br>åœ¨chromeæµè§ˆå™¨ä¸­æŒ‰å¿«æ·é”®<code>alt + âŒ˜</code>æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåœ¨consoleä¸‹è¾“å…¥<code>navigator</code>ã€å›è½¦ï¼Œå³å¯æ‰“å°å‡º<code>navigator</code>å¯¹è±¡ã€‚<br><a id="more"></a><br><img src="http://wicdn.xiaohongchun.com/xhc-plat/1519441439885_WfktCB4fjm.png" alt></p><h2 id="å¸¸ç”¨å±æ€§"><a href="#å¸¸ç”¨å±æ€§" class="headerlink" title="å¸¸ç”¨å±æ€§"></a>å¸¸ç”¨å±æ€§</h2><ul><li><strong>navigator.userAgent</strong><br>è¿”å›å½“å‰æµè§ˆå™¨çš„user agentå­—ç¬¦ä¸²ã€‚<br>è¯¥å±æ€§æ˜¯<code>navigatior</code>å¯¹è±¡ç”¨çš„æœ€å¤šçš„ï¼Œå¸¸ç”¨äºåˆ¤æ–­å®¢æˆ·ç«¯ç±»å‹<h3 id="åˆ¤æ–­æµè§ˆå™¨ç±»å‹"><a href="#åˆ¤æ–­æµè§ˆå™¨ç±»å‹" class="headerlink" title="åˆ¤æ–­æµè§ˆå™¨ç±»å‹"></a>åˆ¤æ–­æµè§ˆå™¨ç±»å‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">goPAGE</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (navigator.userAgent.match(<span class="regexp">/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>è¯·æ³¨æ„ï¼Œnavigatorçš„ä¿¡æ¯å¯ä»¥å¾ˆå®¹æ˜“åœ°è¢«ç”¨æˆ·ä¿®æ”¹ï¼Œæ‰€ä»¥JavaScriptè¯»å–çš„å€¼ä¸ä¸€å®šæ˜¯æ­£ç¡®çš„ã€‚å¾ˆå¤šåˆå­¦è€…ä¸ºäº†é’ˆå¯¹ä¸åŒæµè§ˆå™¨ç¼–å†™ä¸åŒçš„ä»£ç ï¼Œå–œæ¬¢ç”¨ifåˆ¤æ–­æµè§ˆå™¨ç‰ˆæœ¬;æ­£ç¡®çš„æ–¹æ³•æ˜¯å……åˆ†åˆ©ç”¨JavaScriptå¯¹ä¸å­˜åœ¨å±æ€§è¿”å›undefinedçš„ç‰¹æ€§ï¼Œç›´æ¥ç”¨çŸ­è·¯è¿ç®—ç¬¦||è®¡ç®—ã€‚</p></blockquote><p>åˆ¤æ–­æµè§ˆå™¨ç±»å‹:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">getExploreName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> userAgent = navigator.userAgent;</span><br><span class="line"><span class="keyword">if</span>(userAgent.indexOf(<span class="string">"Opera"</span>) &gt; <span class="number">-1</span> || userAgent.indexOf(<span class="string">"OPR"</span>) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line"><span class="keyword">return</span><span class="string">'Opera'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span><span class="keyword">if</span>(userAgent.indexOf(<span class="string">"compatible"</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"MSIE"</span>) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line"><span class="keyword">return</span><span class="string">'IE'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span><span class="keyword">if</span>(userAgent.indexOf(<span class="string">"Edge"</span>) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line"><span class="keyword">return</span><span class="string">'Edge'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span><span class="keyword">if</span>(userAgent.indexOf(<span class="string">"Firefox"</span>) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line"><span class="keyword">return</span><span class="string">'Firefox'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span><span class="keyword">if</span>(userAgent.indexOf(<span class="string">"Safari"</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"Chrome"</span>) == <span class="number">-1</span>)&#123;</span><br><span class="line"><span class="keyword">return</span><span class="string">'Safari'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span><span class="keyword">if</span>(userAgent.indexOf(<span class="string">"Chrome"</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"Safari"</span>) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line"><span class="keyword">return</span><span class="string">'Chrome'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span><span class="keyword">if</span>(!!<span class="built_in">window</span>.ActiveXObject || <span class="string">"ActiveXObject"</span><span class="keyword">in</span><span class="built_in">window</span>)&#123;</span><br><span class="line"><span class="keyword">return</span><span class="string">'IE&gt;=11'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">return</span><span class="string">'Unkonwn'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ul><li><strong>navigator.appName</strong><br>è¿”å›å½“å‰æµè§ˆå™¨çš„æ­£å¼åç§°,è¯¥åç§°å¯èƒ½æ˜¯ä¸â€æ­£ç¡®â€çš„.</li><li><strong>navigator.appVersion</strong><br>è¿”å›å½“å‰æµè§ˆå™¨çš„ç‰ˆæœ¬å·,è¯¥å€¼å¯èƒ½æ˜¯ä¸â€æ­£ç¡®â€çš„.</li><li><strong>navigator.language</strong><br>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²,è¡¨æ˜å½“å‰æµè§ˆå™¨çš„è¯­è¨€ç§ç±».</li><li><strong>navigator.platform</strong><br>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²,è¡¨æ˜å½“å‰æ‰€ä½¿ç”¨çš„ç³»ç»Ÿå¹³å°ç±»å‹.<h2 id="ä¸å¸¸ç”¨å±æ€§"><a href="#ä¸å¸¸ç”¨å±æ€§" class="headerlink" title="ä¸å¸¸ç”¨å±æ€§"></a>ä¸å¸¸ç”¨å±æ€§</h2></li><li>navigator.appCodeName<br>è¿”å›å½“å‰æµè§ˆå™¨çš„å†…éƒ¨â€œä»£ç â€åç§°,è¯¥åç§°å¯èƒ½æ˜¯ä¸â€æ­£ç¡®â€çš„.</li><li>navigator.buildID<br>è¿”å›å½“å‰æµè§ˆå™¨çš„æ„å»ºæ ‡è¯†ç¬¦ (ä¾‹å¦‚: â€œ2006090803â€).</li><li>navigator.connection<br>æä¾›æœ‰å…³è®¾å¤‡çš„ç½‘ç»œè¿æ¥çš„ä¿¡æ¯.</li><li>navigator.cookieEnabled<br>è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼,è¡¨æ˜å½“å‰æµè§ˆå™¨æ˜¯å¦å¯ç”¨äº†cookies.</li><li>navigator.doNotTrack<br>è¿”å›ç”¨æˆ·é…ç½®ä¸­do-not-tracké¡¹çš„å€¼,å¦‚æœå€¼ä¸ºâ€yesâ€,åˆ™ç½‘ç«™å’Œåº”ç”¨ç¨‹åºä¸ä¼šè·Ÿè¸ªç”¨æˆ·.</li><li>navigator.id<br>è¿”å› <code>id</code> å¯¹è±¡,ä½ å¯ä»¥ç”¨å®ƒæ¥ä¸ºè‡ªå·±çš„ç½‘ç«™æ·»åŠ å¯¹BrowserIDçš„æ”¯æŒ.</li><li>navigator.mimeTypes<br>è¿”å›å½“å‰æµè§ˆå™¨æ”¯æŒçš„MIMEç±»å‹åˆ—è¡¨.</li><li>navigator.mozBattery<br>è¿”å›ä¸€ä¸ªbattery å¯¹è±¡,ä½ å¯ä»¥ç”¨å®ƒæ¥è·å–è‡ªå·±ç”µè„‘ä¸Šçš„ç”µæ± çš„ç”µé‡æƒ…å†µ.</li><li>navigator.mozNotification Mobile Only in Gecko 2.0</li><li>navigator.webkitNotification<br>è¿”å›ä¸€ä¸ªnotification å¯¹è±¡,ä½ å¯ä»¥ç”¨å®ƒæ¥å‘ä½¿ç”¨ä½ çš„webåº”ç”¨ç¨‹åºçš„ç”¨æˆ·å‘é€é€šçŸ¥.</li><li>navigator.mozTelephony Mobile Only in Gecko<br>è¿”å›ä¸€ä¸ªDOMTelephony å¯¹è±¡,ä½ å¯ä»¥ç”¨å®ƒæ¥åˆ›å»ºå’Œç®¡ç†æ‰‹æœºé€šè¯.</li><li>navigator.onLine<br>è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼,è¡¨æ˜å½“å‰æµè§ˆå™¨æ˜¯å¦æ­£å¸¸è”ç½‘.</li><li>navigator.oscpu<br>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²,è¡¨æ˜å½“å‰æ‰€ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿç±»å‹.</li><li>navigator.plugins<br>è¿”å›ä¸€ä¸ªåŒ…å«äº†æµè§ˆå™¨ä¸­æ‰€æœ‰å·²å®‰è£…çš„æ’ä»¶å¯¹è±¡çš„æ•°ç»„.</li><li>navigator.product<br>è¿”å›å½“å‰æµè§ˆå™¨çš„äº§å“åç§°(ä¾‹å¦‚: â€œGeckoâ€).</li><li>navigator.productSub<br>è¿”å›å½“å‰æµè§ˆå™¨çš„æ„å»ºç¼–å·(ä¾‹å¦‚: â€œ20060909â€).</li><li>navigator.securitypolicy<br>è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸². åœ¨Netscape 4.7xä¸­, è¿”å›â€US &amp; CA domestic policyâ€ æˆ–è€… â€œExport policyâ€.</li><li>navigator.vendor<br>è¿”å›å½“å‰æµè§ˆå™¨çš„æµè§ˆå™¨ä¾›åº”å•†åç§°, (ä¾‹å¦‚: â€œNetscape6â€)</li><li>navigator.vendorSub<br>è¿”å›å½“å‰æµè§ˆå™¨çš„æµè§ˆå™¨ä¾›åº”å•†åç§°çš„ç‰ˆæœ¬å· (e.g. â€œ6.1â€).</li><li>navigator.webkitPointer<br>è¿”å›ä¸€ä¸ªMouse Lock APIä¸­çš„PointerLockå¯¹è±¡.</li></ul><h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><ul><li>navigator.javaEnabled<br>è¡¨æ˜å½“å‰æµè§ˆå™¨æ˜¯å¦å¯ç”¨äº†å¯¹Javaçš„æ”¯æŒ.</li><li>navigator.mozIsLocallyAvailable<br>æ£€æµ‹ä¸€ä¸ªURIèµ„æºåœ¨è„±æœºçŠ¶æ€æ˜¯å¦å¯ç”¨.</li><li>navigator.preference å·²åºŸå¼ƒ Gecko 2.0<br>è®¾ç½®ä¸€ä¸ªç”¨æˆ·é…ç½®. è¯¥æ–¹æ³•åªèƒ½åœ¨ç‰¹æƒä»£ç ä¸­ä½¿ç”¨,ç›®å‰å·²ç»åºŸå¼ƒ,ä½ åº”è¯¥ä½¿ç”¨XPCOM Preferences API æ¥ä»£æ›¿.</li><li>navigator.registerContentHandler<br>å…è®¸ç½‘ç«™å°†è‡ªå·±æ³¨å†Œæˆä¸ºä¸€ä¸ªç»™å®šMIMEç±»å‹çš„å†…å®¹çš„å¤„ç†ç¨‹åº.</li><li>navigator.registerProtocolHandler<br>å…è®¸ç½‘ç«™å°†è‡ªå·±æ³¨å†Œæˆä¸ºä¸€ä¸ªç»™å®šåè®®çš„å¤„ç†ç¨‹åº.</li><li>navigator.taintEnabled å·²åºŸå¼ƒ Gecko 1.7.8 å·²åºŸå¼ƒ Gecko 9.0<br>è¿”å›false. è¡¨æ˜æµè§ˆå™¨æ˜¯å¦æ”¯æŒtaint/untaintåŠŸèƒ½.å·²åœ¨JavaScript 1.2ä¸­åˆ é™¤.</li><li>navigator.vibrate()<br>å¦‚æœè®¾å¤‡æ”¯æŒéœ‡åŠ¨(æ‰‹æœºæˆ–å…¶ä»–),åˆ™è§¦å‘è®¾å¤‡éœ‡åŠ¨.</li></ul>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> window </tag></tags></entry><entry><title>æ·±æµ…æ‹·è´æ–¹æ³•æ€»ç»“</title><link href="/deep-clone-js.html"/><url>/deep-clone-js.html</url><content type="html"><![CDATA[<h2 id="ä¸€-Javascriptä¸­çš„æ·±æµ…æ‹·è´ç”±æ¥ï¼š"><a href="#ä¸€-Javascriptä¸­çš„æ·±æµ…æ‹·è´ç”±æ¥ï¼š" class="headerlink" title="ä¸€.Javascriptä¸­çš„æ·±æµ…æ‹·è´ç”±æ¥ï¼š"></a>ä¸€.Javascriptä¸­çš„æ·±æµ…æ‹·è´ç”±æ¥ï¼š</h2><p>javascriptä¸­æ•°æ®æ ¼å¼åˆ†ä¸ºåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ï¼Œ5ç§åŸºæœ¬æ•°æ®ç±»å‹Undefinedã€Nullã€Booleanã€Number å’Œ Stringï¼Œå˜é‡æ˜¯ç›´æ¥æŒ‰å€¼å­˜æ”¾çš„ï¼Œå­˜æ”¾åœ¨æ ˆå†…å­˜ä¸­çš„ç®€å•æ•°æ®æ®µï¼Œå¯ä»¥ç›´æ¥è®¿é—®ã€‚<br><a id="more"></a><br>å­˜æ”¾åœ¨å †å†…å­˜ä¸­çš„å¯¹è±¡ï¼Œå˜é‡ä¿å­˜çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å¦ä¸€ä¸ªä½ç½®ã€‚å½“éœ€è¦è®¿é—®å¼•ç”¨ç±»å‹ï¼ˆå¦‚å¯¹è±¡ï¼Œæ•°ç»„ç­‰ï¼‰çš„å€¼æ—¶ï¼Œé¦–å…ˆä»æ ˆä¸­è·å¾—è¯¥å¯¹è±¡çš„åœ°å€æŒ‡é’ˆï¼Œç„¶åå†ä»å †å†…å­˜ä¸­å–å¾—æ‰€éœ€çš„æ•°æ®ã€‚</p><p>JavaScriptå­˜å‚¨å¯¹è±¡éƒ½æ˜¯å­˜åœ°å€çš„ï¼Œæ‰€ä»¥æµ…æ‹·è´ä¼šå¯¼è‡´ obj1 å’Œobj2 æŒ‡å‘åŒä¸€å—å†…å­˜åœ°å€ã€‚æ”¹å˜äº†å…¶ä¸­ä¸€æ–¹çš„å†…å®¹ï¼Œéƒ½æ˜¯åœ¨åŸæ¥çš„å†…å­˜ä¸Šåšä¿®æ”¹ä¼šå¯¼è‡´æ‹·è´å¯¹è±¡å’Œæºå¯¹è±¡éƒ½å‘ç”Ÿæ”¹å˜ï¼Œè€Œæ·±æ‹·è´æ˜¯å¼€è¾Ÿä¸€å—æ–°çš„å†…å­˜åœ°å€ï¼Œå°†åŸå¯¹è±¡çš„å„ä¸ªå±æ€§é€ä¸ªå¤åˆ¶è¿›å»ã€‚å¯¹æ‹·è´å¯¹è±¡å’Œæºå¯¹è±¡å„è‡ªçš„æ“ä½œäº’ä¸å½±å“ã€‚</p><h2 id="äºŒ-æµ…æ‹·è´"><a href="#äºŒ-æµ…æ‹·è´" class="headerlink" title="äºŒ.æµ…æ‹·è´"></a>äºŒ.æµ…æ‹·è´</h2><h3 id="1-å¼•ç”¨å¤åˆ¶"><a href="#1-å¼•ç”¨å¤åˆ¶" class="headerlink" title="1.å¼•ç”¨å¤åˆ¶"></a>1.å¼•ç”¨å¤åˆ¶</h3><h3 id="2-éå†èµ‹å€¼æ‹·è´ï¼š"><a href="#2-éå†èµ‹å€¼æ‹·è´ï¼š" class="headerlink" title="2.éå†èµ‹å€¼æ‹·è´ï¼š"></a>2.éå†èµ‹å€¼æ‹·è´ï¼š</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">shallowClone</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        o[key] = obj[key];</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-Object-assign"><a href="#3-Object-assign" class="headerlink" title="3.Object.assign()"></a>3.Object.assign()</h3><p>Object.assign() æ–¹æ³•å¯ä»¥æŠŠä»»æ„å¤šä¸ªçš„æºå¯¹è±¡è‡ªèº«çš„å¯æšä¸¾å±æ€§æ‹·è´ç»™ç›®æ ‡å¯¹è±¡ï¼Œç„¶åè¿”å›ç›®æ ‡å¯¹è±¡ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="number">1</span>,</span><br><span class="line">    b: <span class="number">2</span>,</span><br><span class="line">    c: &#123;<span class="attr">d</span>: <span class="string">'ai'</span>, <span class="attr">e</span>: <span class="string">'BB'</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">var</span> o = <span class="built_in">Object</span>.assign(&#123;&#125;, obj);</span><br><span class="line"><span class="built_in">console</span>.log(objc.d === o.c.d); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p><h3 id="4-Array-concat-å’Œ-Array-slice-æ–¹æ³•"><a href="#4-Array-concat-å’Œ-Array-slice-æ–¹æ³•" class="headerlink" title="4.Array.concat() å’Œ Array.slice()æ–¹æ³•"></a>4.<code>Array.concat()</code> å’Œ <code>Array.slice()</code>æ–¹æ³•</h3><p><code>concat()</code>å’Œ<code>sluce()</code>è¿”å›ä¸åŒçš„æ•°ç»„å®ä¾‹ï¼Œä½†æ˜¯å¯¹äºæ•°ç»„çš„å¯¹è±¡å…ƒç´ ï¼Œåªæ˜¯æ‹·è´äº†æŒ‡é’ˆã€‚</p><h2 id="ä¸‰-æ·±æ‹·è´"><a href="#ä¸‰-æ·±æ‹·è´" class="headerlink" title="ä¸‰.æ·±æ‹·è´"></a>ä¸‰.æ·±æ‹·è´</h2><h3 id="1-JSONå¯¹è±¡çš„parse-å’Œstringify"><a href="#1-JSONå¯¹è±¡çš„parse-å’Œstringify" class="headerlink" title="1.JSONå¯¹è±¡çš„parse()å’Œstringify()"></a>1.<code>JSON</code>å¯¹è±¡çš„<code>parse()</code>å’Œ<code>stringify()</code></h3><p><code>JSON</code>å¯¹è±¡çš„<code>parse()</code>å’Œ<code>stringify()</code>æ–¹æ³•è¿ç”¨å¯ä»¥å®ç°æ·±æ‹·è´ã€‚<br><strong>å¯ä»¥å®ç°æ·±æ‹·è´çš„æƒ…å†µï¼š</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'mhy'</span>,</span><br><span class="line">    age: <span class="number">22</span>,</span><br><span class="line">    other: &#123;</span><br><span class="line">        sex: <span class="string">'male'</span>,</span><br><span class="line">        city: <span class="string">'beijing'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj))</span><br><span class="line">p.other.city = <span class="string">'shanghai'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.other.city); <span class="comment">// 'beijing'</span></span><br></pre></td></tr></table></figure></p><p>å¯¹äºä¸€èˆ¬çš„æƒ…å†µè€Œè¨€ï¼Œè¯¥æ–¹æ³•å¯ä»¥å®ç°æ·±æ‹·è´ã€‚<br><strong>ä¸èƒ½å®ç°çš„æƒ…å†µï¼š</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'xxx'</span>,</span><br><span class="line">    fn: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">'this is a function'</span>)&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> o = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj));</span><br><span class="line"><span class="built_in">console</span>.log(o.fn); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></p><p>å¯¹äº<strong>æ­£åˆ™è¡¨è¾¾å¼ç±»å‹</strong>ã€<strong>å‡½æ•°ç±»å‹</strong>ç­‰æ— æ³•è¿›è¡Œæ·±æ‹·è´(è€Œä¸”ä¼šç›´æ¥ä¸¢å¤±ç›¸åº”çš„å€¼)ã€‚è¿˜æœ‰ä¸€ç‚¹ä¸å¥½çš„åœ°æ–¹æ˜¯å®ƒä¼šæŠ›å¼ƒå¯¹è±¡çš„constructorã€‚ä¹Ÿå°±æ˜¯æ·±æ‹·è´ä¹‹åï¼Œä¸ç®¡è¿™ä¸ªå¯¹è±¡åŸæ¥çš„æ„é€ å‡½æ•°æ˜¯ä»€ä¹ˆï¼Œåœ¨æ·±æ‹·è´ä¹‹åéƒ½ä¼šå˜æˆObjectã€‚åŒæ—¶å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨å¾ªç¯å¼•ç”¨çš„æƒ…å†µä¹Ÿæ— æ³•æ­£ç¡®å¤„ç†ã€‚</p><h3 id="2-jQuery-extend"><a href="#2-jQuery-extend" class="headerlink" title="2.jQuery.extend()"></a>2.jQuery.extend()</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'mhy'</span>,</span><br><span class="line">    age: <span class="number">22</span>,</span><br><span class="line">    other: &#123;</span><br><span class="line">        sex: <span class="string">'male'</span>,</span><br><span class="line">        city: <span class="string">'beijing'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> o = $.extend(<span class="literal">true</span>, &#123;&#125;, obj)</span><br><span class="line"><span class="comment">// jQuery çš„ extend() æ–¹æ³•å¯ä»¥å®ç°æ·±æµ…æ‹·è´ï¼Œ ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºtrueæ—¶ä¸ºæ·±æ‹·è´ï¼Œå¦åˆ™ä¸ºæµ…æ‹·è´ã€‚</span></span><br></pre></td></tr></table></figure><h3 id="3-é€’å½’"><a href="#3-é€’å½’" class="headerlink" title="3.é€’å½’"></a>3.é€’å½’</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cloneObj = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> str, newobj = obj.constructor === <span class="built_in">Array</span> ? [] : &#123;&#125;;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span> obj !== <span class="string">'object'</span>)&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span><span class="keyword">if</span>(<span class="built_in">window</span>.JSON)&#123;</span><br><span class="line">        str = <span class="built_in">JSON</span>.stringify(obj), <span class="comment">//ç³»åˆ—åŒ–å¯¹è±¡</span></span><br><span class="line">        newobj = <span class="built_in">JSON</span>.parse(str); <span class="comment">//è¿˜åŸ</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> obj)&#123;</span><br><span class="line">            newobj[i] = <span class="keyword">typeof</span> obj[i] === <span class="string">'object'</span> ?</span><br><span class="line">            cloneObj(obj[i]) : obj[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> newobj;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><a href="http://jerryzou.com/posts/dive-into-deep-clone-in-javascript/" target="_blank" rel="noopener">å…¶ä»–åº“çš„deepCloneæ–¹æ³•</a></p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> æ·±æ‹·è´ </tag></tags></entry><entry><title>å¯¹è±¡çš„æ–¹æ³•æ±‡æ€»</title><link href="/functions_of_object.html"/><url>/functions_of_object.html</url><content type="html"><![CDATA[<p>Javascriptè¯­è¨€ä¸­ï¼Œå¯¹è±¡Objectæ˜¯è¯¥è¯­è¨€é‡è¦çš„æ•°æ®ç»“æ„ä¹‹ä¸€ï¼ŒæŒæ¡å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•æ˜¯å­¦å¥½è¯¥è¯­è¨€çš„å¿…è¦æ¡ä»¶ã€‚<br><a id="more"></a></p><h2 id="Objectæ„é€ å‡½æ•°çš„å±æ€§"><a href="#Objectæ„é€ å‡½æ•°çš„å±æ€§" class="headerlink" title="Objectæ„é€ å‡½æ•°çš„å±æ€§"></a>Objectæ„é€ å‡½æ•°çš„å±æ€§</h2><h3 id="Object-length"><a href="#Object-length" class="headerlink" title="Object.length"></a>Object.length</h3><p>å€¼ä¸º1ã€‚</p><h3 id="Object-prototype"><a href="#Object-prototype" class="headerlink" title="Object.prototype"></a>Object.prototype</h3><p><code>Object.prototype</code>å±æ€§è¡¨ç¤º<code>Object</code>çš„åŸå‹å¯¹è±¡<br>å¯ä»¥ä¸ºæ‰€æœ‰ Object ç±»å‹çš„å¯¹è±¡æ·»åŠ å±æ€§<br>å‡ ä¹æ‰€æœ‰çš„ JavaScript å¯¹è±¡éƒ½æ˜¯ Object çš„å®ä¾‹ï¼›ä¸€ä¸ªå…¸å‹çš„å¯¹è±¡ç»§æ‰¿äº†Object.prototypeçš„å±æ€§ï¼ˆåŒ…æ‹¬æ–¹æ³•ï¼‰ï¼Œå°½ç®¡è¿™äº›å±æ€§å¯èƒ½è¢«é®è”½ï¼ˆä¹Ÿè¢«ç§°ä¸ºè¦†ç›–ï¼‰ã€‚ç„¶è€Œï¼Œä¸€ä¸ªObjectå¯èƒ½æ˜¯æ•…æ„åˆ›å»ºçš„ï¼Œè¿™æ˜¯ä¸ç¡®å®šçš„ï¼ˆä¾‹å¦‚é€šè¿‡Object.create(null)ï¼‰ï¼Œæˆ–è€…å®ƒå¯èƒ½è¢«æ”¹å˜ï¼Œæ‰€ä»¥è¿™ä¸å†æ˜¯å‡†ç¡®çš„ï¼ˆä¾‹å¦‚Object.setPrototypeOfï¼‰ã€‚</p><p>æ”¹å˜ObjectåŸå‹ï¼Œä¼šé€šè¿‡åŸå‹é“¾ï¼Œè€Œæ”¹å˜æ‰€æœ‰å¯¹è±¡ï¼›é™¤éè¿™äº›å±æ€§å’Œæ–¹æ³•è¢«å…¶ä»–å¯¹åŸå‹é“¾æ›´é‡Œå±‚çš„æ”¹åŠ¨æ‰€è¦†ç›–ã€‚è¿™æä¾›äº†ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ã€ä½†æœ‰æ½œåœ¨å±é™©çš„æœºåˆ¶ï¼Œæ¥è¦†ç›–æˆ–æ‰©å±•å¯¹è±¡è¡Œä¸ºã€‚</p><h2 id="Objectæ„é€ å‡½æ•°çš„æ–¹æ³•"><a href="#Objectæ„é€ å‡½æ•°çš„æ–¹æ³•" class="headerlink" title="Objectæ„é€ å‡½æ•°çš„æ–¹æ³•:"></a>Objectæ„é€ å‡½æ•°çš„æ–¹æ³•:</h2><h3 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a>Object.assign()</h3><p>æ–¹æ³•ç”¨äºå°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ã€‚å®ƒå°†è¿”å›ç›®æ ‡å¯¹è±¡ã€‚</p><h4 id="1-è¯­æ³•ï¼šObject-assign-target-sources"><a href="#1-è¯­æ³•ï¼šObject-assign-target-sources" class="headerlink" title="1.è¯­æ³•ï¼šObject.assign(target, ...sources)"></a>1.è¯­æ³•ï¼š<code>Object.assign(target, ...sources)</code></h4><p>å¦‚æœç›®æ ‡å¯¹è±¡çš„å±æ€§å’Œæºå¯¹è±¡å…·æœ‰ç›¸åŒçš„é”®å€¼ï¼Œåˆ™åæ¥çš„æºçš„å±æ€§å°†è¦†ç›–æ—©å…ˆçš„å±æ€§ã€‚<br><code>Object.assign</code> æ–¹æ³•åªä¼šæ‹·è´æºå¯¹è±¡è‡ªèº«çš„å¹¶ä¸”å¯æšä¸¾çš„å±æ€§åˆ°ç›®æ ‡å¯¹è±¡ã€‚<br>è¯¥æ–¹æ³•ä½¿ç”¨æºå¯¹è±¡çš„[[Get]]å’Œç›®æ ‡å¯¹è±¡çš„[[Set]]ï¼Œæ‰€ä»¥å®ƒä¼šè°ƒç”¨ç›¸å…³ getter å’Œ setterã€‚å› æ­¤ï¼Œå®ƒåˆ†é…å±æ€§ï¼Œè€Œä¸ä»…ä»…æ˜¯å¤åˆ¶æˆ–å®šä¹‰æ–°çš„å±æ€§ã€‚å¦‚æœåˆå¹¶æºåŒ…å«getterï¼Œè¿™å¯èƒ½ä½¿å…¶ä¸é€‚åˆå°†æ–°å±æ€§åˆå¹¶åˆ°åŸå‹ä¸­ã€‚ä¸ºäº†å°†å±æ€§å®šä¹‰ï¼ˆåŒ…æ‹¬å…¶å¯æšä¸¾æ€§ï¼‰å¤åˆ¶åˆ°åŸå‹ï¼Œåº”ä½¿ç”¨Object.getOwnPropertyDescriptor()å’ŒObject.defineProperty() ã€‚</p><p>Stringç±»å‹å’Œ Symbol ç±»å‹çš„å±æ€§éƒ½ä¼šè¢«æ‹·è´ã€‚<br>æ³¨æ„ï¼ŒObject.assign ä¸ä¼šè·³è¿‡é‚£äº›å€¼ä¸º null æˆ– undefined çš„æºå¯¹è±¡ã€‚</p><p>é’ˆå¯¹æ·±æ‹·è´ï¼Œéœ€è¦ä½¿ç”¨å…¶ä»–æ–¹æ³•ï¼Œå› ä¸º Object.assign()æ‹·è´çš„æ˜¯å±æ€§å€¼ã€‚å‡å¦‚æºå¯¹è±¡çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒä¹Ÿåªæ‹·è´é‚£ä¸ªå¼•ç”¨å€¼ã€‚</p><h4 id="2-å¤åˆ¶å¯¹è±¡-amp-åˆå¹¶å¯¹è±¡"><a href="#2-å¤åˆ¶å¯¹è±¡-amp-åˆå¹¶å¯¹è±¡" class="headerlink" title="2.å¤åˆ¶å¯¹è±¡ &amp; åˆå¹¶å¯¹è±¡"></a>2.å¤åˆ¶å¯¹è±¡ &amp; åˆå¹¶å¯¹è±¡</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>: <span class="string">'mhy'</span>,<span class="attr">city</span>: <span class="string">'beijing'</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> obj1 = <span class="built_in">Object</span>.assign(&#123;&#125;, obj, &#123;<span class="attr">city</span>: <span class="string">'tianjin'</span>, <span class="attr">age</span>: <span class="number">22</span>&#125;); <span class="comment">//&#123;name: "mhy", city: "tianjin", age: 22&#125;</span></span><br></pre></td></tr></table></figure><h4 id="3-æ·±æ‹·è´é—®é¢˜"><a href="#3-æ·±æ‹·è´é—®é¢˜" class="headerlink" title="3.æ·±æ‹·è´é—®é¢˜"></a>3.æ·±æ‹·è´é—®é¢˜</h4><p>é’ˆå¯¹æ·±æ‹·è´ï¼Œéœ€è¦ä½¿ç”¨å…¶ä»–æ–¹æ³•ï¼Œå› ä¸º Object.assign()æ‹·è´çš„æ˜¯å±æ€§å€¼ã€‚å‡å¦‚æºå¯¹è±¡çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒä¹Ÿåªæ‹·è´é‚£ä¸ªå¼•ç”¨å€¼ã€‚<br>å¯¹è±¡çš„æ·±æ‹·è´å¯ä»¥ä½¿ç”¨<code>JSON.parse(JSON.stringify(obj))</code>å®ç°ï¼Œ ä½†æ˜¯è¯¥æ–¹æ³•åœ¨æ‹·è´æ—¶ä¼šå¿½ç•¥æ–¹æ³•å’ŒåŸå‹ã€‚è¿˜æœ‰ä¸€ç§æ–¹å¼æ˜¯é€’å½’ã€‚jQuery çš„extendæ–¹æ³•ä¹Ÿå¯ä»¥å®ç°æ·±æ‹·è´<code>$.extend(true, {}, ...)</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">  'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj1 = &#123; <span class="attr">a</span>: <span class="number">0</span> , <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="number">0</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">let</span> obj2 = <span class="built_in">Object</span>.assign(&#123;&#125;, obj1);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj2)); <span class="comment">// &#123; a: 0, b: &#123; c: 0&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">  obj1.a = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj1)); <span class="comment">// &#123; a: 1, b: &#123; c: 0&#125;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj2)); <span class="comment">// &#123; a: 0, b: &#123; c: 0&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">  obj2.a = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj1)); <span class="comment">// &#123; a: 1, b: &#123; c: 0&#125;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj2)); <span class="comment">// &#123; a: 2, b: &#123; c: 0&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">  obj2.b.c = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj1)); <span class="comment">// &#123; a: 1, b: &#123; c: 3&#125;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj2)); <span class="comment">// &#123; a: 2, b: &#123; c: 3&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·±æ‹·è´</span></span><br><span class="line">  obj1 = &#123; <span class="attr">a</span>: <span class="number">0</span> , <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="number">0</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">let</span> obj3 = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj1));</span><br><span class="line">  obj1.a = <span class="number">4</span>;</span><br><span class="line">  obj1.b.c = <span class="number">4</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj3)); <span class="comment">// &#123; a: 0, b: &#123; c: 0&#125;&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test();</span><br></pre></td></tr></table></figure><h4 id="4-æ‹·è´-symbol-ç±»å‹çš„å±æ€§"><a href="#4-æ‹·è´-symbol-ç±»å‹çš„å±æ€§" class="headerlink" title="4.æ‹·è´ symbol ç±»å‹çš„å±æ€§"></a>4.æ‹·è´ symbol ç±»å‹çš„å±æ€§</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o1 = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> o2 = &#123; [<span class="built_in">Symbol</span>(<span class="string">'foo'</span>)]: <span class="number">2</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.assign(&#123;&#125;, o1, o2);</span><br><span class="line"><span class="built_in">console</span>.log(obj); <span class="comment">// &#123; a : 1, [Symbol("foo")]: 2 &#125;</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertySymbols(obj); <span class="comment">// [Symbol(foo)]</span></span><br></pre></td></tr></table></figure><h4 id="5-ç»§æ‰¿å±æ€§å’Œä¸å¯æšä¸¾å±æ€§æ˜¯ä¸èƒ½æ‹·è´çš„"><a href="#5-ç»§æ‰¿å±æ€§å’Œä¸å¯æšä¸¾å±æ€§æ˜¯ä¸èƒ½æ‹·è´çš„" class="headerlink" title="5.ç»§æ‰¿å±æ€§å’Œä¸å¯æšä¸¾å±æ€§æ˜¯ä¸èƒ½æ‹·è´çš„"></a>5.ç»§æ‰¿å±æ€§å’Œä¸å¯æšä¸¾å±æ€§æ˜¯ä¸èƒ½æ‹·è´çš„</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(&#123;<span class="attr">foo</span>: <span class="number">1</span>&#125;, &#123; <span class="comment">// foo æ˜¯ä¸ªç»§æ‰¿å±æ€§ã€‚</span></span><br><span class="line">    bar: &#123;</span><br><span class="line">        value: <span class="number">2</span><span class="comment">// bar æ˜¯ä¸ªä¸å¯æšä¸¾å±æ€§ã€‚</span></span><br><span class="line">    &#125;,</span><br><span class="line">    baz: &#123;</span><br><span class="line">        value: <span class="number">3</span>,</span><br><span class="line">        enumerable: <span class="literal">true</span><span class="comment">// baz æ˜¯ä¸ªè‡ªèº«å¯æšä¸¾å±æ€§ã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> copy = <span class="built_in">Object</span>.assign(&#123;&#125;, obj);</span><br><span class="line"><span class="built_in">console</span>.log(copy); <span class="comment">// &#123; baz: 3 &#125;</span></span><br></pre></td></tr></table></figure><h3 id="Object-create"><a href="#Object-create" class="headerlink" title="Object.create()"></a>Object.create()</h3><p>ä½¿ç”¨æŒ‡å®šçš„åŸå‹å¯¹è±¡å’Œå±æ€§åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</p><h4 id="1-è¯­æ³•-Object-create-proto-propertiesObject"><a href="#1-è¯­æ³•-Object-create-proto-propertiesObject" class="headerlink" title="1.è¯­æ³•: Object.create(proto[, propertiesObject])"></a>1.è¯­æ³•: <code>Object.create(proto[, propertiesObject])</code></h4><h4 id="2-ç”¨-Object-createå®ç°ç±»å¼ç»§æ‰¿"><a href="#2-ç”¨-Object-createå®ç°ç±»å¼ç»§æ‰¿" class="headerlink" title="2.ç”¨ Object.createå®ç°ç±»å¼ç»§æ‰¿"></a>2.ç”¨ Object.createå®ç°ç±»å¼ç»§æ‰¿</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Shape - çˆ¶ç±»(superclass)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">Shape</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">this</span>.y = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line">Shape.prototype.move = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.x += x;</span><br><span class="line"><span class="keyword">this</span>.y += y;</span><br><span class="line"><span class="built_in">console</span>.info(<span class="string">'Shape moved.'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Rectangle - å­ç±»(subclass)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">Rectangle</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  Shape.call(<span class="keyword">this</span>); <span class="comment">// call super constructor.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­ç±»ç»­æ‰¿çˆ¶ç±»</span></span><br><span class="line">Rectangle.prototype = <span class="built_in">Object</span>.create(Shape.prototype);</span><br><span class="line">Rectangle.prototype.constructor = Rectangle;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å› ä¸ºä½¿ç”¨â€œ.prototype =...â€å,constructorä¼šæ”¹å˜ä¸ºâ€œ=...â€çš„é‚£ä¸ª</span></span><br><span class="line"><span class="comment">// constructorï¼Œæ‰€ä»¥è¦é‡æ–°æŒ‡å®š.constructor ä¸ºè‡ªèº«ã€‚</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rect = <span class="keyword">new</span> Rectangle();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Is rect an instance of Rectangle?'</span>,</span><br><span class="line">  rect <span class="keyword">instanceof</span> Rectangle); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Is rect an instance of Shape?'</span>,</span><br><span class="line">  rect <span class="keyword">instanceof</span> Shape); <span class="comment">// true</span></span><br><span class="line">rect.move(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// Outputs, 'Shape moved.'</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">Father</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">2<span class="keyword">this</span>.city = <span class="string">'beijing'</span>;</span><br><span class="line">2<span class="keyword">this</span>.lastName = <span class="string">'ma'</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">Father.prototype.where = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">2<span class="built_in">console</span>.log(<span class="string">"where? "</span>, <span class="keyword">this</span>.city)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">Son</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">2Father.call(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Son.prototype = <span class="built_in">Object</span>.create(Father.prototype);</span><br><span class="line">Son.prototype.constructor = Son</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> Son()</span><br><span class="line">s.city;<span class="comment">//</span></span><br><span class="line">s.lastName; <span class="comment">//</span></span><br><span class="line">s.where(); <span class="comment">//</span></span><br></pre></td></tr></table></figure><h4 id="3-ä½¿ç”¨æ··å…¥æ¨¡å¼ç»§æ‰¿åˆ°å¤šä¸ªå¯¹è±¡"><a href="#3-ä½¿ç”¨æ··å…¥æ¨¡å¼ç»§æ‰¿åˆ°å¤šä¸ªå¯¹è±¡" class="headerlink" title="3.ä½¿ç”¨æ··å…¥æ¨¡å¼ç»§æ‰¿åˆ°å¤šä¸ªå¯¹è±¡"></a>3.ä½¿ç”¨æ··å…¥æ¨¡å¼ç»§æ‰¿åˆ°å¤šä¸ªå¯¹è±¡</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">MyClass</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     SuperClass.call(<span class="keyword">this</span>);</span><br><span class="line">     OtherSuperClass.call(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»§æ‰¿ä¸€ä¸ªç±»</span></span><br><span class="line">MyClass.prototype = <span class="built_in">Object</span>.create(SuperClass.prototype);</span><br><span class="line"><span class="comment">// æ··åˆå…¶å®ƒ</span></span><br><span class="line"><span class="built_in">Object</span>.assign(MyClass.prototype, OtherSuperClass.prototype);</span><br><span class="line"><span class="comment">// é‡æ–°æŒ‡å®šconstructor</span></span><br><span class="line">MyClass.prototype.constructor = MyClass;</span><br><span class="line"></span><br><span class="line">MyClass.prototype.myMethod = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">// do a thing</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Object-defineProperty"><a href="#Object-defineProperty" class="headerlink" title="Object.defineProperty()"></a>Object.defineProperty()</h3><p>ç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œ å¹¶è¿”å›è¿™ä¸ªå¯¹è±¡ã€‚</p><h4 id="1-è¯­æ³•ï¼š"><a href="#1-è¯­æ³•ï¼š" class="headerlink" title="1.è¯­æ³•ï¼š"></a>1.è¯­æ³•ï¼š</h4><p><code>Object.defineProperty(obj, prop, descriptor)</code></p><h4 id="2-å‚æ•°"><a href="#2-å‚æ•°" class="headerlink" title="2.å‚æ•°"></a>2.å‚æ•°</h4><ul><li>2.1 obj<br>è¦åœ¨å…¶ä¸Šå®šä¹‰å±æ€§çš„å¯¹è±¡ã€‚<br>prop<br>è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°ã€‚</li><li>2.2 descriptor<br>å°†è¢«å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦ã€‚</li></ul><p>åœ¨ES6ä¸­ï¼Œç”±äº Symbolç±»å‹çš„ç‰¹æ®Šæ€§ï¼Œç”¨Symbolç±»å‹çš„å€¼æ¥åšå¯¹è±¡çš„keyä¸å¸¸è§„çš„å®šä¹‰æˆ–ä¿®æ”¹ä¸åŒï¼Œè€ŒObject.defineProperty æ˜¯å®šä¹‰keyä¸ºSymbolçš„å±æ€§çš„æ–¹æ³•ä¹‹ä¸€ã€‚</p><h3 id="Object-defineProperties"><a href="#Object-defineProperties" class="headerlink" title="Object.defineProperties()"></a>Object.defineProperties()</h3><p>åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰æ–°çš„å±æ€§æˆ–ä¿®æ”¹ç°æœ‰å±æ€§ï¼Œå¹¶è¿”å›è¯¥å¯¹è±¡ã€‚</p><h4 id="1-è¯­æ³•ï¼š-1"><a href="#1-è¯­æ³•ï¼š-1" class="headerlink" title="1.è¯­æ³•ï¼š"></a>1.è¯­æ³•ï¼š</h4><p><code>Object.defineProperties(obj, props)</code></p><h4 id="2-å‚æ•°-1"><a href="#2-å‚æ•°-1" class="headerlink" title="2.å‚æ•°"></a>2.å‚æ•°</h4><ul><li>2.1 <strong>obj</strong></li></ul><p>åœ¨å…¶ä¸Šå®šä¹‰æˆ–ä¿®æ”¹å±æ€§çš„å¯¹è±¡ã€‚</p><ul><li>2.2 <strong>props</strong></li></ul><blockquote><p>è¦å®šä¹‰å…¶å¯æšä¸¾å±æ€§æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦çš„å¯¹è±¡ã€‚å¯¹è±¡ä¸­å­˜åœ¨çš„å±æ€§æè¿°ç¬¦ä¸»è¦æœ‰ä¸¤ç§ï¼šæ•°æ®æè¿°ç¬¦å’Œè®¿é—®å™¨æè¿°ç¬¦ï¼ˆæ›´å¤šè¯¦æƒ…ï¼Œè¯·å‚é˜…Object.defineProperty()ï¼‰ã€‚æè¿°ç¬¦å…·æœ‰ä»¥ä¸‹é”®ï¼š</p></blockquote><ul><li><p>configurable<br>true å½“ä¸”ä»…å½“è¯¥å±æ€§æè¿°ç¬¦çš„ç±»å‹å¯ä»¥è¢«æ”¹å˜å¹¶ä¸”è¯¥å±æ€§å¯ä»¥ä»å¯¹åº”å¯¹è±¡ä¸­åˆ é™¤ã€‚<br>é»˜è®¤ä¸º false</p></li><li><p>enumerable<br>true å½“ä¸”ä»…å½“åœ¨æšä¸¾ç›¸åº”å¯¹è±¡ä¸Šçš„å±æ€§æ—¶è¯¥å±æ€§æ˜¾ç°ã€‚<br>é»˜è®¤ä¸º false</p></li><li>value<br>ä¸å±æ€§å…³è”çš„å€¼ã€‚å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„JavaScriptå€¼ï¼ˆæ•°å­—ï¼Œå¯¹è±¡ï¼Œå‡½æ•°ç­‰ï¼‰ã€‚<br>é»˜è®¤ä¸º undefined.<br>writable<br>trueå½“ä¸”ä»…å½“ä¸è¯¥å±æ€§ç›¸å…³è”çš„å€¼å¯ä»¥ç”¨assignment operatoræ”¹å˜æ—¶ã€‚<br>é»˜è®¤ä¸º false</li><li>get<br>ä½œä¸ºè¯¥å±æ€§çš„ getter å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ getter åˆ™ä¸ºundefinedã€‚å‡½æ•°è¿”å›å€¼å°†è¢«ç”¨ä½œå±æ€§çš„å€¼ã€‚<br>é»˜è®¤ä¸º undefined</li><li>set<br>ä½œä¸ºå±æ€§çš„ setter å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ setter åˆ™ä¸ºundefinedã€‚å‡½æ•°å°†ä»…æ¥å—å‚æ•°èµ‹å€¼ç»™è¯¥å±æ€§çš„æ–°å€¼ã€‚<br>é»˜è®¤ä¸º undefined<br>è¿”å›å€¼<br>ä¼ é€’ç»™å‡½æ•°çš„å¯¹è±¡ã€‚</li></ul><p><code>Object.defineProperties</code>æœ¬è´¨ä¸Šå®šä¹‰äº†obj å¯¹è±¡ä¸Špropsçš„å¯æšä¸¾å±æ€§ç›¸å¯¹åº”çš„æ‰€æœ‰å±æ€§ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(obj, &#123;</span><br><span class="line"><span class="string">'property1'</span>: &#123;</span><br><span class="line">    value: <span class="literal">true</span>,</span><br><span class="line">    writable: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line"><span class="string">'property2'</span>: &#123;</span><br><span class="line">    value: <span class="string">'Hello'</span>,</span><br><span class="line">    writable: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">// etc. etc.</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h3 id="Object-entries"><a href="#Object-entries" class="headerlink" title="Object.entries()"></a>Object.entries()</h3><p>è¿”å›ç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„[key, value]æ•°ç»„ã€‚</p><h3 id="Object-freeze"><a href="#Object-freeze" class="headerlink" title="Object.freeze()"></a>Object.freeze()</h3><p>å†»ç»“å¯¹è±¡ï¼šå…¶ä»–ä»£ç ä¸èƒ½åˆ é™¤æˆ–æ›´æ”¹ä»»ä½•å±æ€§ã€‚</p><h3 id="Object-getOwnPropertyDescriptor"><a href="#Object-getOwnPropertyDescriptor" class="headerlink" title="Object.getOwnPropertyDescriptor()"></a>Object.getOwnPropertyDescriptor()</h3><p>è¿”å›å¯¹è±¡æŒ‡å®šçš„å±æ€§é…ç½®ã€‚</p><h3 id="Object-getOwnPropertyNames"><a href="#Object-getOwnPropertyNames" class="headerlink" title="Object.getOwnPropertyNames()"></a>Object.getOwnPropertyNames()</h3><p>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒåŒ…å«äº†æŒ‡å®šå¯¹è±¡æ‰€æœ‰çš„å¯æšä¸¾æˆ–ä¸å¯æšä¸¾çš„å±æ€§åã€‚</p><h3 id="Object-getOwnPropertySymbols"><a href="#Object-getOwnPropertySymbols" class="headerlink" title="Object.getOwnPropertySymbols()"></a>Object.getOwnPropertySymbols()</h3><p>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒåŒ…å«äº†æŒ‡å®šå¯¹è±¡è‡ªèº«æ‰€æœ‰çš„ç¬¦å·å±æ€§ã€‚</p><h3 id="Object-getPrototypeOf"><a href="#Object-getPrototypeOf" class="headerlink" title="Object.getPrototypeOf()"></a>Object.getPrototypeOf()</h3><p>è¿”å›æŒ‡å®šå¯¹è±¡çš„åŸå‹å¯¹è±¡ã€‚</p><h3 id="Object-is"><a href="#Object-is" class="headerlink" title="Object.is()"></a>Object.is()</h3><p>æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒã€‚æ‰€æœ‰ NaN å€¼éƒ½ç›¸ç­‰ï¼ˆè¿™ä¸==å’Œ===ä¸åŒï¼‰ã€‚</p><h3 id="Object-isExtensible"><a href="#Object-isExtensible" class="headerlink" title="Object.isExtensible()"></a>Object.isExtensible()</h3><p>åˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯æ‰©å±•ã€‚</p><h3 id="Object-isFrozen"><a href="#Object-isFrozen" class="headerlink" title="Object.isFrozen()"></a>Object.isFrozen()</h3><p>åˆ¤æ–­å¯¹è±¡æ˜¯å¦å·²ç»å†»ç»“ã€‚</p><h3 id="Object-isSealed"><a href="#Object-isSealed" class="headerlink" title="Object.isSealed()"></a>Object.isSealed()</h3><p>åˆ¤æ–­å¯¹è±¡æ˜¯å¦å·²ç»å¯†å°ã€‚</p><h3 id="Object-keys"><a href="#Object-keys" class="headerlink" title="Object.keys()"></a>Object.keys()</h3><p>è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§åç§°çš„æ•°ç»„ã€‚</p><h3 id="Object-preventExtensions"><a href="#Object-preventExtensions" class="headerlink" title="Object.preventExtensions()"></a>Object.preventExtensions()</h3><p>é˜²æ­¢å¯¹è±¡çš„ä»»ä½•æ‰©å±•ã€‚</p><h3 id="Object-seal"><a href="#Object-seal" class="headerlink" title="Object.seal()"></a>Object.seal()</h3><p>é˜²æ­¢å…¶ä»–ä»£ç åˆ é™¤å¯¹è±¡çš„å±æ€§ã€‚</p><h3 id="Object-setPrototypeOf"><a href="#Object-setPrototypeOf" class="headerlink" title="Object.setPrototypeOf()"></a>Object.setPrototypeOf()</h3><p>è®¾ç½®å¯¹è±¡çš„åŸå‹ï¼ˆå³å†…éƒ¨[[Prototype]]å±æ€§ï¼‰ã€‚</p><h3 id="Object-values"><a href="#Object-values" class="headerlink" title="Object.values()"></a>Object.values()</h3><p>è¿”å›ç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å€¼çš„æ•°ç»„ã€‚</p><h2 id="3-Object-å®ä¾‹å’ŒObject-åŸå‹å¯¹è±¡"><a href="#3-Object-å®ä¾‹å’ŒObject-åŸå‹å¯¹è±¡" class="headerlink" title="3.Object å®ä¾‹å’ŒObject åŸå‹å¯¹è±¡:"></a>3.Object å®ä¾‹å’ŒObject åŸå‹å¯¹è±¡:</h2><p>JavaScriptä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½æ¥è‡ªObjectï¼›æ‰€æœ‰å¯¹è±¡ä»Object.prototypeç»§æ‰¿æ–¹æ³•å’Œå±æ€§ï¼Œå°½ç®¡å®ƒä»¬å¯èƒ½è¢«è¦†ç›–ã€‚ä¾‹å¦‚ï¼Œå…¶ä»–æ„é€ å‡½æ•°çš„åŸå‹å°†è¦†ç›–constructorå±æ€§å¹¶æä¾›è‡ªå·±çš„toString()æ–¹æ³•ã€‚ObjectåŸå‹å¯¹è±¡çš„æ›´æ”¹å°†ä¼ æ’­åˆ°æ‰€æœ‰å¯¹è±¡ï¼Œé™¤éå—åˆ°è¿™äº›æ›´æ”¹çš„å±æ€§å’Œæ–¹æ³•å°†æ²¿åŸå‹é“¾è¿›ä¸€æ­¥è¦†ç›–ã€‚</p><h3 id="Object-prototype-defineGetter"><a href="#Object-prototype-defineGetter" class="headerlink" title="Object.prototype.defineGetter()"></a>Object.prototype.<strong>defineGetter</strong>()</h3><p>å…³è”ä¸€ä¸ªå‡½æ•°åˆ°ä¸€ä¸ªå±æ€§ã€‚è®¿é—®è¯¥å‡½æ•°æ—¶ï¼Œæ‰§è¡Œè¯¥å‡½æ•°å¹¶è¿”å›å…¶è¿”å›å€¼ã€‚</p><h3 id="Object-prototype-defineSetter"><a href="#Object-prototype-defineSetter" class="headerlink" title="Object.prototype.defineSetter()"></a>Object.prototype.<strong>defineSetter</strong>()</h3><p>å…³è”ä¸€ä¸ªå‡½æ•°åˆ°ä¸€ä¸ªå±æ€§ã€‚è®¾ç½®è¯¥å‡½æ•°æ—¶ï¼Œæ‰§è¡Œè¯¥ä¿®æ”¹å±æ€§çš„å‡½æ•°ã€‚</p><h3 id="Object-prototype-lookupGetter"><a href="#Object-prototype-lookupGetter" class="headerlink" title="Object.prototype.lookupGetter()"></a>Object.prototype.<strong>lookupGetter</strong>()</h3><p>è¿”å›ä½¿ç”¨ <strong>defineGetter</strong> å®šä¹‰çš„æ–¹æ³•å‡½æ•° ã€‚</p><h3 id="Object-prototype-lookupSetter"><a href="#Object-prototype-lookupSetter" class="headerlink" title="Object.prototype.lookupSetter()"></a>Object.prototype.<strong>lookupSetter</strong>()</h3><p>è¿”å›ä½¿ç”¨ <strong>defineSetter</strong> å®šä¹‰çš„æ–¹æ³•å‡½æ•°ã€‚</p><h3 id="Object-prototype-hasOwnProperty"><a href="#Object-prototype-hasOwnProperty" class="headerlink" title="Object.prototype.hasOwnProperty()"></a>Object.prototype.hasOwnProperty()</h3><p>è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ ï¼Œè¡¨ç¤ºæŸä¸ªå¯¹è±¡æ˜¯å¦å«æœ‰æŒ‡å®šçš„å±æ€§ï¼Œè€Œä¸”æ­¤å±æ€§éåŸå‹é“¾ç»§æ‰¿çš„ã€‚</p><h3 id="Object-prototype-isPrototypeOf"><a href="#Object-prototype-isPrototypeOf" class="headerlink" title="Object.prototype.isPrototypeOf()"></a>Object.prototype.isPrototypeOf()</h3><p>è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŒ‡å®šçš„å¯¹è±¡æ˜¯å¦åœ¨æœ¬å¯¹è±¡çš„åŸå‹é“¾ä¸­ã€‚</p><h3 id="Object-prototype-propertyIsEnumerable"><a href="#Object-prototype-propertyIsEnumerable" class="headerlink" title="Object.prototype.propertyIsEnumerable()"></a>Object.prototype.propertyIsEnumerable()</h3><p>åˆ¤æ–­æŒ‡å®šå±æ€§æ˜¯å¦å¯æšä¸¾ï¼Œå†…éƒ¨å±æ€§è®¾ç½®å‚è§ ECMAScript [[Enumerable]] attribute ã€‚</p><h3 id="Object-prototype-toSource"><a href="#Object-prototype-toSource" class="headerlink" title="Object.prototype.toSource()"></a>Object.prototype.toSource()</h3><p>è¿”å›å­—ç¬¦ä¸²è¡¨ç¤ºæ­¤å¯¹è±¡çš„æºä»£ç å½¢å¼ï¼Œå¯ä»¥ä½¿ç”¨æ­¤å­—ç¬¦ä¸²ç”Ÿæˆä¸€ä¸ªæ–°çš„ç›¸åŒçš„å¯¹è±¡ã€‚</p><h3 id="Object-prototype-toLocaleString"><a href="#Object-prototype-toLocaleString" class="headerlink" title="Object.prototype.toLocaleString()"></a>Object.prototype.toLocaleString()</h3><p>ç›´æ¥è°ƒç”¨ toString()æ–¹æ³•ã€‚</p><h3 id="Object-prototype-toString"><a href="#Object-prototype-toString" class="headerlink" title="Object.prototype.toString()"></a>Object.prototype.toString()</h3><p>è¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚</p><h3 id="Object-prototype-unwatch"><a href="#Object-prototype-unwatch" class="headerlink" title="Object.prototype.unwatch()"></a>Object.prototype.unwatch()</h3><p>ç§»é™¤å¯¹è±¡æŸä¸ªå±æ€§çš„ç›‘å¬ã€‚</p><h3 id="Object-prototype-valueOf"><a href="#Object-prototype-valueOf" class="headerlink" title="Object.prototype.valueOf()"></a>Object.prototype.valueOf()</h3><p>è¿”å›æŒ‡å®šå¯¹è±¡çš„åŸå§‹å€¼ã€‚</p><h3 id="Object-prototype-watch"><a href="#Object-prototype-watch" class="headerlink" title="Object.prototype.watch()"></a>Object.prototype.watch()</h3><p>ç»™å¯¹è±¡çš„æŸä¸ªå±æ€§å¢åŠ ç›‘å¬ã€‚</p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> Object </tag></tags></entry><entry><title>é¢å‘å¯¹è±¡å’Œç»§æ‰¿</title><link href="/oop-and-inherit.html"/><url>/oop-and-inherit.html</url><content type="html"><![CDATA[<p>é¢å‘å¯¹è±¡ç¼–ç¨‹æ˜¯ç›®å‰æœ€æµè¡Œçš„ç¼–ç¨‹æ–¹å¼ä¹‹ä¸€ã€‚<br><a id="more"></a></p><h3 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h3><ul><li>å°è£… ã€ ç»§æ‰¿ã€ å¤šæ€</li><li>å±æ€§ property</li><li>æ–¹æ³• method</li></ul><h3 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h3><h4 id="1-å·¥å‚å‡½æ•°"><a href="#1-å·¥å‚å‡½æ•°" class="headerlink" title="1.å·¥å‚å‡½æ•°"></a>1.å·¥å‚å‡½æ•°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span>  s = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">2<span class="keyword">return</span> &#123;</span><br><span class="line">22a: <span class="number">1</span></span><br><span class="line">2&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="2-æ„é€ å‡½æ•°-constructor"><a href="#2-æ„é€ å‡½æ•°-constructor" class="headerlink" title="2.æ„é€ å‡½æ•°  constructor"></a>2.æ„é€ å‡½æ•°  constructor</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">2<span class="keyword">this</span>.a = <span class="string">'a'</span>;</span><br><span class="line">2<span class="keyword">this</span>.b = <span class="string">'b'</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å¯¹è±¡æ˜¯å¼•ç”¨ç±»å‹ï¼Œç›´æ¥èµ‹å€¼åªæ˜¯æŠŠåœ°å€èµ‹å€¼ï¼Œæ”¹å˜å¯¹è±¡å±æ€§çš„æ—¶å€™å¯èƒ½ä¸¤ä¸ªå¯¹è±¡éƒ½ä¼šå˜</span></span><br><span class="line"><span class="keyword">var</span> s3 = s2</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s4 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">2<span class="keyword">this</span>.a = <span class="string">'a'</span>;</span><br><span class="line">2<span class="keyword">this</span>.b = <span class="string">'b'</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">s4.prototype.c = <span class="string">'c'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p  = <span class="keyword">new</span> s4()ï¼›</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> s4();</span><br><span class="line"></span><br><span class="line">p.__proto__ === s4.prototype  <span class="comment">// true</span></span><br><span class="line">p1.__proto__ === p.__proto__  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="å®ä¾‹å…±äº«å±æ€§å’Œæ–¹æ³•"><a href="#å®ä¾‹å…±äº«å±æ€§å’Œæ–¹æ³•" class="headerlink" title="å®ä¾‹å…±äº«å±æ€§å’Œæ–¹æ³•"></a>å®ä¾‹å…±äº«å±æ€§å’Œæ–¹æ³•</h3><p>ç”¨ æ„é€ å‡½æ•° + åŸå‹é“¾  å®ç°å°è£…å’Œç»§æ‰¿<br>è°ƒç”¨new æ“ä½œç¬¦ï¼Œ å¼€è¾Ÿå†…å­˜ç©ºé—´, è¿”å›this</p><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p> parent class &amp; child class<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> parent = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">2<span class="keyword">this</span>.name = name;</span><br><span class="line">2<span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child = <span class="function"><span class="keyword">function</span>(<span class="params">name, age, title</span>) </span>&#123;</span><br><span class="line">2<span class="keyword">this</span>.title = title;</span><br><span class="line">2<span class="comment">// call ç¬¬ä¸€ä¸ªå‚æ•°æ‰‹åŠ¨æŒ‡å®šthisï¼Œ</span></span><br><span class="line">2parent.call(<span class="keyword">this</span>, name, age);</span><br><span class="line">2child.prototype.__proto__ = parent.prototype;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">child.prototype.d = <span class="string">'d'</span>;</span><br><span class="line"><span class="keyword">new</span> child(<span class="string">'mhy'</span>, <span class="number">11</span>, <span class="string">'student'</span>);</span><br><span class="line"><span class="comment">// child.prototype = new  parent('mhy', 10);</span></span><br></pre></td></tr></table></figure></p><p>| - title : â€˜studentâ€™<br>| - name : â€˜mhyâ€™<br>| - age : â€˜11â€™<br>| - <strong>proto</strong><br>    | - -d : â€˜dâ€™<br>    | - <strong>proto</strong><br>        | -c : â€˜câ€™<br>             | - Objectâ€¦</p><p>Object.create(proto[. propertiesObject]</p><p>åŒºåˆ«:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">child.prototype = <span class="built_in">Object</span>.create(parent.prototype)</span><br><span class="line">child.prototype.__proto__ = parent.prototype;</span><br></pre></td></tr></table></figure></p><p>å‰è€…æŒ‡å‘æ–°çš„å¼•ç”¨ï¼Œ åè€…æ˜¯åœ¨åŸæ¥çš„å¼•ç”¨åŸºç¡€ä¸ŠæŒ‚è½½æ–°çš„å±æ€§</p><p>ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨Object.create()æ¥å®ç°ç±»å¼ç»§æ‰¿ã€‚è¿™æ˜¯ä¸€ä¸ªæ‰€æœ‰ç‰ˆæœ¬JavaScriptéƒ½æ”¯æŒçš„å•ç»§æ‰¿ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Shape - superclass</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">Shape</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">this</span>.y = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// superclass method</span></span><br><span class="line">Shape.prototype.move = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.x += x;</span><br><span class="line"><span class="keyword">this</span>.y += y;</span><br><span class="line"><span class="built_in">console</span>.info(<span class="string">'Shape moved.'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Rectangle - subclass</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">Rectangle</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  Shape.call(<span class="keyword">this</span>); <span class="comment">// call super constructor.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// subclass extends superclass</span></span><br><span class="line">Rectangle.prototype = <span class="built_in">Object</span>.create(Shape.prototype);</span><br><span class="line">Rectangle.prototype.constructor = Rectangle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> rect = <span class="keyword">new</span> Rectangle();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Is rect an instance of Rectangle?'</span>,</span><br><span class="line">  rect <span class="keyword">instanceof</span> Rectangle); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Is rect an instance of Shape?'</span>,</span><br><span class="line">  rect <span class="keyword">instanceof</span> Shape); <span class="comment">// true</span></span><br><span class="line">rect.move(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// Outputs, 'Shape moved.'`</span></span><br></pre></td></tr></table></figure></p><p>å¦‚æœå¸Œæœ›èƒ½ç»§æ‰¿åˆ°å¤šä¸ªå¯¹è±¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ··å…¥çš„æ–¹å¼ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">MyClass</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     SuperClass.call(<span class="keyword">this</span>);</span><br><span class="line">     OtherSuperClass.call(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// inherit one class</span></span><br><span class="line">MyClass.prototype = <span class="built_in">Object</span>.create(SuperClass.prototype);</span><br><span class="line"><span class="comment">// mixin another</span></span><br><span class="line"><span class="built_in">Object</span>.assign(MyClass.prototype, OtherSuperClass.prototype);</span><br><span class="line"><span class="comment">// re-assign constructor</span></span><br><span class="line">MyClass.prototype.constructor = MyClass;</span><br><span class="line"></span><br><span class="line">MyClass.prototype.myMethod = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">// do a thing</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h3 id="ES6-å®ç°ç»§æ‰¿-super-æ–¹æ³•ã€-extends-æŒ‡å‘çˆ¶ç±»çš„æ–¹æ³•"><a href="#ES6-å®ç°ç»§æ‰¿-super-æ–¹æ³•ã€-extends-æŒ‡å‘çˆ¶ç±»çš„æ–¹æ³•" class="headerlink" title="ES6 å®ç°ç»§æ‰¿ super æ–¹æ³•ã€ extends æŒ‡å‘çˆ¶ç±»çš„æ–¹æ³•"></a>ES6 å®ç°ç»§æ‰¿ super æ–¹æ³•ã€ extends æŒ‡å‘çˆ¶ç±»çš„æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span><span class="title">A</span></span>&#123;</span><br><span class="line">2<span class="keyword">constructor</span>(name, age) &#123;</span><br><span class="line">22<span class="keyword">this</span>.name = naem;</span><br><span class="line">22<span class="keyword">this</span>.age = age;</span><br><span class="line">2&#125;</span><br><span class="line">2eat() &#123;</span><br><span class="line">22<span class="built_in">console</span>.log(<span class="string">'eat'</span>);</span><br><span class="line">2&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span><span class="title">B</span><span class="keyword">extends</span><span class="title">A</span></span>&#123;</span><br><span class="line">2<span class="keyword">constructor</span>(naem, age, title) &#123;</span><br><span class="line">22<span class="keyword">super</span>(name, age);</span><br><span class="line">22<span class="keyword">this</span>.title = title;</span><br><span class="line">2&#125;</span><br><span class="line">2work() &#123;</span><br><span class="line">22<span class="built_in">console</span>.log(<span class="string">'work'</span>);</span><br><span class="line">2&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c = <span class="keyword">new</span> B(<span class="string">'mhy'</span>, <span class="number">12</span>, <span class="string">'student'</span>);</span><br><span class="line">c.eat();</span><br><span class="line">c.work();</span><br></pre></td></tr></table></figure><p><code>B</code> çš„ <code>super()</code>æŒ‡å‘<code>A</code>çš„æ„é€ å‡½æ•°ã€‚</p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> é¢å‘å¯¹è±¡ </tag><tag> ç»§æ‰¿ </tag></tags></entry><entry><title>ä½¿ç”¨hexo+githubæ­å»ºå…è´¹ä¸ªäººåšå®¢</title><link href="/hexo-for-blog.html"/><url>/hexo-for-blog.html</url><content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ï¼ˆæœ¬æ–‡æ˜¯åˆšå¼€å§‹å­¦ä¹ hexoæ­å»ºåšå®¢çš„æ—¶å€™å‚è€ƒäº†å¾ˆå¤šåšå®¢è®°å½•çš„ï¼Œå†…å®¹æ¯”è¾ƒåˆ†æ•£ã€‚åæ¥å› å¤šæ¬¡åœ¨ä¸åŒè®¾å¤‡ä¸Šæ­å»ºç¯å¢ƒï¼Œæ€»ç»“äº†ä¸€äº›ä¸ªäººè®¤ä¸ºæ¯”è¾ƒæœ‰ç”¨çš„çŸ¥è¯†ç‚¹ï¼Œå°¤å…¶æ˜¯å¤šè®¾å¤‡ä¸‹æ­å»ºæ–¹é¢ï¼Œè®°å½•åœ¨è¯¥é¡¹ç›®çš„<a href="https://github.com/mhy-web/mhy-web.github.io/blob/hexo/README.md" target="_blank" rel="noopener">README</a>ä¸‹ï¼Œæ¬¢è¿æŸ¥é˜…ï¼‰ã€‚</p><p>æœ€å¼€å§‹æ­å»ºéƒ¨åˆ†å‚è€ƒäº†<a href="http://blog.liuxianan.com/build-blog-website-by-hexo-github.html" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ï¼Œè®°å½•äº†hexo+githubæ­å»ºåšå®¢çš„æ–¹æ¡ˆï¼Œåé¢åˆæ–°å¢äº†è¯„è®ºã€é¡µé¢è®¿é—®é‡ã€httpsæœåŠ¡ã€ä¸»é¢˜é…ç½®ã€å¤šç»ˆç«¯é…ç½®ã€ç™¾åº¦å’Œgoogleç«™é•¿éªŒè¯ã€ ç™¾åº¦ç»Ÿè®¡ã€google analyticsã€SEOä¼˜åŒ–ç­‰éƒ¨åˆ†ï¼Œæœé›†äº†å¾ˆå¤šèµ„æ–™ï¼Œå¯èƒ½æŸäº›éƒ¨åˆ†ä¸æ˜¯å¾ˆè¯¦ç»†ä½†æ˜¯æ¯”è¾ƒå…¨é¢ã€‚</p><a id="more"></a><p>ä½¿ç”¨github pagesæœåŠ¡æ­å»ºåšå®¢çš„å¥½å¤„æœ‰ï¼š</p><blockquote><ul><li>å…¨æ˜¯é™æ€æ–‡ä»¶ï¼Œè®¿é—®é€Ÿåº¦å¿«ï¼›</li><li>å…è´¹æ–¹ä¾¿ï¼Œä¸ç”¨èŠ±ä¸€åˆ†é’±å°±å¯ä»¥æ­å»ºä¸€ä¸ªè‡ªç”±çš„ä¸ªäººåšå®¢ï¼Œä¸éœ€è¦æœåŠ¡å™¨ä¸éœ€è¦åå°ï¼›</li><li>å¯ä»¥éšæ„ç»‘å®šè‡ªå·±çš„åŸŸåï¼Œä¸ä»”ç»†çœ‹çš„è¯æ ¹æœ¬çœ‹ä¸å‡ºæ¥ä½ çš„ç½‘ç«™æ˜¯åŸºäºgithubçš„ï¼›</li><li>æ•°æ®ç»å¯¹å®‰å…¨ï¼ŒåŸºäºgithubçš„ç‰ˆæœ¬ç®¡ç†ï¼Œæƒ³æ¢å¤åˆ°å“ªä¸ªå†å²ç‰ˆæœ¬éƒ½è¡Œï¼›</li><li>åšå®¢å†…å®¹å¯ä»¥è½»æ¾æ‰“åŒ…ã€è½¬ç§»ã€å‘å¸ƒåˆ°å…¶å®ƒå¹³å°ï¼›</li><li>å…¶ä»–ä¼˜ç‚¹</li></ul></blockquote><h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><p>åœ¨å¼€å§‹ä¸€åˆ‡ä¹‹å‰ï¼Œä½ å¿…é¡»å·²ç»ï¼š</p><ul><li>æœ‰ä¸€ä¸ªgithubè´¦å·ï¼Œæ²¡æœ‰çš„è¯å»æ³¨å†Œä¸€ä¸ªï¼›</li><li>å®‰è£…äº†node.jsã€npmï¼Œå¹¶äº†è§£ç›¸å…³åŸºç¡€çŸ¥è¯†ï¼›</li><li>å®‰è£…äº†gitå’Œå‘½ä»¤è¡Œå·¥å…·</li></ul><h2 id="æ­å»ºgithubåšå®¢"><a href="#æ­å»ºgithubåšå®¢" class="headerlink" title="æ­å»ºgithubåšå®¢"></a>æ­å»ºgithubåšå®¢</h2><h3 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h3><p>æ–°å»ºä¸€ä¸ªåä¸º<code>ä½ çš„ç”¨æˆ·å.github.io</code>çš„ä»“åº“ï¼Œæ¯”å¦‚è¯´ï¼Œå¦‚æœä½ çš„githubç”¨æˆ·åæ˜¯testï¼Œé‚£ä¹ˆä½ å°±æ–°å»º<code>test.github.io</code>çš„ä»“åº“ï¼ˆå¿…é¡»æ˜¯ä½ çš„ç”¨æˆ·åï¼Œå…¶å®ƒåç§°æ— æ•ˆï¼‰ï¼Œå°†æ¥ä½ çš„ç½‘ç«™è®¿é—®åœ°å€å°±æ˜¯ - <a href="http://test.github.io" target="_blank" rel="noopener">http://test.github.io</a> äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Ÿ</p><p>ç”±æ­¤å¯è§ï¼Œæ¯ä¸€ä¸ªgithubè´¦æˆ·æœ€å¤šåªèƒ½åˆ›å»ºä¸€ä¸ªè¿™æ ·å¯ä»¥ç›´æ¥ä½¿ç”¨åŸŸåè®¿é—®çš„ä»“åº“ã€‚</p><p>å‡ ä¸ªæ³¨æ„çš„åœ°æ–¹ï¼š</p><blockquote><ul><li>æ³¨å†Œçš„é‚®ç®±ä¸€å®šè¦éªŒè¯ï¼Œå¦åˆ™ä¸ä¼šæˆåŠŸï¼›</li><li>ä»“åº“åå­—å¿…é¡»æ˜¯ï¼šusername.github.ioï¼Œå…¶ä¸­usernameæ˜¯ä½ çš„ç”¨æˆ·åï¼›</li><li>ä»“åº“åˆ›å»ºæˆåŠŸä¸ä¼šç«‹å³ç”Ÿæ•ˆï¼Œéœ€è¦è¿‡ä¸€æ®µæ—¶é—´ï¼Œå¤§æ¦‚10-30åˆ†é’Ÿï¼Œæˆ–è€…æ›´ä¹…ï¼Œæˆ‘çš„ç­‰äº†åŠä¸ªå°æ—¶æ‰ç”Ÿæ•ˆï¼›</li><li>åˆ›å»ºæˆåŠŸåï¼Œé»˜è®¤ä¼šåœ¨ä½ è¿™ä¸ªä»“åº“é‡Œç”Ÿæˆä¸€äº›ç¤ºä¾‹é¡µé¢ï¼Œä»¥åä½ çš„ç½‘ç«™æ‰€æœ‰ä»£ç éƒ½æ˜¯æ”¾åœ¨è¿™ä¸ªä»“åº“é‡Œå•¦ã€‚</li></ul></blockquote><h3 id="ç»‘å®šåŸŸå"><a href="#ç»‘å®šåŸŸå" class="headerlink" title="ç»‘å®šåŸŸå"></a>ç»‘å®šåŸŸå</h3><p>å½“ç„¶ï¼Œä½ ä¸ç»‘å®šåŸŸåè‚¯å®šä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå°±ç”¨é»˜è®¤çš„ <code>xxx.github.io</code>æ¥è®¿é—®ï¼Œå¦‚æœä½ æƒ³æ›´ä¸ªæ€§ä¸€ç‚¹ï¼Œæƒ³æ‹¥æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„åŸŸåï¼Œé‚£ä¹Ÿæ˜¯OKçš„ã€‚</p><p>é¦–å…ˆä½ è¦æ³¨å†Œä¸€ä¸ªåŸŸåï¼ŒåŸŸåæ³¨å†Œä»¥å‰æ€»æ˜¯æ¨èå»é˜¿é‡Œäº‘ï¼Œä»·æ ¼ä¹Ÿä¸è´µï¼Œæ¯•ç«Ÿæ˜¯å¤§å…¬å¸ï¼Œæ”¾å¿ƒï¼</p><p>ç»‘å®šåŸŸååˆ†2ç§æƒ…å†µï¼šå¸¦wwwå’Œä¸å¸¦wwwçš„ã€‚</p><p>åŸŸåé…ç½®æœ€å¸¸è§æœ‰2ç§æ–¹å¼ï¼ŒCNAMEå’ŒAè®°å½•ï¼ŒCNAMEå¡«å†™åŸŸåï¼ŒAè®°å½•å¡«å†™IPï¼Œç”±äºä¸å¸¦wwwæ–¹å¼åªèƒ½é‡‡ç”¨Aè®°å½•ï¼Œæ‰€ä»¥å¿…é¡»å…ˆpingä¸€ä¸‹ä½ çš„ç”¨æˆ·å.github.ioçš„IPï¼Œç„¶ååˆ°ä½ çš„åŸŸåDNSè®¾ç½®é¡µï¼Œå°†Aè®°å½•æŒ‡å‘ä½ pingå‡ºæ¥çš„IPï¼Œå°†CNAMEæŒ‡å‘ä½ çš„ç”¨æˆ·å.github.ioï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ— è®ºæ˜¯å¦æ·»åŠ wwwéƒ½å¯ä»¥è®¿é—®ï¼Œå¦‚ä¸‹ï¼š<br><img src="http://image.liuxianan.com/201608/20160823_191336_238_8683.png" height="200" width="460" alt="å›¾ç‰‡"><br>ç„¶ååˆ°ä½ çš„githubé¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªåä¸ºCNAMEçš„æ–‡ä»¶ï¼ˆæ— åç¼€ï¼‰ï¼Œé‡Œé¢å¡«å†™ä½ çš„åŸŸåï¼ŒåŠ ä¸åŠ wwwçœ‹ä½ è‡ªå·±å–œå¥½ï¼Œå› ä¸ºç»æµ‹è¯•ï¼š</p><blockquote><ul><li>å¦‚æœä½ å¡«å†™çš„æ˜¯æ²¡æœ‰wwwçš„ï¼Œæ¯”å¦‚ mygit.meï¼Œé‚£ä¹ˆæ— è®ºæ˜¯è®¿é—® <a href="http://www.mygit.me" target="_blank" rel="noopener">http://www.mygit.me</a> è¿˜æ˜¯ <a href="http://mygit.me" target="_blank" rel="noopener">http://mygit.me</a> ï¼Œéƒ½ä¼šè‡ªåŠ¨è·³è½¬åˆ° http://&gt;- mygit.me</li><li>å¦‚æœä½ å¡«å†™çš„æ˜¯å¸¦wwwçš„ï¼Œæ¯”å¦‚ <a href="http://www.mygit.me" target="_blank" rel="noopener">www.mygit.me</a> ï¼Œé‚£ä¹ˆæ— è®ºæ˜¯è®¿é—® <a href="http://www.mygit.me" target="_blank" rel="noopener">http://www.mygit.me</a> è¿˜æ˜¯ <a href="http://mygit.me" target="_blank" rel="noopener">http://mygit.me</a> ï¼Œéƒ½ä¼šè‡ªåŠ¨è·³è½¬åˆ° http://&gt;- <a href="http://www.mygit.me" target="_blank" rel="noopener">www.mygit.me</a></li><li>å¦‚æœä½ å¡«å†™çš„æ˜¯å…¶å®ƒå­åŸŸåï¼Œæ¯”å¦‚ abc.mygit.meï¼Œé‚£ä¹ˆè®¿é—® <a href="http://abc.mygit.me" target="_blank" rel="noopener">http://abc.mygit.me</a> æ²¡é—®é¢˜ï¼Œä½†æ˜¯è®¿é—® <a href="http://mygit.me" target="_blank" rel="noopener">http://mygit.me</a> ï¼Œä¸ä¼šè‡ªåŠ¨è·³è½¬åˆ° &gt;- <a href="http://abc.mygit.me" target="_blank" rel="noopener">http://abc.mygit.me</a></li><li>å¦å¤–è¯´ä¸€å¥ï¼Œåœ¨ä½ ç»‘å®šäº†æ–°åŸŸåä¹‹åï¼ŒåŸæ¥çš„ä½ çš„ç”¨æˆ·å.github.ioå¹¶æ²¡æœ‰å¤±æ•ˆï¼Œè€Œæ˜¯ä¼šè‡ªåŠ¨è·³è½¬åˆ°ä½ çš„æ–°åŸŸåã€‚</li></ul></blockquote><p><em>æ³¨ï¼šåæœŸè¡¥å……ï¼Œä¸»åŸŸåå‰å¸¦ä¸å¸¦<code>www</code>åœ¨ç™¾åº¦ç«™é•¿éªŒè¯æ—¶æ—¶åŒºåˆ†çš„ï¼Œæ‰€æœ‰å¿…é¡»æ˜ç¡®åœ¨æ‰€æœ‰æƒ…å†µä¸‹ä¸€è‡´ï¼Œå¦‚æœä¸å¸¦<code>www</code>å¯ä»¥åœ¨åŸŸåè§£ææ—¶è®¾ç½®è‡ªåŠ¨è·³è½¬ã€‚</em></p><h2 id="é…ç½®SSH-key"><a href="#é…ç½®SSH-key" class="headerlink" title="é…ç½®SSH key"></a>é…ç½®SSH key</h2><p>ä¸ºä»€ä¹ˆè¦é…ç½®è¿™ä¸ªå‘¢ï¼Ÿå› ä¸ºä½ æäº¤ä»£ç è‚¯å®šè¦æ‹¥æœ‰ä½ çš„githubæƒé™æ‰å¯ä»¥ï¼Œä½†æ˜¯ç›´æ¥ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç å¤ªä¸å®‰å…¨äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ssh keyæ¥è§£å†³æœ¬åœ°å’ŒæœåŠ¡å™¨çš„è¿æ¥é—®é¢˜ã€‚<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh <span class="comment"># æŸ¥çœ‹è¯¥æ–‡ä»¶å¤¹ä¸‹æœ‰æ²¡æœ‰ssh key æ–‡ä»¶</span></span><br></pre></td></tr></table></figure></p><p>å¦‚æœæ²¡æœ‰ssh keyï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºè‡ªå·±çš„keyã€‚<br><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -<span class="built_in">t</span> rsa -C <span class="string">"é‚®ä»¶åœ°å€"</span></span><br></pre></td></tr></table></figure></p><p>ç„¶åè¿ç»­3æ¬¡å›è½¦ï¼Œæœ€ç»ˆä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶åœ¨ç”¨æˆ·ç›®å½•ä¸‹ï¼Œæ‰“å¼€ç”¨æˆ·ç›®å½•ï¼Œæ‰¾åˆ°<code>~/.ssh/id_rsa.pub</code>æ–‡ä»¶ï¼Œæ‰“å¼€å¹¶å¤åˆ¶é‡Œé¢çš„å†…å®¹ï¼Œæ‰“å¼€ä½ çš„githubä¸»é¡µï¼Œè¿›å…¥ä¸ªäººè®¾ç½® -&gt; SSH and GPG keys -&gt; New SSH keyï¼š<br><img src="http://image.liuxianan.com/201608/20160818_143914_495_9084.png" height="200" width="444" alt="å›¾ç‰‡"><br>å°†åˆšå¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°keyé‚£é‡Œï¼Œtitleéšä¾¿å¡«ï¼Œä¿å­˜ã€‚</p><h3 id="æµ‹è¯•æ˜¯å¦æˆåŠŸ"><a href="#æµ‹è¯•æ˜¯å¦æˆåŠŸ" class="headerlink" title="æµ‹è¯•æ˜¯å¦æˆåŠŸ"></a>æµ‹è¯•æ˜¯å¦æˆåŠŸ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com <span class="comment"># æ³¨æ„é‚®ç®±åœ°å€ä¸ç”¨æ”¹</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæç¤º<code>Are you sure you want to continue connecting (yes/no)?</code>ï¼Œè¾“å…¥yesï¼Œç„¶åä¼šçœ‹åˆ°ï¼š<code>Hi mhy! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code>, çœ‹åˆ°è¿™ä¸ªä¿¡æ¯è¯´æ˜SSHå·²é…ç½®æˆåŠŸï¼</p><p>æ­¤æ—¶ä½ è¿˜éœ€è¦é…ç½®ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"ç”¨æˆ·å"</span>// ä½ çš„githubç”¨æˆ·åï¼Œéæ˜µç§°</span><br><span class="line">git config --global user.email  <span class="string">"é‚®ç®±"</span>// å¡«å†™ä½ çš„githubæ³¨å†Œé‚®ç®±</span><br></pre></td></tr></table></figure></p><p>è¿™ä¸ªé…ç½®å±•ç¤ºåœ¨ä½ æ¯æ¬¡æäº¤çš„<code>git message</code>ä¸­ã€‚</p><h2 id="ä½¿ç”¨hexoå†™åšå®¢"><a href="#ä½¿ç”¨hexoå†™åšå®¢" class="headerlink" title="ä½¿ç”¨hexoå†™åšå®¢"></a>ä½¿ç”¨hexoå†™åšå®¢</h2><h3 id="hexoç®€ä»‹"><a href="#hexoç®€ä»‹" class="headerlink" title="hexoç®€ä»‹"></a>hexoç®€ä»‹</h3><p>Hexoæ˜¯ä¸€ä¸ªç®€å•ã€å¿«é€Ÿã€å¼ºå¤§çš„åŸºäº Github Pages çš„åšå®¢å‘å¸ƒå·¥å…·ï¼Œæ”¯æŒMarkdownæ ¼å¼ï¼Œæœ‰ä¼—å¤šä¼˜ç§€æ’ä»¶å’Œä¸»é¢˜ã€‚</p><p>å®˜ç½‘ï¼š <a href="http://hexo.io" target="_blank" rel="noopener">http://hexo.io</a><br>github: <a href="https://github.com/hexojs/hexo" target="_blank" rel="noopener">https://github.com/hexojs/hexo</a></p><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>ç”±äºgithub pageså­˜æ”¾çš„éƒ½æ˜¯é™æ€æ–‡ä»¶ï¼Œåšå®¢å­˜æ”¾çš„ä¸åªæ˜¯æ–‡ç« å†…å®¹ï¼Œè¿˜æœ‰æ–‡ç« åˆ—è¡¨ã€åˆ†ç±»ã€æ ‡ç­¾ã€ç¿»é¡µç­‰åŠ¨æ€å†…å®¹ï¼Œå‡å¦‚æ¯æ¬¡å†™å®Œä¸€ç¯‡æ–‡ç« éƒ½è¦æ‰‹åŠ¨æ›´æ–°åšæ–‡ç›®å½•å’Œç›¸å…³é“¾æ¥ä¿¡æ¯ï¼Œç›¸ä¿¡è°éƒ½ä¼šç–¯æ‰ï¼Œæ‰€ä»¥hexoæ‰€åšçš„å°±æ˜¯å°†è¿™äº›markdownæ–‡ä»¶éƒ½æ”¾åœ¨æœ¬åœ°ï¼Œæ¯æ¬¡å†™å®Œæ–‡ç« åè°ƒç”¨å†™å¥½çš„å‘½ä»¤æ¥æ‰¹é‡å®Œæˆç›¸å…³é¡µé¢çš„ç”Ÿæˆï¼Œç„¶åå†å°†æœ‰æ”¹åŠ¨çš„é¡µé¢æäº¤åˆ°githubã€‚</p><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><p>å®‰è£…ä¹‹å‰å…ˆæ¥è¯´å‡ ä¸ªæ³¨æ„äº‹é¡¹ï¼š</p><blockquote><ul><li>ä½¿ç”¨windowsçš„ç”¨æˆ·ï¼Œå¾ˆå¤šå‘½ä»¤æ—¢å¯ä»¥ç”¨Windowsçš„cmdæ¥å®Œæˆï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨git bashæ¥å®Œæˆï¼Œä½†æ˜¯éƒ¨åˆ†å‘½ä»¤ä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œä¸ºé¿å…ä¸å¿…è¦çš„é—®é¢˜ï¼Œå»ºè®®å…¨éƒ¨ä½¿ç”¨git &gt;- bashæ¥æ‰§è¡Œï¼›</li><li>hexoä¸åŒç‰ˆæœ¬å·®åˆ«æ¯”è¾ƒå¤§ï¼Œç½‘ä¸Šå¾ˆå¤šæ–‡ç« çš„é…ç½®ä¿¡æ¯éƒ½æ˜¯åŸºäº2.xçš„ï¼Œæ‰€æœ‰ä½¿ç”¨æ—¶æ³¨æ„åŒºåˆ†ç‰ˆæœ¬ï¼›</li><li>hexoæœ‰2ç§_config.ymlæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯æ ¹ç›®å½•ä¸‹çš„å…¨å±€çš„_config.ymlï¼Œä¸€ä¸ªæ˜¯å„ä¸ªthemeä¸‹çš„_config.ymlï¼›</li></ul></blockquote><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo</span><br></pre></td></tr></table></figure><h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h3><p>åœ¨ç”µè„‘çš„æŸä¸ªåœ°æ–¹æ–°å»ºä¸€ä¸ªåä¸ºhexoçš„æ–‡ä»¶å¤¹ï¼ˆåå­—å¯ä»¥éšä¾¿å–ï¼‰ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯<code>~/Workspaces/hexo</code>ï¼Œç”±äºè¿™ä¸ªæ–‡ä»¶å¤¹å°†æ¥å°±ä½œä¸ºä½ å­˜æ”¾ä»£ç çš„åœ°æ–¹ï¼Œæ‰€ä»¥æœ€å¥½ä¸è¦éšä¾¿æ”¾ã€‚<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Workspaces/hexo</span><br><span class="line">hexo init</span><br></pre></td></tr></table></figure></p><p>hexoä¼šè‡ªåŠ¨ä¸‹è½½ä¸€äº›æ–‡ä»¶åˆ°è¿™ä¸ªç›®å½•ï¼ŒåŒ…æ‹¬<code>node_modules</code>ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹å›¾ï¼š<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ .deploy_git/</span><br><span class="line">â”œâ”€â”€ public/</span><br><span class="line">â”œâ”€â”€ scaffolds</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ draft.md</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ page.md</span><br><span class="line">â”‚Â Â  â””â”€â”€ post.md</span><br><span class="line">â”œâ”€â”€ source</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ CNAME</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ _data</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ _posts</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ about</span><br><span class="line">â”œâ”€â”€ themes/</span><br><span class="line">â”œâ”€â”€ LICENSE</span><br><span class="line">â”œâ”€â”€ README.md</span><br><span class="line">â”œâ”€â”€ _config.yml</span><br><span class="line">â””â”€â”€ package.json</span><br></pre></td></tr></table></figure></p><p>å…¶ä¸­ï¼Œ<code>public</code>ç›®å½•æ˜¯æ‰“åŒ…åå†™å…¥é™æ€èµ„æºçš„ç›®å½•ï¼Œå»ºè®®å†™å…¥<code>.gitignore</code>æ–‡ä»¶ä¸ä½¿ç”¨gitè¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼›<code>source/_post</code>ç›®å½•æ˜¯å­˜æ”¾markdownåšå®¢æ–‡ç« çš„åœ°æ–¹ï¼›<code>theme</code>ç›®å½•æ˜¯å­˜æ”¾åšå®¢ä¸»é¢˜çš„åœ°æ–¹ï¼Œå¯ä»¥å®‰è£…ä½ å–œæ¬¢çš„å¤šä¸ªä¸»é¢˜ï¼Œæƒ³å¯ç”¨å“ªä¸ªä¿®æ”¹æ ¹ç›®å½•ä¸‹ <code>_config.yml</code>çš„é…ç½®é€‰é¡¹<code>theme</code>å³å¯ï¼Œä¸»é¢˜æ–‡ä»¶å¤¹å¯ä»¥åŠ å…¥ç‰ˆæœ¬åº“ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>git modules</code>è¿›è¡Œç®¡ç†ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate <span class="comment"># æ‰“åŒ…ç”Ÿæˆhtml</span></span><br><span class="line">hexo sever <span class="comment"># å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä»¥ä¸Šå‘½ä»¤ä¹‹åï¼Œhexoå°±ä¼šåœ¨<code>public</code>æ–‡ä»¶å¤¹ç”Ÿæˆç›¸å…³htmlæ–‡ä»¶ã€‚<br><code>hexo sever</code>æ˜¯å¼€å¯æœ¬åœ°å¼€å‘æœåŠ¡ï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® <code>http://localhost:4000</code> å³å¯çœ‹åˆ°å†…å®¹ï¼Œå¾ˆå¤šäººä¼šç¢°åˆ°æµè§ˆå™¨ä¸€ç›´åœ¨è½¬åœˆä½†æ˜¯å°±æ˜¯åŠ è½½ä¸å‡ºæ¥çš„é—®é¢˜ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯å› ä¸ºç«¯å£å ç”¨çš„ç¼˜æ•…ï¼Œå› ä¸º4000è¿™ä¸ªç«¯å£å¤ªå¸¸è§äº†ï¼Œè§£å†³ç«¯å£å†²çªé—®é¢˜è¯·å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="http://blog.liuxianan.com/windows-port-bind.htmlã€‚" target="_blank" rel="noopener">http://blog.liuxianan.com/windows-port-bind.htmlã€‚</a></p><p>ç¬¬ä¸€æ¬¡åˆå§‹åŒ–çš„æ—¶å€™hexoå·²ç»å¸®æˆ‘ä»¬å†™äº†ä¸€ç¯‡åä¸º Hello World çš„æ–‡ç« ï¼Œé»˜è®¤çš„ä¸»é¢˜æ¯”è¾ƒä¸‘ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¸»é¢˜ã€‚</p><h3 id="ä¿®æ”¹ä¸»é¢˜"><a href="#ä¿®æ”¹ä¸»é¢˜" class="headerlink" title="ä¿®æ”¹ä¸»é¢˜"></a>ä¿®æ”¹ä¸»é¢˜</h3><p>é€‰æ‹©ä¸€ä¸ªå¥½çœ‹çš„ä¸»é¢˜å¯¹äºä¸€ä¸ªåšå®¢æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒé‡è¦çš„ã€‚å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±å†™ä¸€å¥—ä¸»é¢˜ï¼Œæ–°æ‰‹å»ºè®®å»<a href="https://hexo.io/themes/" target="_blank" rel="noopener">hexoä¸»é¢˜é¡µé¢</a>é€‰æ‹©ä¸€å¥—è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ã€‚<br>è¿™é‡Œå·²<code>hexo-theme-yilia</code>ä¸»é¢˜ä¸ºä¾‹ï¼Œè¯´ä¸€ä¸‹é…ç½®è¿‡ç¨‹ã€‚<br>é¦–å…ˆä¸‹è½½è¿™ä¸ªä¸»é¢˜ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Workspaces/hexo</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/litten/hexo-theme-yilia.git themes/yilia</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<code>_config.yml</code>ä¸­çš„<code>theme: landscape</code>æ”¹ä¸º<code>theme: yilia</code>ï¼Œç„¶åé‡æ–°æ‰§è¡Œ<code>hexo g</code>æ¥é‡æ–°ç”Ÿæˆã€‚<br>å¦‚æœå‡ºç°ä¸€äº›è«åå…¶å¦™çš„é—®é¢˜ï¼Œå¯ä»¥å…ˆæ‰§è¡Œ<code>hexo clean</code>æ¥æ¸…ç†ä¸€ä¸‹<code>public</code>çš„å†…å®¹ï¼Œç„¶åå†æ¥é‡æ–°ç”Ÿæˆå’Œå‘å¸ƒã€‚</p><h3 id="ä¸Šä¼ ä¹‹å‰"><a href="#ä¸Šä¼ ä¹‹å‰" class="headerlink" title="ä¸Šä¼ ä¹‹å‰"></a>ä¸Šä¼ ä¹‹å‰</h3><p>ä½¿ç”¨gitè¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼ˆä¸ä¼šä½¿ç”¨gitåˆ›å»ºä»“åº“çš„å»ºè®®å»æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼‰æ—¶è¦æ³¨æ„é€‰æ‹©æ­£ç¡®çš„åˆ†æ”¯ï¼Œ<code>github pages</code>æ¸²æŸ“åšå®¢æ—¶è®¾ç½®<code>master</code>åˆ†æ”¯ä¸ºä¸»åˆ†æ”¯, è¯¥åˆ†æ”¯ä¸å¯æ‰‹åŠ¨ç¼–è¾‘ï¼Œå› ä¸ºè¯¥åˆ†æ”¯ä¸ºgithub pagesæœåŠ¡çš„é™æ€èµ„æºå­˜æ”¾ä½ç½®ï¼Œå¼€å‘ç¼–è¾‘åšå®¢å¿…é¡»åœ¨å…¶ä»–åˆ†æ”¯ï¼Œå³åšå®¢é¡¹ç›®çš„æºä»£ç å¿…é¡»åœ¨å…¶ä»–åˆ†æ”¯ï¼Œä¸‡ä¸€å¼„é”™äº†åˆ†æ”¯ä¼šæœ‰å¤§é‡çš„ä»£ç å†²çªã€‚</p><h3 id="ä¸Šä¼ åˆ°github"><a href="#ä¸Šä¼ åˆ°github" class="headerlink" title="ä¸Šä¼ åˆ°github"></a>ä¸Šä¼ åˆ°github</h3><p>å¦‚æœä½ ä¸€åˆ‡éƒ½é…ç½®å¥½äº†ï¼Œå‘å¸ƒä¸Šä¼ å¾ˆå®¹æ˜“ï¼Œä¸€å¥<code>hexo d</code>å°±æå®šï¼Œå½“ç„¶å…³é”®è¿˜æ˜¯ä½ è¦æŠŠæ‰€æœ‰ä¸œè¥¿é…ç½®å¥½ã€‚<br>ä½¿ç”¨<code>git</code>æ¨é€<code>hexo</code>åšå®¢éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ’ä»¶<code>hexo-deployer-git</code>ï¼Œ å…ˆå®‰è£…ä¸€ä¸‹ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">`</span><br></pre></td></tr></table></figure></p><p>æ¨é€ä¹‹å‰ï¼Œ<code>ssh key</code>è‚¯å®šè¦å…ˆé…ç½®å¥½ã€‚<br>å…¶æ¬¡ï¼Œé…ç½®<code>_config.yml</code>ä¸­æœ‰å…³deployçš„éƒ¨åˆ†ï¼š<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">type:</span><span class="string">git</span></span><br><span class="line"><span class="attr">repository:</span><span class="string">git@github.com:mhy-web/mhy-web.github.io.git</span></span><br><span class="line"><span class="attr">branch:</span><span class="string">master</span><span class="comment"># hexoä¼šæŠŠæ‰“åŒ…åçš„é™æ€èµ„æºè‡ªåŠ¨æ¨é€åˆ°è¯¥åˆ†æ”¯</span></span><br></pre></td></tr></table></figure></p><p>ç„¶åå¯ä»¥å‘å¸ƒåšå®¢äº†ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…ˆç¼–è¯‘</span></span><br><span class="line">hexo g <span class="comment"># æ˜¯hexo generateå‘½ä»¤çš„ç¼©å†™</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘å¸ƒ</span></span><br><span class="line">hexo d <span class="comment"># hexo deployå‘½ä»¤çš„ç¼©å†™</span></span><br></pre></td></tr></table></figure></p><p>å½“ç„¶äº†ï¼Œæ‰“åŒ…ä¹‹å‰æœ‰ä¸€äº›é…ç½®é€‰é¡¹éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œå¯ä»¥å¿½ç•¥æŒ‡å®šç›®å½•ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒå®˜ç½‘ã€‚<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">source_dir:</span><span class="string">source</span></span><br><span class="line"><span class="attr">public_dir:</span><span class="string">public</span></span><br><span class="line"><span class="attr">tag_dir:</span><span class="string">tags</span></span><br><span class="line"><span class="attr">archive_dir:</span><span class="string">archives</span></span><br><span class="line"><span class="attr">category_dir:</span><span class="string">categories</span></span><br><span class="line"><span class="attr">code_dir:</span><span class="string">downloads/code</span></span><br><span class="line"><span class="attr">i18n_dir:</span><span class="string">lang</span></span><br><span class="line"><span class="comment">#è·³è¿‡sourceç›®å½•ä¸‹æ–‡ä»¶çš„ç¼–è¯‘, è·³è¿‡æŒ‡å®šæ–‡ä»¶çš„æ¸²æŸ“ï¼Œå¯ä½¿ç”¨globè¡¨è¾¾å¼æ¥åŒ¹é…è·¯å¾„ã€‚</span></span><br><span class="line"><span class="attr">skip_render:</span></span><br><span class="line"><span class="bullet">-</span><span class="string">_test/*</span><span class="comment"># ä¸¤ä¸ª ** è¡¨ç¤ºè¯¥ç›®å½•çš„æ‰€æœ‰ä¸‹çº§ç›®å½•, ä½†æ˜¯ä¸¤ä¸ª**ä¼šæŠ¥é”™ï¼Œå¯èƒ½æ˜¯ä¸»é¢˜é‡Œé¢çš„é…ç½®æ²¡æœ‰å…¼å®¹</span></span><br><span class="line"><span class="bullet">-</span><span class="string">_data/*</span></span><br></pre></td></tr></table></figure></p><h3 id="å¸¸ç”¨hexoå‘½ä»¤"><a href="#å¸¸ç”¨hexoå‘½ä»¤" class="headerlink" title="å¸¸ç”¨hexoå‘½ä»¤"></a>å¸¸ç”¨hexoå‘½ä»¤</h3><p>å¸¸è§å‘½ä»¤<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">"postName"</span><span class="comment">#æ–°å»ºæ–‡ç« </span></span><br><span class="line">hexo new page <span class="string">"pageName"</span><span class="comment">#æ–°å»ºé¡µé¢</span></span><br><span class="line">hexo generate <span class="comment">#ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½•</span></span><br><span class="line">hexo server <span class="comment">#å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œ'ctrl + c'å…³é—­serverï¼‰</span></span><br><span class="line">hexo deploy <span class="comment">#éƒ¨ç½²åˆ°GitHub</span></span><br><span class="line">hexo <span class="built_in">help</span><span class="comment"># æŸ¥çœ‹å¸®åŠ©</span></span><br><span class="line">hexo version  <span class="comment">#æŸ¥çœ‹Hexoçš„ç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure></p><p>ç¼©å†™ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo n <span class="comment"># == hexo new</span></span><br><span class="line">hexo g <span class="comment"># == hexo generate</span></span><br><span class="line">hexo s <span class="comment"># == hexo server</span></span><br><span class="line">hexo d <span class="comment"># == hexo deploy</span></span><br></pre></td></tr></table></figure></p><p>ç»„åˆå‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo s -g <span class="comment">#ç”Ÿæˆå¹¶æœ¬åœ°é¢„è§ˆ</span></span><br><span class="line">hexo d -g <span class="comment">#ç”Ÿæˆå¹¶ä¸Šä¼ </span></span><br></pre></td></tr></table></figure></p><h3 id="config-yml"><a href="#config-yml" class="headerlink" title="_config.yml"></a>_config.yml</h3><p>è¿™é‡Œé¢éƒ½æ˜¯ä¸€äº›å…¨å±€é…ç½®ï¼Œæ¯ä¸ªå‚æ•°çš„æ„æ€éƒ½æ¯”è¾ƒç®€å•æ˜äº†ï¼Œæ‰€ä»¥å°±ä¸ä½œè¯¦ç»†ä»‹ç»äº†ã€‚<br>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œå†’å·åé¢å¿…é¡»æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚</p><h3 id="å†™åšå®¢"><a href="#å†™åšå®¢" class="headerlink" title="å†™åšå®¢"></a>å†™åšå®¢</h3><p>å®šä½åˆ°æˆ‘ä»¬çš„hexoæ ¹ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">'my-first-blog'</span></span><br></pre></td></tr></table></figure></p><p>hexoä¼šå¸®æˆ‘ä»¬åœ¨_postsä¸‹ç”Ÿæˆç›¸å…³mdæ–‡ä»¶<br>æˆ‘ä»¬åªéœ€è¦æ‰“å¼€è¿™ä¸ªæ–‡ä»¶å°±å¯ä»¥å¼€å§‹å†™åšå®¢äº†ï¼Œé»˜è®¤æ ¼å¼å¯ä»¥åœ¨<code>scaffolds</code>ç›®å½•ä¸‹è®¾ç½®ï¼Œä½¿ç”¨æ–¹æ³•è¯·æŸ¥é˜… å®˜æ–¹æ–‡æ¡£ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥è‡ªå·±æ–°å»ºmdæ–‡ä»¶ï¼Œç”¨è¿™ä¸ªå‘½ä»¤çš„å¥½å¤„æ˜¯å¸®æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆäº†æ—¶é—´ã€‚</p><p>ä¸€èˆ¬å®Œæ•´æ ¼å¼å¦‚ä¸‹ï¼š<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span><span class="string">postName</span><span class="comment">#æ–‡ç« é¡µé¢ä¸Šçš„æ˜¾ç¤ºåç§°ï¼Œä¸€èˆ¬æ˜¯ä¸­æ–‡</span></span><br><span class="line"><span class="attr">date:</span><span class="number">2013</span><span class="number">-12</span><span class="number">-02</span><span class="number">15</span><span class="string">:30:16</span><span class="comment">#æ–‡ç« ç”Ÿæˆæ—¶é—´ï¼Œä¸€èˆ¬ä¸æ”¹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä»»æ„ä¿®æ”¹</span></span><br><span class="line"><span class="attr">categories:</span><span class="string">é»˜è®¤åˆ†ç±»</span><span class="comment">#åˆ†ç±»</span></span><br><span class="line"><span class="attr">tags:</span><span class="string">[tag1,tag2,tag3]</span><span class="comment">#æ–‡ç« æ ‡ç­¾ï¼Œå¯ç©ºï¼Œå¤šæ ‡ç­¾è¯·ç”¨æ ¼å¼ï¼Œæ³¨æ„:åé¢æœ‰ä¸ªç©ºæ ¼</span></span><br><span class="line"><span class="attr">description:</span><span class="comment"># é™„åŠ ä¸€æ®µæ–‡ç« æ‘˜è¦ï¼Œå­—æ•°æœ€å¥½åœ¨140å­—ä»¥å†…ï¼Œä¼šå‡ºç°åœ¨metaçš„descriptioné‡Œé¢</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span><span class="string">ä»¥ä¸‹æ˜¯æ­£æ–‡</span><span class="string">--&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="é¦–é¡µæ˜¾ç¤ºæ‘˜è¦"><a href="#é¦–é¡µæ˜¾ç¤ºæ‘˜è¦" class="headerlink" title="é¦–é¡µæ˜¾ç¤ºæ‘˜è¦"></a>é¦–é¡µæ˜¾ç¤ºæ‘˜è¦</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç”Ÿæˆçš„åšæ–‡ç›®å½•ä¼šæ˜¾ç¤ºå…¨éƒ¨çš„æ–‡ç« å†…å®¹ï¼Œå¦‚ä½•è®¾ç½®æ–‡ç« æ‘˜è¦çš„é•¿åº¦å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯åœ¨åˆé€‚çš„ä½ç½®åŠ ä¸Šå³å¯ã€‚</p><h2 id="æœ€ç»ˆæ•ˆæœ"><a href="#æœ€ç»ˆæ•ˆæœ" class="headerlink" title="æœ€ç»ˆæ•ˆæœ"></a>æœ€ç»ˆæ•ˆæœ</h2><p>å¯ä»¥è®¿é—®æˆ‘çš„åšå®¢æ¥æŸ¥çœ‹æ•ˆæœï¼š<a href="http://mhynet.cn">http://mhynet.cn</a></p><h2 id="åæœŸä¼˜åŒ–"><a href="#åæœŸä¼˜åŒ–" class="headerlink" title="åæœŸä¼˜åŒ–"></a>åæœŸä¼˜åŒ–</h2><h3 id="é˜…è¯»é‡ç»Ÿè®¡"><a href="#é˜…è¯»é‡ç»Ÿè®¡" class="headerlink" title="é˜…è¯»é‡ç»Ÿè®¡"></a>é˜…è¯»é‡ç»Ÿè®¡</h3><p>é˜…è¯»é‡ç»Ÿè®¡ä»¥å‰ä½¿ç”¨è¿‡<a href="https://leancloud.cn/dashboard/applist.html#/apps" target="_blank" rel="noopener">LeanCloud</a>,<br>é…ç½®å¯ä»¥å‚è€ƒ<a href="http://www.jeyzhang.com/hexo-next-add-post-views.html" target="_blank" rel="noopener">è¿™ç¯‡æ•™ç¨‹</a>ã€‚<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># add post views</span></span><br><span class="line"><span class="attr">leancloud_visitors:</span></span><br><span class="line"><span class="attr">enable:</span><span class="literal">true</span></span><br><span class="line"><span class="attr">app_id:</span><span class="comment">#ä½ çš„app_id</span></span><br><span class="line"><span class="attr">app_key:</span><span class="comment">##ä½ çš„app_key</span></span><br></pre></td></tr></table></figure></p><p>ç°åœ¨ä½¿ç”¨çš„æ˜¯åœç®—å­ç»Ÿè®¡ï¼Œé…ç½®æ–¹å¼æ¯ä¸ªä¸»é¢˜å¯èƒ½å®ç°æ–¹å¼éƒ½ä¸ä¸€æ ·ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡<a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="noopener">æ•™ç¨‹</a>ã€‚</p><h3 id="è¯„è®ºç³»ç»Ÿ"><a href="#è¯„è®ºç³»ç»Ÿ" class="headerlink" title="è¯„è®ºç³»ç»Ÿ"></a>è¯„è®ºç³»ç»Ÿ</h3><p>æŸ¥é˜…äº†ä¸€äº›è¯„è®ºç›¸å…³çš„ä»‹ç», æœ€åé€‰ç”¨çš„<a href="https://livere.com/" target="_blank" rel="noopener">æ¥å¿…åŠ›</a>ã€‚<br><a href="http://www.hl10502.com/2017/03/24/hexo-config-livere/" target="_blank" rel="noopener">é…ç½®æ–¹å¼</a>å‚è€ƒè‡ªè¿™é‡Œã€‚<br>è¯„è®ºç³»ç»Ÿçš„é…ç½®åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶_config.ymlä¸­ï¼Œä¿®æ”¹livere_uidçš„é…ç½®å€¼ä¸º<a href="http://www.hl10502.com/2017/03/24/hexo-config-livere/livere-get-code.png" target="_blank" rel="noopener">æ¥å¿…åŠ›</a>è·å–åˆ°çš„data-uidã€‚<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Support for LiveRe comments system.</span></span><br><span class="line"><span class="comment"># You can get your uid from https://livere.com/insight/myCode (General web site)</span></span><br><span class="line"><span class="attr">livere_uid:</span><span class="string">your</span><span class="string">uid</span></span><br></pre></td></tr></table></figure></p><h3 id="éƒ¨ç½²åˆ°github-å’Œ-gitee"><a href="#éƒ¨ç½²åˆ°github-å’Œ-gitee" class="headerlink" title="éƒ¨ç½²åˆ°github å’Œ gitee"></a>éƒ¨ç½²åˆ°github å’Œ gitee</h3><p>æœ€å¼€å§‹åšçš„æ—¶å€™åªæ˜¯éƒ¨ç½²åˆ°github, å¹¶ä¸”å°†è‡ªå·±çš„åŸŸå<a href="https://mhynet.cn">mhynet.cn</a>è§£æåˆ°GitHubä¸Šï¼Œè¿™æ ·å¯ä»¥é€šè¿‡è‡ªå·±çš„åŸŸåè®¿é—®åšå®¢ã€‚åæ¥å› ä¸ºå›½å†…è®¿é—®Githubæ…¢çš„åŸå› å°†åšå®¢å¤‡ä»½åˆ°äº†Gitee,ä½†æ˜¯è¿˜æœ‰ä¸ªé—®é¢˜ï¼ŒGiteeå¹¶ä¸æ”¯æŒåŸŸåè§£æï¼Œæ‰€ä»¥æ— æ³•é…æˆæˆé€šè¿‡è‡ªå·±çš„åŸŸåæ¥è®¿é—®Giteeã€‚è¿™ä¸ªé—®é¢˜è¿˜åœ¨æ¢ç´¢ä¸­ã€‚<br>è¿™é‡Œè¦è®°å½•çš„æ˜¯é…ç½®æ¨é€åˆ°Giteeå’ŒGithubçš„æ–¹æ³•ã€‚<br>åšå®¢å‘å¸ƒ<code>hexo d</code>åŒæ—¶æ¨é€çš„é…ç½®æ˜¯åœ¨æ ¹ç›®å½•:<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">type:</span><span class="string">git</span></span><br><span class="line"><span class="attr">repository:</span></span><br><span class="line"><span class="attr">github:</span><span class="comment"># github</span></span><br><span class="line"><span class="attr">gitee:</span><span class="comment"># ç äº‘</span></span><br><span class="line"><span class="attr">name:</span><span class="string">mhyuan</span></span><br><span class="line"><span class="attr">email:</span><span class="string">dsz9258@163.com</span></span><br><span class="line"><span class="attr">branch:</span><span class="string">master</span></span><br></pre></td></tr></table></figure></p><p>æ¨é€hexoåˆ†æ”¯çš„æºæ–‡ä»¶éœ€è¦ä½¿ç”¨gitæœ¬èº«çš„åŠŸèƒ½ï¼Œé…ç½®å¤šä¸ªremoteåœ°å€ï¼Œè¿™é‡Œå‚è€ƒäº†<a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00150154460073692d151e784de4d718c67ce836f72c7c4000" target="_blank" rel="noopener">å»–é›ªå³°è€å¸ˆçš„åšå®¢</a>,ä½†æ˜¯æˆ‘çš„Githubçš„è¿œç¨‹åº“çš„åå­—è¿˜æ˜¯ä½¿ç”¨çš„æ˜¯originï¼Œä»…ä»…è®¾ç½®äº†Giteeçš„è¿œç¨‹åº“åç§°ã€‚</p><p><em>æ³¨ï¼šæˆ‘ç°åœ¨çš„åšå®¢ä¸åœ¨ä½¿ç”¨<code>github pages</code>äº†ï¼Œç°åœ¨éƒ¨ç½²åœ¨äº†ä¸ƒç‰›äº‘è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼ŒCDNä½¿ç”¨çš„æ˜¯å›½å¤–çš„å…è´¹CDNæœåŠ¡å•†cloudflareï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•ç¯‡å¹…è¾ƒå¤šï¼Œè¿™é‡Œä¸ç»†è¯´ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨å›½å†…çš„è‡ªå·±çš„æœåŠ¡å™¨å»ºç«™éœ€è¦å¤‡æ¡ˆã€‚</em></p><h3 id="GitHub-Pagesè‡ªå®šä¹‰åŸŸåå¼€å¯HTTPS"><a href="#GitHub-Pagesè‡ªå®šä¹‰åŸŸåå¼€å¯HTTPS" class="headerlink" title="GitHub Pagesè‡ªå®šä¹‰åŸŸåå¼€å¯HTTPS"></a>GitHub Pagesè‡ªå®šä¹‰åŸŸåå¼€å¯HTTPS</h3><p>ç›®å‰å¤§éƒ¨åˆ†ç½‘ç«™éƒ½åœ¨httpsåè®®ï¼Œ<code>gitHub pages</code>æœ¬èº«æ˜¯èµ°httpsåè®®çš„ï¼Œä½†æ˜¯å¦‚æœæ˜¯è‡ªå®šä¹‰åŸŸåï¼Œåˆ™éœ€è¦ä½¿ç”¨å…¶ä»–æ–¹å¼æ¥é…ç½®ï¼Œgoogleæœç´¢ä¼šå‘ç°å¤§éƒ¨åˆ†æ•™ç¨‹éƒ½æ˜¯ä½¿ç”¨Cloudflareå…è´¹çš„CDNæœåŠ¡ã€‚é…ç½®è¿‡ç¨‹å‚è€ƒäº†<a href="https://razeen.me/post/https-githubpages.html" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ã€‚</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜åæœŸéœ€è¦ä¼˜åŒ–ä¸€ä¸‹ï¼Œç«™å†…çš„å›¾ç‰‡æœ‰æœ‰ä¸€äº›æ˜¯ç›´æ¥åœ¨ç½‘ä¸Šå¤åˆ¶çš„é“¾æ¥ï¼Œå¯èƒ½ä¸æ”¯æŒhttpsï¼Œæ˜¾ç¤ºä¼šå‡ºç°é—®é¢˜ã€‚æ‰€ä»¥åæœŸè¿˜æœ‰ä¸€é¡¹å¯ä»¥ä¼˜åŒ–ï¼Œä½¿ç”¨è‡ªå·±çš„å›¾åºŠï¼Œç°åœ¨æ¯”è¾ƒä¸»æµçš„æ˜¯ä¸ƒç‰›äº‘ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å›¾ç‰‡æ­£å¸¸æ˜¾ç¤ºã€‚</p><h3 id="æ–°è®¾å¤‡ä¸ŠthemeåŒæ­¥é—®é¢˜"><a href="#æ–°è®¾å¤‡ä¸ŠthemeåŒæ­¥é—®é¢˜" class="headerlink" title="æ–°è®¾å¤‡ä¸ŠthemeåŒæ­¥é—®é¢˜"></a>æ–°è®¾å¤‡ä¸Š<code>theme</code>åŒæ­¥é—®é¢˜</h3><p>å› ä¸º<code>theme</code>æ˜¯å­é¡¹ç›®, æ‰€æœ‰æ— æ³•<code>push</code>åˆ°æœ¬é¡¹ç›®çš„è¿œç¨‹ä»“åº“ä¸‹, æ–°å»ºä¸€ä¸ªä»“åº“å•ç‹¬å­˜å‚¨ä¸»é¢˜é¡¹ç›®ä¹Ÿä¸å¤±ä¸ºä¸€ä¸ªè§£å†³åŠæ³•ï¼Œä½†æ˜¯å¾ˆç¹çã€‚<br><code>hexo 3.X</code>æ”¯æŒåœ¨<code>source</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»º<code>_data</code>æ–‡ä»¶å¤¹, å¯ä»¥å­˜å‚¨æ•°æ®ã€‚å¯ä»¥æŠŠä¸»é¢˜é…ç½®æ–‡ä»¶<code>copy</code>åˆ°<code>_data</code>æ–‡ä»¶åŠ ä¸‹ï¼Œå¦‚<code>next.yml</code>ã€‚è¿™æ ·, åœ¨æ–°è®¾å¤‡ä¸Šä»…éœ€è¦æ ¹æ®ä¸»é¢˜åœ°å€<code>git clone</code>ä¸‹ä¸»é¢˜ä»“åº“, ç„¶åæŠŠé…ç½®æ–‡ä»¶å†…å®¹æ›¿æ¢ä¸º<code>source/_data/</code>ä¸‹å¯¹åº”çš„é…ç½®æ–‡ä»¶å³å¯ã€‚<br>è¿˜æœ‰ç™¾åº¦æœç´¢ã€è°·æ­Œæœç´¢çš„æ–‡ä»¶ï¼Œä¹‹å‰ä¼šä¿å­˜åœ¨<code>source/_data/</code>æ–‡ä»¶å¤¹å†…ï¼Œæ¢äº†è®¾å¤‡åå¤åˆ¶åˆ°ä¸»é¢˜ç›®å½•ä¸‹çš„<code>source</code>æ–‡ä»¶å¤¹å†…ï¼Œè¿™æ ·æ¯æ¬¡<code>hexo g</code>çš„æ—¶å€™ä¼šè‡ªåŠ¨ç”Ÿæˆã€‚</p><p>å¤šæ¬¡åœ¨æ–°è®¾å¤‡ä¸Šéƒ¨ç½²hexoåšå®¢åå‘ç°æœ€é‡å¤å’Œéº»çƒ¦çš„æ˜¯ä¸»é¢˜çš„é…ç½®ï¼Œæ¯æ¬¡ä»githubä»“åº“æ‹‰ä¸‹æ¥åšå®¢é¡¹ç›®åè¿˜è¦å»æ‰¾ä¸»é¢˜ä»“åº“ã€‚æ‹‰ä¸‹æ¥ä¸»é¢˜ä»“åº“ï¼Œç„¶åè¿˜éœ€è¦æ”¹ä¸»é¢˜ä»“åº“çš„é…ç½®æ–‡ä»¶ï¼Œè°·æ­Œå’Œç™¾åº¦æœç´¢é…ç½®ç­‰ç­‰ï¼Œéœ€è¦æ”¹å¾ˆå¤šä¸œè¥¿ï¼Œéå¸¸éº»çƒ¦ï¼Œåæ¥å­¦äº†ç‚¹bashè„šæœ¬<a href="https://github.com/mhy-web/mhy-web.github.io/blob/hexo/config_sync.sh" target="_blank" rel="noopener">config_sync</a>ï¼Œå†™äº†ä¸ªæ–‡ä»¶ï¼Œæ¯æ¬¡æ‹‰å–é¡¹ç›®åæ‰§è¡Œè¯¥æ–‡ä»¶å³å¯è‡ªåŠ¨éƒ¨ç½²å®Œæˆï¼Œéå¸¸å¿«é€Ÿçš„å®Œæˆé…ç½®ã€‚</p><p><em>æ³¨ï¼šæˆ‘ç°åœ¨çš„åšå®¢ä¸»é¢˜ä½¿ç”¨äº†git modulesï¼Œå…ˆforkä¸»é¢˜ä»“åº“åˆ°è‡ªå·±çš„githubï¼Œç„¶åå°±å¯ä»¥è‡ªå·±è¿›è¡Œç‰ˆæœ¬ç®¡ç†å•¦ã€‚</em></p><p>é…ç½®å¿½ç•¥é¡¹ï¼Œè¯¥é…ç½®ä¸‹çš„ç›®å½•ä¸­çš„ markdown æ–‡ä»¶ä¸ä¼šç¼–è¯‘æˆ html æ–‡ä»¶ï¼Œå¯ä»¥å­˜æ”¾ä¸€äº›æ•°æ®æˆ–è€…æ”¾è‰ç¨¿ã€‚<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span></span><br><span class="line">2<span class="bullet">-</span><span class="string">_test/*</span><span class="comment"># ä¸¤ä¸ª ** è¡¨ç¤ºè¯¥ç›®å½•çš„æ‰€æœ‰ä¸‹çº§ç›®å½•, ä½†æ˜¯ä¸¤ä¸ª**ä¼šæŠ¥é”™ï¼Œå¯èƒ½æ˜¯ä¸»é¢˜é‡Œé¢çš„é…ç½®æ²¡æœ‰å…¼å®¹</span></span><br><span class="line">2<span class="bullet">-</span><span class="string">_data/*</span></span><br></pre></td></tr></table></figure></p><h3 id="ç™¾åº¦ç»Ÿè®¡å’Œgoogle-analytics"><a href="#ç™¾åº¦ç»Ÿè®¡å’Œgoogle-analytics" class="headerlink" title="ç™¾åº¦ç»Ÿè®¡å’Œgoogle analytics"></a>ç™¾åº¦ç»Ÿè®¡å’Œgoogle analytics</h3><p>ç›¸å…³é…ç½®æ•™ç¨‹å¯æœ‰åœ¨googleæœç´¢ï¼Œæœ‰å¾ˆå¤šè®²çš„å¾ˆè¯¦ç»†çš„æ–‡ç« ã€‚<br>google analyticså’Œç™¾åº¦ç»Ÿè®¡éœ€è¦çš„ä¸¤ä¸ªæ–‡ä»¶å¤‡ä»½åœ¨é¡¹ç›®çš„<code>source/_data</code>æ–‡ä»¶å¤¹ä¸‹(è¯¥æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶ä¸ä¼šç¼–è¯‘ï¼Œå¯å½“åšä»“åº“)ï¼Œæ–°è®¾å¤‡ä¸Šå¤åˆ¶åˆ°ä¸»é¢˜æ–‡ä»¶å¤¹çš„<code>source</code>æ–‡ä»¶å¤¹ä¸‹(é¡¹ç›®æ ¹ç›®å½•çš„æ–‡ä»¶å¤¹ä¸‹ä¼šç¼–è¯‘ï¼Œä¸»é¢˜ç›®å½•çš„<code>source</code>ä¸‹ä¸ä¼šç¼–è¯‘)ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> _hmt = _hmt || [];</span></span><br><span class="line"><span class="actionscript">    (<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> hm = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span></span><br><span class="line"><span class="actionscript">        hm.src = <span class="string">"//hm.baidu.com/hm.js?&lt;%=theme.baidu_tongji%&gt;"</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[<span class="number">0</span>];</span></span><br><span class="line">        s.parentNode.insertBefore(hm, s);</span><br><span class="line">    &#125;)();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span><span class="attr">async</span><span class="attr">src</span>=<span class="string">"https://www.googletagmanager.com/gtag/js?id=&lt;%= theme.google_analytics %&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.dataLayer = <span class="built_in">window</span>.dataLayer || [];</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span><span class="title">gtag</span>(<span class="params"></span>)</span>&#123;dataLayer.push(<span class="built_in">arguments</span>);&#125;</span></span><br><span class="line"><span class="javascript">  gtag(<span class="string">'js'</span>, <span class="keyword">new</span><span class="built_in">Date</span>());</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">  gtag(<span class="string">'config'</span>, <span class="string">'&lt;%= theme.google_analytics %&gt;'</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- End Google Analytics --&gt;</span></span><br></pre></td></tr></table></figure><p>*æ³¨ï¼šæœ€å¼€å§‹æ­å»ºåšå®¢çš„æ—¶å€™æˆ‘SEOé…ç½®è¿™å—ä¸æ˜¯å¾ˆäº†è§£ï¼Œè¿™é‡Œè¡¥å……ä¸€ä¸‹ï¼Œç™¾åº¦ç»Ÿè®¡å’Œgoogle analyticsçš„é…ç½®ä¸€èˆ¬éƒ½æ˜¯åœ¨ä¸»é¢˜é…ç½®ä¸‹ï¼Œæ¯ä¸ªä¸»é¢˜å®ç°éƒ½ä¸ä¸€æ ·ã€‚</p><h3 id="SEOä¼˜åŒ–"><a href="#SEOä¼˜åŒ–" class="headerlink" title="SEOä¼˜åŒ–"></a>SEOä¼˜åŒ–</h3><p>SEOä¼˜åŒ–å‚è€ƒäº†<a href="https://juejin.im/post/590b451a0ce46300588c43a0" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>, ç®€åŒ–äº†æ–‡ä»¶URLå±‚çº§ç»“æ„ã€‚</p><h3 id="ç™¾åº¦æ¨é€"><a href="#ç™¾åº¦æ¨é€" class="headerlink" title="ç™¾åº¦æ¨é€"></a>ç™¾åº¦æ¨é€</h3><p>è¿™é‡Œè¡¥å……ä¸€ä¸‹ç™¾åº¦æ¨é€ç›¸å…³çš„å†…å®¹ã€‚<br>é¦–å…ˆéœ€è¦æŠŠä½ çš„ç½‘ç«™æ·»åŠ åˆ°[ç™¾åº¦æ¨é€(<a href="https://ziyuan.baidu.com/site/index#/)ç³»ç»Ÿä¸­ï¼Œæ·»åŠ è¿‡ç¨‹éœ€è¦ç™¾åº¦éªŒè¯ä½ çš„ç½‘ç«™å±äºä½ ï¼ŒéªŒè¯æ–¹å¼ä¸€èˆ¬æœ‰ä¸‰ç§æ–¹å¼ï¼Œhtmlæ–‡ä»¶æ–¹å¼ã€html" target="_blank" rel="noopener">https://ziyuan.baidu.com/site/index#/)ç³»ç»Ÿä¸­ï¼Œæ·»åŠ è¿‡ç¨‹éœ€è¦ç™¾åº¦éªŒè¯ä½ çš„ç½‘ç«™å±äºä½ ï¼ŒéªŒè¯æ–¹å¼ä¸€èˆ¬æœ‰ä¸‰ç§æ–¹å¼ï¼Œhtmlæ–‡ä»¶æ–¹å¼ã€html</a> æ ‡ç­¾æ–¹å¼å’ŒåŸŸåè§£ææ–¹å¼ï¼Œå»ºè®®ä½¿ç”¨htmlæ ‡ç­¾æ–¹å¼ï¼Œå³åœ¨ä½ çš„åšå®¢æ–‡ç« ä¸­æ·»åŠ ç™¾åº¦æˆ–googleéœ€è¦çš„metaæ ‡ç­¾ï¼Œmateæ ‡ç­¾çš„contentçš„å†…å®¹éœ€è¦å»å…¶ç½‘ç«™å¡«å†™ä½ çš„ç½‘ç«™ï¼Œç„¶åä¼šç”Ÿæˆå±äºä½ è‡ªå·±ç½‘ç«™çš„æ ‡è¯†ç ã€‚*<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"baidu-site-verification"</span><span class="attr">content</span>=<span class="string">""</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"google-site-verification"</span><span class="attr">content</span>=<span class="string">""</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="http://www.cnblogs.com/zhcncn/p/4097881.html" target="_blank" rel="noopener">http://www.cnblogs.com/zhcncn/p/4097881.html</a><br><a href="http://www.jianshu.com/p/05289a4bc8b2" target="_blank" rel="noopener">http://www.jianshu.com/p/05289a4bc8b2</a><br><a href="http://www.cnblogs.com/liuxianan/p/build-blog-website-by-hexo-github.html" target="_blank" rel="noopener">http://www.cnblogs.com/liuxianan/p/build-blog-website-by-hexo-github.html</a></p>]]></content><categories><category> åšå®¢ </category></categories><tags><tag> hexo </tag><tag> github </tag><tag> github pages </tag><tag> åšå®¢ </tag></tags></entry><entry><title>å‰ç«¯è®¾è®¡æ¨¡å¼</title><link href="/Front-end-design-patterns.html"/><url>/Front-end-design-patterns.html</url><content type="html"><![CDATA[<p>è®¾è®¡æ¨¡å¼å¯¹äºæé«˜å¼€å‘æ•ˆç‡å…·æœ‰éå¸¸é‡è¦çš„ä½œç”¨ï¼Œæ ¹æ®ä¸åŒçš„éœ€æ±‚é‡‡ç”¨åˆé€‚çš„è®¾è®¡æ¨¡å¼å¯ä»¥äº‹åŠåŠŸå€ã€‚</p><a id="more"></a><h2 id="1-å¸¸è§è®¾è®¡æ¨¡å¼"><a href="#1-å¸¸è§è®¾è®¡æ¨¡å¼" class="headerlink" title="1.å¸¸è§è®¾è®¡æ¨¡å¼"></a>1.å¸¸è§è®¾è®¡æ¨¡å¼</h2><ul><li>æ„é€ å‡½æ•°æ¨¡å¼</li><li>å·¥å‚æ¨¡å¼</li><li>æ¨¡å—æ¨¡å¼</li><li><strong>æ··åˆæ¨¡å¼</strong></li><li><strong>å•ä¾‹æ¨¡å¼</strong></li><li><strong>å‘å¸ƒè®¢é˜…æ¨¡å¼</strong></li></ul><h2 id="2-æ„é€ å‡½æ•°æ¨¡å¼-Constructor"><a href="#2-æ„é€ å‡½æ•°æ¨¡å¼-Constructor" class="headerlink" title="2.æ„é€ å‡½æ•°æ¨¡å¼ Constructor"></a>2.æ„é€ å‡½æ•°æ¨¡å¼ Constructor</h2><p>æ„é€ å‡½æ•°æ¨¡å¼ï¼Œæœ€ç®€å•çš„æ–¹å¼ï¼Œå®ç°å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">Person</span>(<span class="params">name, age</span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line"><span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span><span class="keyword">this</span>.name;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>è°ƒç”¨<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Person(<span class="string">"mhy"</span>, <span class="number">24</span>);</span><br><span class="line">student.sayName(); <span class="comment">// "mhy"</span></span><br><span class="line"><span class="built_in">console</span>.log(student);</span><br></pre></td></tr></table></figure></p><p>å°†æ–¹æ³•å®šä¹‰åˆ°åŸå‹ä¸Šï¼Œå¯ä»¥åœ¨æ¯æ¬¡ç”Ÿæˆ<code>Person</code>å®ä¾‹çš„æ—¶å€™å®ç°ç»§æ‰¿ï¼Œä½¿<code>this</code>æŒ‡å‘è¯¥å¯¹è±¡è€Œä¸æ˜¯<code>window</code>ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">Person</span>(<span class="params">name, age &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">    this.name = name;</span></span></span><br><span class="line"><span class="function"><span class="params">    this.age = age;</span></span></span><br><span class="line"><span class="function"><span class="params">    this.sayName = function(</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span><span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="keyword">let</span> teacher = <span class="keyword">new</span> Person(<span class="string">'wang'</span>, <span class="number">28</span>);</span><br><span class="line">teacher.sayName();</span><br><span class="line"><span class="keyword">let</span> student = <span class="keyword">new</span> Person(<span class="string">'li'</span>, <span class="number">18</span>);</span><br><span class="line">student.sayName();</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢çš„å®ç°æ–¹æ³•å°†<code>sayName</code>å®ç°åœ¨thisä¸Šï¼Œæ¯æ¬¡è°ƒç”¨çš„æ—¶å€™éƒ½ä¼šå®šä¹‰ä¸€ä¸ª<code>sayName</code>æ–¹æ³•ï¼Œå¦‚æœæœ‰å¾ˆå¤šå®ä¾‹çš„è¯ä¼šå ç”¨æ›´å¤šå†…å­˜ã€‚</p><p>è°ƒç”¨çš„æ—¶å€™æ˜¯å¦ä½¿ç”¨<code>new</code>å…³é”®è¯ï¼Ÿ<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½œä¸ºå‡½æ•°è°ƒç”¨</span></span><br><span class="line"><span class="keyword">var</span> p = Person(<span class="string">'m'</span>, <span class="number">12</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> p); <span class="comment">// "undefined"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.sayName()); <span class="comment">// "m"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ new å…³é”®è¯</span></span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> Person(<span class="string">"w"</span>, <span class="number">23</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> s); <span class="comment">// "object"</span></span><br><span class="line"><span class="built_in">console</span>.log(s.sayName()); <span class="comment">// "w"</span></span><br></pre></td></tr></table></figure></p><p>å¯ä»¥å¼ºåˆ¶ä½¿ç”¨<code>new</code>å…³é”®è¯, åœ¨å®šä¹‰<code>Person</code>çš„æ—¶å€™åŠ å…¥åˆ¤æ–­ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨<code>new</code>æ“ä½œç¬¦åˆ™åœ¨å†…éƒ¨ä½¿ç”¨<code>new</code>æ“ä½œç¬¦ç”Ÿæˆå®ä¾‹<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!(<span class="keyword">this</span><span class="keyword">instanceof</span> Person)) &#123;</span><br><span class="line"><span class="keyword">return</span><span class="keyword">new</span> Person(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="3-å·¥å‚æ¨¡å¼-Factory"><a href="#3-å·¥å‚æ¨¡å¼-Factory" class="headerlink" title="3.å·¥å‚æ¨¡å¼ Factory"></a>3.å·¥å‚æ¨¡å¼ Factory</h2><p>å·¥å‚æ¨¡å¼å¯ä»¥å®šä¹‰æ ¹æ®å‚æ•°ä¸åŒçš„å­ç±»ï¼Œæä¾›äº†æœ‰ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">createPerson</span>(<span class="params">opts</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">        name: opts.name || <span class="string">'mhy'</span>,</span><br><span class="line">        sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="keyword">return</span> person;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = createPerson(&#123;<span class="attr">name</span> : <span class="string">'mhy'</span>&#125;);</span><br><span class="line"><span class="keyword">var</span> p2 = createPerson(&#123;<span class="attr">name</span> : <span class="string">'å°æ'</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å·¥å‚æ¨¡å¼ï¼Œæ¯æ¬¡ä½¿ç”¨éƒ½è¦newä¸€ä¸ªå®ä¾‹</span></span><br></pre></td></tr></table></figure></p><p>æ ¹æ®ä¸åŒçš„å­ç±»ç±»å‹ï¼Œéœ€è¦å®šä¹‰å¯¹åº”çš„å­ç±»ã€‚<a href="http://www.cnblogs.com/TomXu/archive/2012/02/23/2353389.html" target="_blank" rel="noopener">æ±¤å§†å¤§å”</a>çš„è®²è§£éå¸¸è¯¦ç»†ï¼Œæƒ³æ·±å…¥ç ”ç©¶å¯ä»¥å‚è€ƒã€‚</p><p>ä»¥ä¸‹å‡ ç§æƒ…æ™¯ä¸‹å·¥å‚æ¨¡å¼ç‰¹åˆ«æœ‰ç”¨ï¼š</p><p>1.å¯¹è±¡çš„æ„å»ºååˆ†å¤æ‚ï¼›</p><p>2.éœ€è¦ä¾èµ–å…·ä½“ç¯å¢ƒåˆ›å»ºä¸åŒå®ä¾‹ï¼›</p><p>3.å¤„ç†å¤§é‡å…·æœ‰ç›¸åŒå±æ€§çš„å°å¯¹è±¡ï¼›</p><p>ä»€ä¹ˆæ—¶å€™ä¸è¯¥ç”¨å·¥å‚æ¨¡å¼ï¼Ÿ<br>ä¸æ»¥ç”¨è¿ç”¨å·¥å‚æ¨¡å¼ï¼Œæœ‰æ—¶å€™ä»…ä»…åªæ˜¯ç»™ä»£ç å¢åŠ äº†ä¸å¿…è¦çš„å¤æ‚åº¦ï¼ŒåŒæ—¶ä½¿å¾—æµ‹è¯•éš¾ä»¥è¿è¡Œä¸‹å»ã€‚</p><h2 id="4-æ¨¡å—æ¨¡å¼"><a href="#4-æ¨¡å—æ¨¡å¼" class="headerlink" title="4.æ¨¡å—æ¨¡å¼"></a>4.æ¨¡å—æ¨¡å¼</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'mhy'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">sayName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">        name: name,</span><br><span class="line">        sayName: sayName</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><p>é—­åŒ…æ–¹å¼å®ç°ä¸€ä¸ªæ¨¡å—<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'mhy'</span>;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">        changeName: <span class="function"><span class="keyword">function</span>(<span class="params">newName</span>)</span>&#123;</span><br><span class="line">            name = newName;</span><br><span class="line">        &#125;,</span><br><span class="line">        sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)()</span><br><span class="line">Person.sayName();</span><br><span class="line">Person.changeName(<span class="string">'mhy'</span>);</span><br><span class="line">Person.sayName();</span><br></pre></td></tr></table></figure></p><h2 id="5-æ··åˆæ¨¡å¼"><a href="#5-æ··åˆæ¨¡å¼" class="headerlink" title="5.æ··åˆæ¨¡å¼"></a>5.æ··åˆæ¨¡å¼</h2><p>ä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼å®ç°ä¸€ä¸ªæ¨¡å—<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span>(<span class="params">name, age</span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line"><span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;;</span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Student = <span class="function"><span class="keyword">function</span>(<span class="params">name, age, score</span>)</span>&#123;</span><br><span class="line">    Person.call(<span class="keyword">this</span>, name, age);</span><br><span class="line"><span class="comment">//è°ƒç”¨callæ–¹æ³•ï¼Œç­‰ä»·äº &lt;==&gt; this.name = name; this.age = age;</span></span><br><span class="line"><span class="keyword">this</span>.score = score;</span><br><span class="line">&#125; ;</span><br><span class="line"><span class="comment">//Student.prototype = Object.create(Person.prototype);</span></span><br><span class="line">Student.prototype = create(Person.prototype);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">create</span>(<span class="params">parentObj</span>)</span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">    F.prototype = parentObj;</span><br><span class="line"><span class="keyword">return</span><span class="keyword">new</span> F();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Student.prototype.sayScore = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.score);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Student(<span class="string">"mhy"</span>, <span class="number">24</span>, <span class="number">98</span>);</span><br><span class="line"><span class="built_in">console</span>.log(student);</span><br></pre></td></tr></table></figure></p><h2 id="6-å•ä¾‹æ¨¡å¼"><a href="#6-å•ä¾‹æ¨¡å¼" class="headerlink" title="6.å•ä¾‹æ¨¡å¼"></a>6.å•ä¾‹æ¨¡å¼</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> People = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> instance;</span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">init</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line"><span class="comment">//define private methods and properties</span></span><br><span class="line"><span class="comment">//do something</span></span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"><span class="comment">//define public methods and properties</span></span><br><span class="line">            name: name</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125; <span class="comment">//è¯æ³•ä½œç”¨åŸŸ</span></span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">        createPeople: <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(!instance)&#123;</span><br><span class="line">                instance = init(name);</span><br><span class="line">            &#125;</span><br><span class="line"><span class="keyword">return</span> instance;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = People.createPeople(<span class="string">'mhy'</span>); <span class="comment">// &#123;name: 'mhy'&#125;</span></span><br><span class="line"><span class="keyword">var</span> obj2 = People.createPeople(<span class="string">'å°æå­'</span>); <span class="comment">//&#123;name: 'mhy'&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–ä¸€æ¬¡åï¼Œä¹‹åæ¯æ¬¡è°ƒç”¨ï¼Œè¾“å‡ºçš„å€¼ä¸ºç¬¬ä¸€æ¬¡åˆå§‹çš„å€¼</span></span><br><span class="line"><span class="comment">// å•ä¾‹æ¨¡å¼ï¼Œ å¸¸ç”¨äºå¯¹è¯æ¡†  dialog</span></span><br></pre></td></tr></table></figure><h2 id="7-å‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#7-å‘å¸ƒè®¢é˜…æ¨¡å¼" class="headerlink" title="7.å‘å¸ƒè®¢é˜…æ¨¡å¼"></a>7.å‘å¸ƒè®¢é˜…æ¨¡å¼</h2><p>å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œ å¤„ç†å¼‚æ­¥æ¨¡å¼éå¸¸ä¾¿åˆ©<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> EventCenter = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> events = &#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">on</span>(<span class="params">evt, handler</span>)</span>&#123;</span><br><span class="line">        events[evt] = events[evt] || [];</span><br><span class="line">        events[evt].push(&#123;</span><br><span class="line">            handler: handler</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">fire</span>(<span class="params">evt, args</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(!events[evt])&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; events[evt].length; i ++)&#123;</span><br><span class="line">            events[evt][i].handler(args);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">off</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line"><span class="keyword">delete</span> events[name]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">        on: on,</span><br><span class="line">        fire: fire,</span><br><span class="line">        off: off</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">EventCenter.on(<span class="string">'mu_event'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">date</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'my_event received...'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">EventCenter.on(<span class="string">'my_event'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">date</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'my_event2 received...'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">EventCenter.fire(<span class="string">'my_event'</span>);</span><br></pre></td></tr></table></figure></p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> è®¾è®¡æ¨¡å¼ </tag></tags></entry><entry><title>æ•°ç»„çš„æ–¹æ³•æ±‡æ€»</title><link href="/function-of-array.html"/><url>/function-of-array.html</url><content type="html"><![CDATA[<p>æ•°ç»„æ˜¯å¯¹è±¡ï¼Œæ•°ç»„æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œä¸»è¦åŒ…æ‹¬æŸ¥è¯¢(ä¸æ”¹å˜è‡ªèº«)ï¼Œä¿®æ”¹(æ”¹å˜è‡ªèº«)å’Œéå†ä¸‰å¤§ç±»ã€‚<br><a id="more"></a></p><h2 id="1-ä¸ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•"><a href="#1-ä¸ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•" class="headerlink" title="1.ä¸ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•"></a>1.ä¸ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•</h2><p>ä¸‹é¢çš„è¿™äº›æ–¹æ³•ä¸ä¼šæ”¹å˜è°ƒç”¨å®ƒä»¬çš„å¯¹è±¡çš„å€¼ï¼Œåªä¼šè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„æˆ–è€…è¿”å›ä¸€ä¸ªå…¶å®ƒçš„æœŸæœ›å€¼ã€‚</p><h3 id="Array-prototype-concat"><a href="#Array-prototype-concat" class="headerlink" title="Array.prototype.concat()"></a>Array.prototype.concat()</h3><p>è¿”å›ä¸€ä¸ªç”±å½“å‰æ•°ç»„å’Œå…¶å®ƒè‹¥å¹²ä¸ªæ•°ç»„æˆ–è€…è‹¥å¹²ä¸ªéæ•°ç»„å€¼ç»„åˆè€Œæˆçš„æ–°æ•°ç»„ã€‚<br>å¯¹è±¡æ˜¯å¼•ç”¨ç±»å‹ï¼Œè¦å®ç°å¯¹è±¡çš„æ‹·è´ï¼Œä¸èƒ½é‡‡ç”¨ç›´æ¥èµ‹å€¼çš„æ–¹æ³•ï¼Œå› ä¸ºä¸¤è€…å®é™…ä¸ŠæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚å¯ä»¥ä½¿ç”¨<code>concat</code>æ–¹æ³•æˆ–è€…æ‹“å±•ç¬¦<code>...</code>ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = [].concat([<span class="string">'11'</span>,<span class="string">'21'</span>,<span class="string">'12'</span>], arr,[<span class="string">'s'</span>,<span class="string">'d'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// [1,2,3,4]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2); [<span class="string">'11'</span>,<span class="string">'21'</span>,<span class="string">'12'</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="string">'s'</span>,<span class="string">'d'</span>]</span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="keyword">let</span> arr3 = arr.concat(<span class="string">'d'</span>, [<span class="string">'beijing'</span>,<span class="string">'shanghai'</span>]); <span class="comment">// [1,2,3,4,'d', 'beijing', 'shanghai']</span></span><br><span class="line"><span class="keyword">let</span> arr4 = [...arr].concat(<span class="string">'tianjing'</span>)</span><br></pre></td></tr></table></figure></p><h3 id="Array-prototype-includes"><a href="#Array-prototype-includes" class="headerlink" title="Array.prototype.includes()"></a>Array.prototype.includes()</h3><p>åˆ¤æ–­å½“å‰æ•°ç»„æ˜¯å¦åŒ…å«æŸæŒ‡å®šçš„å€¼ï¼Œå¦‚æœæ˜¯è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">arr.includes(<span class="number">4</span>); <span class="comment">//true</span></span><br><span class="line">arr.includes(<span class="string">'s'</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></p><h3 id="Array-prototype-join"><a href="#Array-prototype-join" class="headerlink" title="Array.prototype.join()"></a>Array.prototype.join()</h3><p>è¿æ¥æ‰€æœ‰æ•°ç»„å…ƒç´ ç»„æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> str = arr.join(<span class="string">''</span>); <span class="comment">// "1234"</span></span><br></pre></td></tr></table></figure></p><h3 id="Array-prototype-slice-start-end"><a href="#Array-prototype-slice-start-end" class="headerlink" title="Array.prototype.slice(start, end)"></a>Array.prototype.slice(start, end)</h3><p>æŠ½å–å½“å‰æ•°ç»„ä¸­çš„ä¸€æ®µå…ƒç´ ç»„åˆæˆä¸€ä¸ªæ–°æ•°ç»„ã€‚ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå¼€å§‹çš„ä¸‹æ ‡ï¼Œç¬¬äºŒä¸ªä¸ºç»“æŸçš„ä¸‹æ ‡ï¼›åªä¼ ä¸€ä¸ªå‚æ•°åˆ™ä»è¯¥å‚æ•°ä¸‹æ ‡å¼€å§‹æˆªå–ï¼Œä¸ä¼ å‚æ•°åˆ™æˆªå–æ•´ä¸ªæ•°ç»„ã€‚<br>æ³¨æ„ï¼Œæˆªå–çš„æ•°ç»„åŒ…å«çš„ä¸€ä¸ªå‚æ•°ä¸‹æ ‡å¯¹åº”çš„å…ƒç´ ï¼Œä½†ä¸åŒ…æ‹¬ç¬¬äºŒä¸ªå‚å®¿æ‰€æŒ‡ä¸‹æ ‡å¯¹åº”çš„å…ƒç´ , å³æˆªå–çš„åŒºé—´ä¸º[start, end)<br>å½“ä»…å‚æ•°ä¸ºè´Ÿæ•°æ—¶ï¼Œä»æ•°ç»„æœ«å°¾å¼€å§‹æˆªå–ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> arr1 = arr.slice(); <span class="comment">// [1,2,3,4]</span></span><br><span class="line"><span class="keyword">let</span> arr2 = arr.slice(<span class="number">3</span>); <span class="comment">// [4]</span></span><br><span class="line"><span class="keyword">let</span> arr3 = arr.slice(<span class="number">1</span>,<span class="number">2</span>); <span class="comment">// [2]ï¼Œ ä¸åŒ…æ‹¬ã€3ã€‘</span></span><br></pre></td></tr></table></figure></p><p><strong>è¯¥æ–¹æ³•ä¸æ”¹å˜åŸæ•°ç»„ï¼Œè¿”å›æ–°æ•°ç»„</strong></p><h3 id="Array-prototype-toSource"><a href="#Array-prototype-toSource" class="headerlink" title="Array.prototype.toSource()"></a>Array.prototype.toSource()</h3><p>è¿”å›ä¸€ä¸ªè¡¨ç¤ºå½“å‰æ•°ç»„å­—é¢é‡çš„å­—ç¬¦ä¸²ã€‚é®è”½äº†åŸå‹é“¾ä¸Šçš„ Object.prototype.toSource() æ–¹æ³•ã€‚<br>æ³¨æ„ï¼šè¯¥ç‰¹æ€§æ˜¯éæ ‡å‡†çš„ï¼Œè¯·å°½é‡ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®ƒï¼<br>ç›®å‰å¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½ä¸æ”¯æŒè¯¥æ–¹æ³•ï¼Œ ä»…firefoxæ”¯æŒã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> alpha = <span class="keyword">new</span><span class="built_in">Array</span>(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>);</span><br><span class="line">alpha.toSource();   <span class="comment">//è¿”å›["a", "b", "c"]</span></span><br></pre></td></tr></table></figure></p><h3 id="Array-prototype-toString"><a href="#Array-prototype-toString" class="headerlink" title="Array.prototype.toString()"></a>Array.prototype.toString()</h3><p>è¿”å›ä¸€ä¸ªç”±æ‰€æœ‰æ•°ç»„å…ƒç´ ç»„åˆè€Œæˆçš„å­—ç¬¦ä¸²ã€‚é®è”½äº†åŸå‹é“¾ä¸Šçš„ Object.prototype.toString() æ–¹æ³•ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">arr.toString(); <span class="comment">// "1,2,3,4"</span></span><br></pre></td></tr></table></figure></p><h3 id="Array-prototype-toLocaleString"><a href="#Array-prototype-toLocaleString" class="headerlink" title="Array.prototype.toLocaleString()"></a>Array.prototype.toLocaleString()</h3><p>è¿”å›ä¸€ä¸ªç”±æ‰€æœ‰æ•°ç»„å…ƒç´ ç»„åˆè€Œæˆçš„æœ¬åœ°åŒ–åçš„å­—ç¬¦ä¸²ã€‚é®è”½äº†åŸå‹é“¾ä¸Šçš„ Object.prototype.toLocaleString() æ–¹æ³•ã€‚</p><h3 id="Array-prototype-indexOf"><a href="#Array-prototype-indexOf" class="headerlink" title="Array.prototype.indexOf()"></a>Array.prototype.indexOf()</h3><p>è¿”å›æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªä¸æŒ‡å®šå€¼ç›¸ç­‰çš„å…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚æœæ‰¾ä¸åˆ°è¿™æ ·çš„å…ƒç´ ï¼Œåˆ™è¿”å› -1ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">arr.indexOf(<span class="number">4</span>); <span class="comment">// 3</span></span><br><span class="line">arr.indexOf(<span class="string">'2'</span>); <span class="comment">// -1</span></span><br></pre></td></tr></table></figure></p><h3 id="Array-prototype-lastIndexOf"><a href="#Array-prototype-lastIndexOf" class="headerlink" title="Array.prototype.lastIndexOf()"></a>Array.prototype.lastIndexOf()</h3><p>è¿”å›æ•°ç»„ä¸­æœ€åä¸€ä¸ªï¼ˆä»å³è¾¹æ•°ç¬¬ä¸€ä¸ªï¼‰ä¸æŒ‡å®šå€¼ç›¸ç­‰çš„å…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚æœæ‰¾ä¸åˆ°è¿™æ ·çš„å…ƒç´ ï¼Œåˆ™è¿”å› -1ã€‚</p><h2 id="2-ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•"><a href="#2-ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•" class="headerlink" title="2.ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•"></a>2.ä¼šæ”¹å˜è‡ªèº«çš„æ–¹æ³•</h2><p>ä¸‹é¢çš„è¿™äº›æ–¹æ³•ä¼šæ”¹å˜è°ƒç”¨å®ƒä»¬çš„å¯¹è±¡è‡ªèº«çš„å€¼ï¼š</p><h3 id="Array-prototype-copyWithin"><a href="#Array-prototype-copyWithin" class="headerlink" title="Array.prototype.copyWithin()"></a>Array.prototype.copyWithin()</h3><p>åœ¨æ•°ç»„å†…éƒ¨ï¼Œå°†ä¸€æ®µå…ƒç´ åºåˆ—æ‹·è´åˆ°å¦ä¸€æ®µå…ƒç´ åºåˆ—ä¸Šï¼Œè¦†ç›–åŸæœ‰çš„å€¼ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">"alpha"</span>, <span class="string">"beta"</span>, <span class="string">"copy"</span>, <span class="string">"delta"</span>].copyWithin(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">//["alpha", "copy", "copy", "delta"]</span></span><br><span class="line"></span><br><span class="line">[<span class="string">'alpha'</span>, <span class="string">'bravo'</span>, <span class="string">'charlie'</span>, <span class="string">'delta'</span>].copyWithin(<span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// results in ["alpha", "bravo", "alpha", "bravo"]</span></span><br></pre></td></tr></table></figure></p><p><strong>è¯­æ³•ï¼š</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr.copyWithin(target)</span><br><span class="line">arr.copyWithin(target, start)</span><br><span class="line">arr.copyWithin(target, start, end)</span><br><span class="line">arr.copyWithin(ç›®æ ‡ç´¢å¼•, [æºå¼€å§‹ç´¢å¼•], [ç»“æŸæºç´¢å¼•])</span><br></pre></td></tr></table></figure></p><p><strong>target</strong></p><p>0 ä¸ºåŸºåº•çš„ç´¢å¼•ï¼Œå¤åˆ¶åºåˆ—åˆ°è¯¥ä½ç½®ã€‚å¦‚æœæ˜¯è´Ÿæ•°ï¼Œtarget å°†ä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚<br>å¦‚æœ target å¤§äºç­‰äº arr.lengthï¼Œå°†ä¼šä¸å‘ç”Ÿæ‹·è´ã€‚å¦‚æœ target åœ¨ start ä¹‹åï¼Œå¤åˆ¶çš„åºåˆ—å°†è¢«ä¿®æ”¹ä»¥ç¬¦åˆ arr.lengthã€‚</p><p><strong>start</strong></p><p>0 ä¸ºåŸºåº•çš„ç´¢å¼•ï¼Œå¼€å§‹å¤åˆ¶å…ƒç´ çš„èµ·å§‹ä½ç½®ã€‚å¦‚æœæ˜¯è´Ÿæ•°ï¼Œstart å°†ä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚<br>å¦‚æœ start è¢«å¿½ç•¥ï¼ŒcopyWithin å°†ä¼šä»0å¼€å§‹å¤åˆ¶ã€‚</p><p><strong>end</strong></p><p>0 ä¸ºåŸºåº•çš„ç´¢å¼•ï¼Œå¼€å§‹å¤åˆ¶å…ƒç´ çš„ç»“æŸä½ç½®ã€‚copyWithin å°†ä¼šæ‹·è´åˆ°è¯¥ä½ç½®ï¼Œä½†ä¸åŒ…æ‹¬ end è¿™ä¸ªä½ç½®çš„å…ƒç´ ã€‚å¦‚æœæ˜¯è´Ÿæ•°ï¼Œ end å°†ä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚<br>å¦‚æœ end è¢«å¿½ç•¥ï¼ŒcopyWithin å°†ä¼šå¤åˆ¶åˆ° arr.lengthã€‚</p><h3 id="Array-prototype-fill"><a href="#Array-prototype-fill" class="headerlink" title="Array.prototype.fill()"></a>Array.prototype.fill()</h3><p>å°†æ•°ç»„ä¸­æŒ‡å®šåŒºé—´çš„æ‰€æœ‰å…ƒç´ çš„å€¼ï¼Œéƒ½æ›¿æ¢æˆæŸä¸ªå›ºå®šçš„å€¼ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [];</span><br><span class="line">arr.fill(<span class="string">'s'</span>); <span class="comment">// [], ç”±äºlength = 0, æ‰€æœ‰è¿”å›[]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr2 = [];</span><br><span class="line">arr2.length = <span class="number">3</span>;</span><br><span class="line">arr2.fill(<span class="string">'x'</span>); <span class="comment">// ['x','x','x']</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr3 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">arr3.fill(<span class="number">0</span>); <span class="comment">// [0, 0, 0]</span></span><br></pre></td></tr></table></figure></p><p><strong>è¯­æ³•ï¼š</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr.fill(value)</span><br><span class="line">arr.fill(value, start)</span><br><span class="line">arr.fill(value, start, end)</span><br></pre></td></tr></table></figure></p><p>å…·ä½“è¦å¡«å……çš„å…ƒç´ åŒºé—´æ˜¯ [start, end) , ä¸€ä¸ªåŠå¼€åŠé—­åŒºé—´.</p><h3 id="Array-prototype-pop"><a href="#Array-prototype-pop" class="headerlink" title="Array.prototype.pop()"></a>Array.prototype.pop()</h3><p>åˆ é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¿™ä¸ªå…ƒç´ ã€‚</p><h3 id="Array-prototype-push"><a href="#Array-prototype-push" class="headerlink" title="Array.prototype.push()"></a>Array.prototype.push()</h3><p>åœ¨æ•°ç»„çš„æœ«å°¾å¢åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ•°ç»„çš„æ–°é•¿åº¦ã€‚</p><h3 id="Array-prototype-shift"><a href="#Array-prototype-shift" class="headerlink" title="Array.prototype.shift()"></a>Array.prototype.shift()</h3><p>åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¿™ä¸ªå…ƒç´ ã€‚</p><h3 id="Array-prototype-unshift"><a href="#Array-prototype-unshift" class="headerlink" title="Array.prototype.unshift()"></a>Array.prototype.unshift()</h3><p>åœ¨æ•°ç»„çš„å¼€å¤´å¢åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ•°ç»„çš„æ–°é•¿åº¦ã€‚<br><strong>pop å’Œ push å‡ä½œç”¨äºæ•°ç»„æœ«å°¾ï¼›shift å’Œ unshift åšç”¨äºæ•°ç»„å¼€å¤´ï¼Œ åˆ é™¤è¿”å›è¯¥å…ƒç´ ï¼Œ æ·»åŠ è¿”å›lengthï¼Œ å‡æ”¹å˜åŸæ•°ç»„</strong></p><h3 id="Array-prototype-reverse"><a href="#Array-prototype-reverse" class="headerlink" title="Array.prototype.reverse()"></a>Array.prototype.reverse()</h3><p>é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„æ’åˆ—é¡ºåºï¼Œå³åŸå…ˆçš„ç¬¬ä¸€ä¸ªå˜ä¸ºæœ€åä¸€ä¸ªï¼ŒåŸå…ˆçš„æœ€åä¸€ä¸ªå˜ä¸ºç¬¬ä¸€ä¸ªã€‚</p><h3 id="Array-prototype-sort"><a href="#Array-prototype-sort" class="headerlink" title="Array.prototype.sort()"></a>Array.prototype.sort()</h3><p>å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶è¿”å›å½“å‰æ•°ç»„ã€‚</p><h3 id="Array-prototype-splice"><a href="#Array-prototype-splice" class="headerlink" title="Array.prototype.splice()"></a>Array.prototype.splice()</h3><p>åœ¨ä»»æ„çš„ä½ç½®ç»™æ•°ç»„æ·»åŠ æˆ–åˆ é™¤ä»»æ„ä¸ªå…ƒç´ ã€‚<br><strong>è¯­æ³•:</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">array.splice(start)</span><br><span class="line"></span><br><span class="line">array.splice(start, deleteCount)</span><br><span class="line"></span><br><span class="line">array.splice(start, deleteCount, item1, item2, ...)</span><br></pre></td></tr></table></figure></p><p><strong>è¿”å›å€¼</strong>ï¼š ç”±è¢«åˆ é™¤çš„å…ƒç´ ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚å¦‚æœåªåˆ é™¤äº†ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™è¿”å›åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„ã€‚å¦‚æœæ²¡æœ‰åˆ é™¤å…ƒç´ ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ã€‚<br><strong>è¯¥æ–¹æ³•æ”¹å˜åŸæ•°ç»„ã€‚</strong></p><h2 id="3-éå†æ–¹æ³•"><a href="#3-éå†æ–¹æ³•" class="headerlink" title="3.éå†æ–¹æ³•"></a>3.éå†æ–¹æ³•</h2><p>åœ¨ä¸‹é¢çš„ä¼—å¤šéå†æ–¹æ³•ä¸­ï¼Œæœ‰å¾ˆå¤šæ–¹æ³•éƒ½éœ€è¦æŒ‡å®šä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚åœ¨æ¯ä¸€ä¸ªæ•°ç»„å…ƒç´ éƒ½åˆ†åˆ«æ‰§è¡Œå®Œå›è°ƒå‡½æ•°ä¹‹å‰ï¼Œæ•°ç»„çš„<code>length</code>å±æ€§ä¼šè¢«ç¼“å­˜åœ¨æŸä¸ªåœ°æ–¹ï¼Œæ‰€ä»¥ï¼Œå¦‚æœä½ åœ¨å›è°ƒå‡½æ•°ä¸­ä¸ºå½“å‰æ•°ç»„æ·»åŠ äº†æ–°çš„å…ƒç´ ï¼Œé‚£ä¹ˆé‚£äº›æ–°æ·»åŠ çš„å…ƒç´ æ˜¯ä¸ä¼šè¢«éå†åˆ°çš„ã€‚æ­¤å¤–ï¼Œå¦‚æœåœ¨å›è°ƒå‡½æ•°ä¸­å¯¹å½“å‰æ•°ç»„è¿›è¡Œäº†å…¶å®ƒä¿®æ”¹ï¼Œæ¯”å¦‚æ”¹å˜æŸä¸ªå…ƒç´ çš„å€¼æˆ–è€…åˆ æ‰æŸä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆéšåçš„éå†æ“ä½œå¯èƒ½ä¼šå—åˆ°æœªé¢„æœŸçš„å½±å“ã€‚æ€»ä¹‹ï¼Œä¸è¦å°è¯•åœ¨éå†è¿‡ç¨‹ä¸­å¯¹åŸæ•°ç»„è¿›è¡Œä»»ä½•ä¿®æ”¹ï¼Œè™½ç„¶è§„èŒƒå¯¹è¿™æ ·çš„æ“ä½œè¿›è¡Œäº†è¯¦ç»†çš„å®šä¹‰ï¼Œä½†ä¸ºäº†å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œè¯·ä¸è¦è¿™æ ·åšã€‚</p><h3 id="Array-prototype-forEach"><a href="#Array-prototype-forEach" class="headerlink" title="Array.prototype.forEach()"></a>Array.prototype.forEach()</h3><p>ä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°ã€‚<br>æ²¡æœ‰è¿”å›å€¼ã€‚<br><strong>è¯­æ³•ï¼š</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">array.forEach(callback(currentValue, index, array)&#123;</span><br><span class="line"><span class="comment">//do something</span></span><br><span class="line">&#125;, <span class="keyword">this</span>)</span><br><span class="line"></span><br><span class="line">array.forEach(callback[, thisArg])</span><br></pre></td></tr></table></figure></p><h3 id="Array-prototype-entries"><a href="#Array-prototype-entries" class="headerlink" title="Array.prototype.entries()"></a>Array.prototype.entries()</h3><p>è¿”å›ä¸€ä¸ªæ•°ç»„è¿­ä»£å™¨å¯¹è±¡ï¼Œè¯¥è¿­ä»£å™¨ä¼šåŒ…å«æ‰€æœ‰æ•°ç»„å…ƒç´ çš„é”®å€¼å¯¹ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</span><br><span class="line"><span class="keyword">var</span> iterator = arr.entries();</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(iterator);</span><br><span class="line"><span class="comment">// Array Iterator &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value);</span><br><span class="line"><span class="comment">// [0, "a"]</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value);</span><br><span class="line"><span class="comment">// [1, "b"]</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value);</span><br><span class="line"><span class="comment">// [2, "c"]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</span><br><span class="line"><span class="keyword">var</span> iterator = arr.entries();</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> e <span class="keyword">of</span> iterator) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// [0, "a"]</span></span><br><span class="line"><span class="comment">// [1, "b"]</span></span><br><span class="line"><span class="comment">// [2, "c"]</span></span><br></pre></td></tr></table></figure></p><h3 id="Array-prototype-every"><a href="#Array-prototype-every" class="headerlink" title="Array.prototype.every()"></a>Array.prototype.every()</h3><p>å¦‚æœæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ»¡è¶³æµ‹è¯•å‡½æ•°ï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</p><h3 id="Array-prototype-some"><a href="#Array-prototype-some" class="headerlink" title="Array.prototype.some()"></a>Array.prototype.some()</h3><p>å¦‚æœæ•°ç»„ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³æµ‹è¯•å‡½æ•°ï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</p><h3 id="Array-prototype-filter"><a href="#Array-prototype-filter" class="headerlink" title="Array.prototype.filter()"></a>Array.prototype.filter()</h3><p>å°†æ‰€æœ‰åœ¨è¿‡æ»¤å‡½æ•°ä¸­è¿”å› true çš„æ•°ç»„å…ƒç´ æ”¾è¿›ä¸€ä¸ªæ–°æ•°ç»„ä¸­å¹¶è¿”å›ã€‚</p><h3 id="Array-prototype-find"><a href="#Array-prototype-find" class="headerlink" title="Array.prototype.find()"></a>Array.prototype.find()</h3><p>æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æµ‹è¯•å‡½æ•°çš„å…ƒç´ å¹¶è¿”å›é‚£ä¸ªå…ƒç´ çš„å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› undefinedã€‚</p><h3 id="Array-prototype-findIndex"><a href="#Array-prototype-findIndex" class="headerlink" title="Array.prototype.findIndex()"></a>Array.prototype.findIndex()</h3><p>æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æµ‹è¯•å‡½æ•°çš„å…ƒç´ å¹¶è¿”å›é‚£ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› -1ã€‚</p><h3 id="Array-prototype-keys"><a href="#Array-prototype-keys" class="headerlink" title="Array.prototype.keys()"></a>Array.prototype.keys()</h3><p>è¿”å›ä¸€ä¸ªæ•°ç»„è¿­ä»£å™¨å¯¹è±¡ï¼Œè¯¥è¿­ä»£å™¨ä¼šåŒ…å«æ‰€æœ‰æ•°ç»„å…ƒç´ çš„é”®ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> iterator = arr.keys();</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(iterator);</span><br><span class="line"><span class="comment">// Array Iterator &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="comment">// Object &#123;value: 0, done: false&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="comment">// Object &#123;value: 1, done: false&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="comment">// Object &#123;value: 2, done: false&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="comment">// Object &#123;value: undefined, done: true&#125;</span></span><br></pre></td></tr></table></figure></p><h3 id="Array-prototype-map"><a href="#Array-prototype-map" class="headerlink" title="Array.prototype.map()"></a>Array.prototype.map()</h3><p>è¿”å›ä¸€ä¸ªç”±å›è°ƒå‡½æ•°çš„è¿”å›å€¼ç»„æˆçš„æ–°æ•°ç»„ã€‚</p><h3 id="Array-prototype-reduce"><a href="#Array-prototype-reduce" class="headerlink" title="Array.prototype.reduce()"></a>Array.prototype.reduce()</h3><p>ä»å·¦åˆ°å³ä¸ºæ¯ä¸ªæ•°ç»„å…ƒç´ æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°ï¼Œå¹¶æŠŠä¸Šæ¬¡å›è°ƒå‡½æ•°çš„è¿”å›å€¼æ”¾åœ¨ä¸€ä¸ªæš‚å­˜å™¨ä¸­ä¼ ç»™ä¸‹æ¬¡å›è°ƒå‡½æ•°ï¼Œå¹¶è¿”å›æœ€åä¸€æ¬¡å›è°ƒå‡½æ•°çš„è¿”å›å€¼ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> total = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">sum, value</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> sum + value;</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// total is 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> flattened = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.concat(b);</span><br><span class="line">&#125;, []);</span><br><span class="line"><span class="comment">// flattened is [0, 1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure></p><p>å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ar flattened = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]].reduce(</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.concat(b);</span><br><span class="line">  &#125;,</span><br><span class="line">  []</span><br><span class="line">);</span><br><span class="line"><span class="comment">// flattened is [0, 1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½ ä¹Ÿå¯ä»¥å†™æˆç®­å¤´å‡½æ•°çš„å½¢å¼ï¼š</span></span><br><span class="line"><span class="keyword">var</span> flattened = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]].reduce(</span><br><span class="line"> ( acc, cur ) =&gt; acc.concat(cur),</span><br><span class="line"> []</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>æ•°ç»„å»é‡<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">et arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> result = arr.sort().reduce(<span class="function">(<span class="params">init, current</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(init.length===<span class="number">0</span> || init[init.length<span class="number">-1</span>]!==current)&#123;</span><br><span class="line">        init.push(current);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> init;</span><br><span class="line">&#125;, []);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">//[1,2,3,4,5]</span></span><br></pre></td></tr></table></figure></p><h3 id="Array-prototype-reduceRight"><a href="#Array-prototype-reduceRight" class="headerlink" title="Array.prototype.reduceRight()"></a>Array.prototype.reduceRight()</h3><p>ä»å³åˆ°å·¦ä¸ºæ¯ä¸ªæ•°ç»„å…ƒç´ æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°ï¼Œå¹¶æŠŠä¸Šæ¬¡å›è°ƒå‡½æ•°çš„è¿”å›å€¼æ”¾åœ¨ä¸€ä¸ªæš‚å­˜å™¨ä¸­ä¼ ç»™ä¸‹æ¬¡å›è°ƒå‡½æ•°ï¼Œå¹¶è¿”å›æœ€åä¸€æ¬¡å›è°ƒå‡½æ•°çš„è¿”å›å€¼ã€‚</p><h3 id="Array-prototype-values"><a href="#Array-prototype-values" class="headerlink" title="Array.prototype.values()"></a>Array.prototype.values()</h3><p>è¿”å›ä¸€ä¸ªæ•°ç»„è¿­ä»£å™¨å¯¹è±¡ï¼Œè¯¥è¿­ä»£å™¨ä¼šåŒ…å«æ‰€æœ‰æ•°ç»„å…ƒç´ çš„å€¼ã€‚</p><h3 id="Array-prototype-iterator"><a href="#Array-prototype-iterator" class="headerlink" title="Array.prototype@@iterator"></a>Array.prototype<a href>@@iterator</a></h3><p>å’Œä¸Šé¢çš„ values() æ–¹æ³•æ˜¯åŒä¸€ä¸ªå‡½æ•°ã€‚</p><h2 id="4-é€šç”¨æ–¹æ³•"><a href="#4-é€šç”¨æ–¹æ³•" class="headerlink" title="4.é€šç”¨æ–¹æ³•"></a>4.é€šç”¨æ–¹æ³•</h2><p>åœ¨ JavaScript ä¸­ï¼Œå¾ˆå¤šçš„æ•°ç»„æ–¹æ³•è¢«æ•…æ„è®¾è®¡æˆæ˜¯é€šç”¨çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé‚£äº›çœ‹èµ·æ¥åƒæ˜¯æ•°ç»„çš„å¯¹è±¡ï¼ˆç±»æ•°ç»„å¯¹è±¡ï¼‰ï¼Œå³æ‹¥æœ‰ä¸€ä¸ª <code>length</code> å±æ€§ï¼Œä»¥åŠå¯¹åº”çš„ç´¢å¼•å±æ€§ï¼ˆä¹Ÿå°±æ˜¯æ•°å­—ç±»å‹çš„å±æ€§ï¼Œæ¯”å¦‚ <code>obj[5]</code> )çš„éæ•°ç»„å¯¹è±¡ä¹Ÿæ˜¯å¯ä»¥è°ƒç”¨é‚£äº›æ•°ç»„æ–¹æ³•çš„ã€‚</p><p>å…¶ä¸­ä¸€äº›æ•°ç»„æ–¹æ³•ï¼Œæ¯”å¦‚è¯´ <code>join</code> æ–¹æ³•ï¼Œå®ƒä»¬åªä¼šå•çº¯çš„è¯»å–å½“å‰å¯¹è±¡çš„ <code>length</code> å±æ€§å’Œç´¢æ€§å±æ€§çš„å€¼ï¼Œå¹¶ä¸ä¼šå°è¯•å»æ”¹å˜è¿™äº›å±æ€§çš„å€¼ã€‚</p><p>è€Œå¦å¤–ä¸€äº›æ•°ç»„æ–¹æ³•ï¼Œæ¯”å¦‚è¯´ <code>reverse</code> æ–¹æ³•ï¼Œå®ƒä»¬ä¼šå°è¯•ä¿®æ”¹é‚£äº›å±æ€§çš„å€¼ï¼Œå› æ­¤ï¼Œå¦‚æœå½“å‰å¯¹è±¡æ˜¯ä¸ª <code>String</code> å¯¹è±¡ï¼Œé‚£ä¹ˆè¿™äº›æ–¹æ³•åœ¨æ‰§è¡Œæ—¶å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºå­—ç¬¦ä¸²å¯¹è±¡çš„ <code>length</code> å±æ€§å’Œç´¢å¼•å±æ€§éƒ½æ˜¯åªè¯»çš„ã€‚</p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> æ•°ç»„ </tag></tags></entry><entry><title>CSS3åŠ¨ç”»--è½¬ä¸åœçš„éª°å­</title><link href="/CSS3-rotate-dice.html"/><url>/CSS3-rotate-dice.html</url><content type="html"><![CDATA[<ul><li><a href="http://mhynet.cn/HomeWorks/projects/3D_transform/index.html">æœ€ç»ˆæ•ˆæœ</a></li><li><a href="https://github.com/mhy-web/HomeWorks/blob/master/projects/3D_transform/index.html" target="_blank" rel="noopener">å‚è€ƒä»£ç </a><br>æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å°±å¯ä»¥å®ç°ã€‚</li></ul><h3 id="1-å»ºç«‹å®¹å™¨å’Œ6ä¸ªé¢"><a href="#1-å»ºç«‹å®¹å™¨å’Œ6ä¸ªé¢" class="headerlink" title="1.å»ºç«‹å®¹å™¨å’Œ6ä¸ªé¢:"></a>1.å»ºç«‹å®¹å™¨å’Œ6ä¸ªé¢:</h3><p>æœ€å¤–é¢çš„ <code>&lt;div class=&quot;wrap&quot;&gt;&lt;/div&gt;</code> ç”¨äºæ•´ä¸ªç»“æ„åœ¨é¡µé¢ä¸­çš„å¸ƒå±€ï¼Œä»¥åŠè®¾ç½®è§‚å¯Ÿè€…ä¸z=0å¹³é¢çš„è·ç¦»ï¼Œä½¿å…·æœ‰ä¸‰ç»´ä½ç½®å˜æ¢çš„å…ƒç´ äº§ç”Ÿé€è§†æ•ˆæœã€‚z&gt;0çš„ä¸‰ç»´å…ƒç´ æ¯”æ­£å¸¸å¤§ï¼Œè€Œz&lt;0æ—¶åˆ™æ¯”æ­£å¸¸å°ï¼Œå¤§å°ç¨‹åº¦ç”±è¯¥å±æ€§çš„å€¼å†³å®šã€‚<br><code>&lt;div class=&quot;content&quot;&gt;&lt;/div&gt;</code>æ˜¯6ä¸ªé¢çš„çˆ¶å®¹å™¨ï¼Œé™åˆ¶6ä¸ªé¢çš„å¤§å°å’Œä½ç½®ã€‚åŒæ—¶ï¼Œæ—‹è½¬åŠ¨ç”»ä¹Ÿè®¾ç½®åœ¨è¯¥å®¹å™¨ä¸Šã€‚</p><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"box front"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"box left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"box right"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"box back"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"box top"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"box bottom"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è®¾ç½®æ ·å¼<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="attribute">position</span>: relative;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">100px</span> auto;</span><br><span class="line"><span class="attribute">perspective</span>: <span class="number">1200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&#123;</span><br><span class="line"><span class="attribute">position</span>: absolute;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line"><span class="attribute">backface-visibility</span>: hidden;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">100px</span>) <span class="built_in">rotateY</span>(<span class="number">45deg</span>) <span class="built_in">rotateZ</span>(<span class="number">45deg</span>) <span class="built_in">rotateX</span>(<span class="number">90deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line"><span class="attribute">display</span>: block;</span><br><span class="line"><span class="attribute">position</span>: absolute;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="attribute">border-radius</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.front</span>&#123;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">100px</span>);</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#7FFF00</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back</span>&#123;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">rotateY</span>(<span class="number">180deg</span>) <span class="built_in">translateZ</span>(<span class="number">100px</span>);</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#00FFFF</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">rotateY</span>(-<span class="number">90deg</span>) <span class="built_in">translateZ</span>(<span class="number">100px</span>);</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#DC143C</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">rotateY</span>(<span class="number">90deg</span>) <span class="built_in">translateZ</span>(<span class="number">100px</span>);</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#808000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.top</span>&#123;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">rotateX</span>(<span class="number">90deg</span>) <span class="built_in">translateZ</span>(<span class="number">100px</span>);</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#EE82EE</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bottom</span>&#123;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">rotateX</span>(-<span class="number">90deg</span>) <span class="built_in">translateZ</span>(<span class="number">100px</span>);</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#FFFF00</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="2-å®¹å™¨è®¾ç½®æ—‹è½¬åŠ¨ç”»ï¼š"><a href="#2-å®¹å™¨è®¾ç½®æ—‹è½¬åŠ¨ç”»ï¼š" class="headerlink" title="2.å®¹å™¨è®¾ç½®æ—‹è½¬åŠ¨ç”»ï¼š"></a>2.å®¹å™¨è®¾ç½®æ—‹è½¬åŠ¨ç”»ï¼š</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content</span>&#123;</span><br><span class="line"><span class="comment">/* ... */</span></span><br><span class="line"><span class="attribute">animation</span>: rotating <span class="number">4s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> rotating&#123;</span><br><span class="line">    0%&#123;</span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">translateZ</span>(<span class="number">100px</span>) <span class="built_in">rotateY</span>(<span class="number">0deg</span>) <span class="built_in">rotateZ</span>(<span class="number">0deg</span>) <span class="built_in">rotateX</span>(<span class="number">0deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">translateZ</span>(<span class="number">100px</span>) <span class="built_in">rotateY</span>(<span class="number">360deg</span>) <span class="built_in">rotateZ</span>(<span class="number">360deg</span>) <span class="built_in">rotateX</span>(<span class="number">360deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-å„ä¸ªé¢è®¾ç½®ç‚¹æ•°"><a href="#3-å„ä¸ªé¢è®¾ç½®ç‚¹æ•°" class="headerlink" title="3.å„ä¸ªé¢è®¾ç½®ç‚¹æ•°"></a>3.å„ä¸ªé¢è®¾ç½®ç‚¹æ•°</h3><p>æŒ‰1~6çš„é¡ºåºç»™å¯¹åº”çš„é¢çš„divåŠ å…¥ç‚¹æ•°ã€‚å®Œæˆåçš„htmlåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"box front"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item-ct"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"box left"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item-ct"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"box right"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item-ct"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"box back"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item-ct"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"box top"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item-ct"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"box bottom"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item-ct"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span><span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>å¯¹åº”çš„æ ·å¼å¦‚ä¸‹ï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span>&#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item-ct</span>&#123;</span><br><span class="line"><span class="attribute">position</span>:absolute;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">top</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">right</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">bottom</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">display</span>:flex;</span><br><span class="line"><span class="attribute">transform-style</span>:preserve-<span class="number">3</span>d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.front</span><span class="selector-class">.item-ct</span>&#123;</span><br><span class="line"><span class="attribute">justify-content</span>:center;</span><br><span class="line"><span class="attribute">align-items</span>:center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span><span class="selector-class">.item-ct</span>&#123;</span><br><span class="line"><span class="attribute">justify-content</span>:space-between;</span><br><span class="line"><span class="attribute">align-items</span>:flex-start;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span><span class="selector-class">.item</span><span class="selector-pseudo">:nth-child(2)</span>&#123;</span><br><span class="line"><span class="attribute">align-self</span>:flex-end;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span><span class="selector-class">.item-ct</span>&#123;</span><br><span class="line"><span class="attribute">justify-content</span>:space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span><span class="selector-class">.item</span><span class="selector-pseudo">:nth-child(2)</span>&#123;</span><br><span class="line"><span class="attribute">align-self</span>:center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span><span class="selector-class">.item</span><span class="selector-pseudo">:nth-child(3)</span>&#123;</span><br><span class="line"><span class="attribute">align-self</span>:flex-end;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back</span><span class="selector-class">.item-ct</span>&#123;</span><br><span class="line"><span class="attribute">flex-wrap</span>:wrap;</span><br><span class="line"><span class="attribute">align-content</span>:space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.column</span>&#123;</span><br><span class="line"><span class="attribute">display</span>: flex;</span><br><span class="line"><span class="attribute">flex-basis</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back</span><span class="selector-class">.column</span><span class="selector-pseudo">:nth-child(1)</span>&#123;</span><br><span class="line"><span class="attribute">align-items</span>:flex-start;</span><br><span class="line"><span class="attribute">justify-content</span>:space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back</span><span class="selector-class">.column</span><span class="selector-pseudo">:nth-child(2)</span>&#123;</span><br><span class="line"><span class="attribute">justify-content</span>:space-between;</span><br><span class="line"><span class="attribute">align-items</span>:flex-end;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.top</span><span class="selector-class">.item-ct</span>&#123;</span><br><span class="line"><span class="attribute">flex-wrap</span>:wrap;</span><br><span class="line"><span class="attribute">align-content</span>:space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.top</span><span class="selector-class">.column</span><span class="selector-pseudo">:nth-child(1)</span>&#123;</span><br><span class="line"><span class="attribute">justify-content</span>:space-between;</span><br><span class="line"><span class="attribute">align-items</span>:flex-start;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.top</span><span class="selector-class">.column</span><span class="selector-pseudo">:nth-child(2)</span>&#123;</span><br><span class="line"><span class="attribute">justify-content</span>:center;</span><br><span class="line"><span class="attribute">align-items</span>:center;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.top</span><span class="selector-class">.column</span><span class="selector-pseudo">:nth-child(3)</span>&#123;</span><br><span class="line"><span class="attribute">justify-content</span>:space-between;</span><br><span class="line"><span class="attribute">align-items</span>:flex-end;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bottom</span><span class="selector-class">.item-ct</span>&#123;</span><br><span class="line"><span class="attribute">flex-wrap</span>:wrap;</span><br><span class="line"><span class="attribute">align-content</span>:space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bottom</span><span class="selector-class">.column</span><span class="selector-pseudo">:nth-child(1)</span>&#123;</span><br><span class="line"><span class="attribute">justify-content</span>:space-between;</span><br><span class="line"><span class="attribute">align-items</span>:flex-start;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bottom</span><span class="selector-class">.column</span><span class="selector-pseudo">:nth-child(2)</span>&#123;</span><br><span class="line"><span class="attribute">justify-content</span>:space-between;</span><br><span class="line"><span class="attribute">align-items</span>:flex-end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è®¾ç½®ç‚¹æ•°éƒ¨åˆ†çš„csså¸ƒå±€ä½¿ç”¨çš„æ˜¯flexï¼Œå¦‚æœä½¿ç”¨gridå¸ƒå±€ï¼Œhtmlç»“æ„å¯èƒ½ä¼šæ›´ç®€æ´ä¸€äº›ï¼Œä½ å¯ä»¥è¯•ä¸€ä¸‹ã€‚</p><h3 id="4-ç»™æ¯ä¸ªç‚¹æ•°è®¾ç½®é¢œè‰²æ¸å˜åŠ¨ç”»"><a href="#4-ç»™æ¯ä¸ªç‚¹æ•°è®¾ç½®é¢œè‰²æ¸å˜åŠ¨ç”»" class="headerlink" title="4.ç»™æ¯ä¸ªç‚¹æ•°è®¾ç½®é¢œè‰²æ¸å˜åŠ¨ç”»"></a>4.ç»™æ¯ä¸ªç‚¹æ•°è®¾ç½®é¢œè‰²æ¸å˜åŠ¨ç”»</h3><p>è¿™éƒ¨åˆ†ä»£ç åªæœ‰cssï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span>&#123;</span><br><span class="line"><span class="comment">/* ... */</span></span><br><span class="line"><span class="attribute">animation</span>: shineChange <span class="number">4s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> shineChange &#123;</span><br><span class="line"><span class="selector-tag">from</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>: <span class="number">#4169E1</span> ;</span><br><span class="line"><span class="attribute">box-shadow</span>:inset <span class="number">0</span><span class="number">0</span><span class="number">25px</span><span class="number">#416981</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line"><span class="attribute">background-color</span>:  <span class="number">#FFA500</span>;</span><br><span class="line"><span class="attribute">box-shadow</span>: inset <span class="number">0</span><span class="number">0</span><span class="number">70px</span><span class="number">#ddA590</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="selector-tag">to</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>: <span class="number">#4169E1</span> ;</span><br><span class="line"><span class="attribute">box-shadow</span>:inset <span class="number">0</span><span class="number">0</span><span class="number">25px</span><span class="number">#416981</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä»¥ä¸Šå°±æ˜¯ä½¿ç”¨CSS3å®ç°æ—‹çš„ä»‹ç»ï¼Œæ–‡ä¸­çš„æ–¹æ¡ˆä½¿ç”¨çš„æ˜¯å›ºå®šå°ºå¯¸ã€flexå¸ƒå±€ï¼Œè¿˜æœ‰ä¼˜åŒ–çš„ç©ºé—´ã€‚</p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> css </tag><tag> åŠ¨ç”» </tag><tag> transform </tag></tags></entry><entry><title>ä½¿ç”¨wepyæ¡†æ¶å¼€å‘å¾®ä¿¡å°ç¨‹åº</title><link href="/wechat-app-of-wepy.html"/><url>/wechat-app-of-wepy.html</url><content type="html"><![CDATA[<p>å¾®ä¿¡å°ç¨‹åºæ˜¯ä»…ä½¿ç”¨äºå¾®ä¿¡å¹³å°.</p><ol><li>å®‰è£…å¼€å‘è€…å·¥å…·<a id="more"></a>å¼€å‘å¾®ä¿¡å°ç¨‹åºä¹‹å‰éœ€è¦å®‰è£…å¾®ä¿¡å¼€å‘è€…å·¥å…·ï¼Œå‰å¾€å¾®ä¿¡å…¬ä¼—å¹³å°ä¸‹è½½<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/devtools/download.html?t=201828" target="_blank" rel="noopener">å¾®ä¿¡å¼€å‘è€…å·¥å…·</a>ï¼Œæ ¹æ®æ‰€ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿé€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬ä¸‹è½½å®‰è£…å³å¯ä½¿ç”¨ã€‚</li><li>æ–°å»ºé¡¹ç›®</li></ol><p>ä½¿ç”¨å‘½ä»¤è¡Œæ–°å»ºé¡¹ç›®ç›®å½•å¦‚ï¼š myxhcï¼Œ ç„¶åè¿›å…¥è¯¥ç›®å½•<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> myxhc</span><br></pre></td></tr></table></figure></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> myxhc</span><br></pre></td></tr></table></figure><p>ç„¶åä½¿ç”¨npmæˆ–yarnå…¨å±€å®‰è£… wepy-cliå·¥å…·:<br><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install wepy-<span class="keyword">cli</span> -g</span><br></pre></td></tr></table></figure></p><p>å®‰è£…å¥½wepy-cliå·¥å…·ä¸”æ–°å»ºå¥½é¡¹ç›®æ–‡ä»¶å¤¹åï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆé¡¹ç›®ï¼š<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wepy <span class="keyword">new</span> myproject</span><br></pre></td></tr></table></figure></p><p>å®‰è£…ä¾èµ–ï¼Œé¡¹ç›®éœ€è¦çš„ä¾èµ–å¯ä»¥å•ç‹¬ä½¿ç”¨npmå®‰è£…ï¼Œæˆ–è€…å…ˆé…ç½®å¥½package.jsonæ–‡ä»¶åç»Ÿä¸€å®‰è£…ã€‚<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm  <span class="keyword">install</span></span><br></pre></td></tr></table></figure></p><p>å¼€å¯å®æ—¶ç¼–è¯‘ï¼š<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wepy build <span class="comment">--watch</span></span><br></pre></td></tr></table></figure></p><p>ç°åœ¨ï¼Œå¯ä»¥æŠŠé¡¹ç›®å¯¼å…¥å¾®ä¿¡å¼€å‘è€…å·¥å…·è¿›è¡Œå®æ—¶é¢„è§ˆè°ƒè¯•äº†ã€‚</p><ol start="3"><li>æŠŠé¡¹ç›®å¯¼å…¥å¼€å‘è€…å·¥å…·</li></ol><p><img src="http://wicdn.xiaohongchun.com/xhc-plat/1518780472339_mdFC4GFGhZ.png" style="width: 50%; margin-left: 20px;"></p><p>æ³¨æ„ï¼šä½¿ç”¨wepyæ¡†æ¶ç”Ÿæˆçš„é¡¹ç›®ï¼Œéœ€è¦å¯¼å…¥çš„æ˜¯é¡¹ç›®ä¸­çš„distç›®å½•ï¼›ä½¿ç”¨åŸç”Ÿå¾®ä¿¡å°ç¨‹åºå¼€å‘åˆ™éœ€è¦å¯¼å…¥æ•´ä¸ªé¡¹ç›®ç›®å½•ã€‚</p><p>å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„ä½¿ç”¨è¯´æ˜è¿™é‡Œä¸åœ¨èµ˜è¿°ï¼Œé‡åˆ°é—®é¢˜è¯·æŸ¥é˜…ä½¿ç”¨æ–‡æ¡£æˆ–è€…æœç´¢ç›¸å…³é—®é¢˜å¯»æ‰¾è§£å†³åŠæ³•ã€‚</p><ol start="4"><li>wepyæ¡†æ¶çš„ä½¿ç”¨</li></ol><p>wepyæ¡†æ¶ä½¿ç”¨è¯·æŸ¥é˜…<a href="https://tencent.github.io/wepy/document.html#/" target="_blank" rel="noopener">wepyå®˜æ–¹æ–‡æ¡£</a><br>wepyæ¡†æ¶å’ŒVueå¾ˆç›¸ä¼¼ï¼Œå¦‚æœä½ æœ‰Vueä½¿ç”¨ç»éªŒï¼Œå­¦ä¹ wepyæ¡†æ¶åº”è¯¥æ²¡ä»€ä¹ˆéš¾åº¦ã€‚</p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> å¾®ä¿¡å°ç¨‹åº </tag><tag> wepy </tag></tags></entry><entry><title>thisã€åŸå‹ã€ç»§æ‰¿æ€»ç»“</title><link href="/this-protoype-inherit.html"/><url>/this-protoype-inherit.html</url><content type="html"><![CDATA[<h2 id="this-ç›¸å…³é—®é¢˜"><a href="#this-ç›¸å…³é—®é¢˜" class="headerlink" title="this ç›¸å…³é—®é¢˜"></a>this ç›¸å…³é—®é¢˜</h2><h3 id="é—®é¢˜1ï¼š-applyã€call-ã€bindæœ‰ä»€ä¹ˆä½œç”¨ï¼Œä»€ä¹ˆåŒºåˆ«"><a href="#é—®é¢˜1ï¼š-applyã€call-ã€bindæœ‰ä»€ä¹ˆä½œç”¨ï¼Œä»€ä¹ˆåŒºåˆ«" class="headerlink" title="é—®é¢˜1ï¼š applyã€call ã€bindæœ‰ä»€ä¹ˆä½œç”¨ï¼Œä»€ä¹ˆåŒºåˆ«"></a>é—®é¢˜1ï¼š applyã€call ã€bindæœ‰ä»€ä¹ˆä½œç”¨ï¼Œä»€ä¹ˆåŒºåˆ«</h3><a id="more"></a><ul><li><p>Function.prototype.bind:</p><p>bindï¼Œè¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œå¹¶ä¸”ä½¿å‡½æ•°å†…éƒ¨çš„thisä¸ºä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var fn3 = obj1.fn.bind(obj1)<span class="comment">;</span></span><br><span class="line">fn3()<span class="comment">;</span></span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨callå’Œapplyè®¾ç½®this</p><p>call applyï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡åŠå‚æ•°</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span>.<span class="title">call</span></span>(context, param1, param2...)</span><br><span class="line"><span class="function"><span class="keyword">fn</span>.<span class="title">apply</span></span>(context, paramArray)</span><br></pre></td></tr></table></figure><p>è¯­æ³•å¾ˆç®€å•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯å¸Œæœ›è®¾ç½®çš„thiså¯¹è±¡ï¼Œä¸åŒä¹‹å¤„åœ¨äºcallæ–¹æ³•æ¥æ”¶å‚æ•°åˆ—è¡¨ï¼Œè€Œapplyæ¥æ”¶å‚æ•°æ•°ç»„</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f<span class="symbol">n2</span>.<span class="keyword">call</span><span class="comment">(obj1)</span>;</span><br><span class="line">f<span class="symbol">n2</span>.apply<span class="comment">(obj1)</span>;</span><br></pre></td></tr></table></figure></li><li><p>å®ƒä»¬çš„ä¸åŒä¹‹å¤„ï¼š</p><ul><li><p>applyï¼š</p><p> æœ€å¤šåªèƒ½æœ‰ä¸¤ä¸ªå‚æ•°â€”â€”æ–°thiså¯¹è±¡å’Œä¸€ä¸ªæ•°ç»„ argArrayã€‚å¦‚æœç»™è¯¥æ–¹æ³•ä¼ é€’å¤šä¸ªå‚æ•°ï¼Œåˆ™æŠŠå‚æ•°éƒ½å†™è¿›è¿™ä¸ªæ•°ç»„é‡Œé¢ï¼Œå½“ç„¶ï¼Œå³ä½¿åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿè¦å†™è¿›æ•°ç»„é‡Œé¢ã€‚å¦‚æœ argArray ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°ç»„æˆ–è€…ä¸æ˜¯ arguments å¯¹è±¡ï¼Œé‚£ä¹ˆå°†å¯¼è‡´ä¸€ä¸ª TypeErrorã€‚å¦‚æœæ²¡æœ‰æä¾› argArray å’Œ thisObj ä»»ä½•ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆ Global å¯¹è±¡å°†è¢«ç”¨ä½œ thisObjï¼Œå¹¶ä¸”æ— æ³•è¢«ä¼ é€’ä»»ä½•å‚æ•°ã€‚</p></li><li><p>callï¼š</p><p> åˆ™æ˜¯ç›´æ¥çš„å‚æ•°åˆ—è¡¨ï¼Œä¸»è¦ç”¨åœ¨jså¯¹è±¡å„æ–¹æ³•äº’ç›¸è°ƒç”¨çš„æ—¶å€™ï¼Œä½¿å½“å‰thiså®ä¾‹æŒ‡é’ˆä¿æŒä¸€è‡´,æˆ–åœ¨ç‰¹æ®Šæƒ…å†µä¸‹éœ€è¦æ”¹å˜thisæŒ‡é’ˆã€‚å¦‚æœæ²¡æœ‰æä¾› thisObj å‚æ•°ï¼Œé‚£ä¹ˆ Global å¯¹è±¡è¢«ç”¨ä½œ thisObjã€‚</p></li></ul><p>æ›´ç®€å•åœ°è¯´ï¼Œapplyå’ŒcallåŠŸèƒ½ä¸€æ ·ï¼Œåªæ˜¯ä¼ å…¥çš„å‚æ•°åˆ—è¡¨å½¢å¼ä¸åŒï¼šå¦‚ func.call(func1,var1,var2,var3) å¯¹åº”çš„applyå†™æ³•ä¸ºï¼šfunc.apply(func1,[var1,var2,var3])<br>ä¹Ÿå°±æ˜¯è¯´ï¼šcallè°ƒç”¨çš„ä¸ºå•ä¸ªï¼Œapplyè°ƒç”¨çš„å‚æ•°ä¸ºæ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">sum</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span> === <span class="built_in">window</span>);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(a + b);</span><br><span class="line">&#125;</span><br><span class="line">sum(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">sum.call(<span class="literal">null</span>,<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">sum.apply(<span class="literal">null</span>,[<span class="number">1</span>,<span class="number">2</span>]);</span><br></pre></td></tr></table></figure></li></ul><p>ä½œç”¨ã€€ã€€</p><pre><code>* è°ƒç”¨å‡½æ•°</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> info = <span class="string">'tom'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="comment">//thisæŒ‡å‘window</span></span><br><span class="line"><span class="keyword">var</span> info = <span class="string">'jerry'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.info);   <span class="comment">//tom</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>===<span class="built_in">window</span>)  <span class="comment">//true</span></span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br><span class="line">foo.call();</span><br><span class="line">foo.apply();</span><br><span class="line">callå’Œapplyå¯ä»¥æ”¹å˜å‡½æ•°ä¸­<span class="keyword">this</span>çš„æŒ‡å‘ã€€ã€€</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">      info:<span class="string">'spike'</span></span><br><span class="line">&#125;</span><br><span class="line">foo.call(obj);    <span class="comment">//è¿™é‡Œfooå‡½æ•°é‡Œé¢çš„thiså°±æŒ‡å‘äº†obj</span></span><br><span class="line">foo.apply(obj);</span><br></pre></td></tr></table></figure><pre><code>* å€Ÿç”¨åˆ«çš„å¯¹è±¡çš„æ–¹æ³•eg:æ±‚æ•°ç»„ä¸­çš„æœ€å¤§å€¼</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">123</span>,<span class="number">34</span>,<span class="number">5</span>,<span class="number">23</span>,<span class="number">3434</span>,<span class="number">23</span>];</span><br><span class="line"><span class="comment">//æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="keyword">var</span> arr1 = arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> b-a;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(arr1[<span class="number">0</span>]);</span><br><span class="line"><span class="comment">//æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="keyword">var</span> max = <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,arr)   <span class="comment">//å€Ÿç”¨åˆ«çš„å¯¹è±¡çš„æ–¹æ³•</span></span><br><span class="line"><span class="built_in">console</span>.log(max);</span><br><span class="line">fn.call(context, param1, param2...)</span><br><span class="line">fn.apply(context, paramArray)</span><br></pre></td></tr></table></figure><h3 id="é—®é¢˜2ï¼š-ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆ"><a href="#é—®é¢˜2ï¼š-ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆ" class="headerlink" title="é—®é¢˜2ï¼š ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆ?"></a>é—®é¢˜2ï¼š ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆ?</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> john = &#123;</span><br><span class="line">    firstName: <span class="string">"John"</span></span><br><span class="line">&#125;</span><br><span class="line">function <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">    alert(this.firstName + <span class="string">": hi!"</span>)</span><br><span class="line">&#125;</span><br><span class="line">john.sayHi = <span class="function"><span class="keyword">func</span></span></span><br><span class="line"><span class="function"><span class="title">john</span>.<span class="title">sayHi</span><span class="params">()</span></span></span><br><span class="line"><span class="comment">//è¾“å‡ºç»“æœï¼šjoinï¼šhiï¼</span></span><br><span class="line"><span class="comment">//æ­¤æ—¶ï¼Œthisæ˜¯joinå¯¹è±¡ï¼›</span></span><br></pre></td></tr></table></figure><h3 id="é—®é¢˜3ï¼š-ä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆ"><a href="#é—®é¢˜3ï¼š-ä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆ" class="headerlink" title="é—®é¢˜3ï¼š ä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆ"></a>é—®é¢˜3ï¼š ä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆ</h3><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span><span class="params">()</span></span></span><br><span class="line">function <span class="function"><span class="keyword">func</span><span class="params">()</span> &#123;</span></span><br><span class="line">   alert(this)</span><br><span class="line">&#125;</span><br><span class="line">//è¾“å‡ºï¼š Window</span><br><span class="line">//åŸå› ï¼š<span class="function"><span class="keyword">func</span><span class="params">()</span>ç­‰ä»·äº<span class="title">func</span>.<span class="title">call</span><span class="params">(undefined)</span>;</span></span><br><span class="line">//è€Œundefinedä¼šè¢«æµè§ˆå™¨é»˜è®¤ä¸ºå…¨å±€å¯¹è±¡window<span class="comment">;</span></span><br></pre></td></tr></table></figure><h4 id="é—®é¢˜4ï¼šä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆ"><a href="#é—®é¢˜4ï¼šä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆ" class="headerlink" title="é—®é¢˜4ï¼šä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆ"></a>é—®é¢˜4ï¼šä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆ</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    &#125;, <span class="number">200</span>);</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br><span class="line"><span class="comment">//è¾“å‡ºä¸ºï¼š#document;  window;</span></span><br><span class="line"><span class="comment">//åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­thisä»£è¡¨äº‹ä»¶æºDOMå¯¹è±¡</span></span><br><span class="line"><span class="comment">//(setTimeoutã€setIntervalè¿™ä¸¤ä¸ªæ–¹æ³•æ‰§è¡Œçš„å‡½æ•°thisä¹Ÿæ˜¯å…¨å±€å¯¹è±¡)</span></span><br></pre></td></tr></table></figure><h4 id="é—®é¢˜5ï¼šä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆï¼Œwhy"><a href="#é—®é¢˜5ï¼šä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆï¼Œwhy" class="headerlink" title="é—®é¢˜5ï¼šä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆï¼Œwhy"></a>é—®é¢˜5ï¼šä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆï¼Œwhy</h4><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var john = &#123;</span><br><span class="line">    firstName: <span class="string">"John"</span></span><br><span class="line">&#125;</span><br><span class="line">function <span class="function"><span class="keyword">func</span><span class="params">()</span> &#123;</span></span><br><span class="line">    alert( this.firstName )</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span>.<span class="title">call</span><span class="params">(john)</span></span></span><br><span class="line">//è¾“å‡ºï¼š john</span><br><span class="line">//è§£é‡Šï¼š<span class="built_in">call</span>ï¼ˆï¼‰ä¸­ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºå®šä¹‰çš„thiså€¼ï¼Œå³<span class="function"><span class="keyword">func</span>ï¼ˆï¼‰ä¸­çš„<span class="title">this</span>ä»£è¡¨<span class="title">join</span>ã€‚</span></span><br></pre></td></tr></table></figure><h4 id="é—®é¢˜6ï¼š-ä»¥ä¸‹ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚ä½•ä¿®æ”¹"><a href="#é—®é¢˜6ï¼š-ä»¥ä¸‹ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚ä½•ä¿®æ”¹" class="headerlink" title="é—®é¢˜6ï¼š ä»¥ä¸‹ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚ä½•ä¿®æ”¹"></a>é—®é¢˜6ï¼š ä»¥ä¸‹ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚ä½•ä¿®æ”¹</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span><span class="built_in">module</span>= &#123;</span><br><span class="line">    bind: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $btn.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">//thisæŒ‡ï¼Ÿ</span></span><br><span class="line"><span class="keyword">this</span>.showMsg();</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    showMsg: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'é¥¥äººè°·'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//thisæŒ‡ä»€ä¹ˆ$btn</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span><span class="built_in">module</span>= &#123;</span><br><span class="line">    bind: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> _this = <span class="keyword">this</span>;</span><br><span class="line">        $btn.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(_this) <span class="comment">//_thisæŒ‡çš„æ˜¯moduleï¼›</span></span><br><span class="line">            _this.showMsg();<span class="comment">//é¥¥äººè°·</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    showMsg: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'é¥¥äººè°·'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="åŸå‹é“¾ç›¸å…³é—®é¢˜"><a href="#åŸå‹é“¾ç›¸å…³é—®é¢˜" class="headerlink" title="åŸå‹é“¾ç›¸å…³é—®é¢˜"></a>åŸå‹é“¾ç›¸å…³é—®é¢˜</h2><h4 id="é—®é¢˜7ï¼šæœ‰å¦‚ä¸‹ä»£ç ï¼Œè§£é‡ŠPersonã€-prototypeã€protoã€pã€constructorä¹‹é—´çš„å…³è”ã€‚"><a href="#é—®é¢˜7ï¼šæœ‰å¦‚ä¸‹ä»£ç ï¼Œè§£é‡ŠPersonã€-prototypeã€protoã€pã€constructorä¹‹é—´çš„å…³è”ã€‚" class="headerlink" title="é—®é¢˜7ï¼šæœ‰å¦‚ä¸‹ä»£ç ï¼Œè§£é‡ŠPersonã€ prototypeã€protoã€pã€constructorä¹‹é—´çš„å…³è”ã€‚"></a>é—®é¢˜7ï¼šæœ‰å¦‚ä¸‹ä»£ç ï¼Œè§£é‡ŠPersonã€ prototypeã€<strong>proto</strong>ã€pã€constructorä¹‹é—´çš„å…³è”ã€‚</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'My name is :'</span> + <span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">"è‹¥æ„š"</span>)</span><br><span class="line">p.sayName();</span><br></pre></td></tr></table></figure><p><img src="https://github.com/mhy-web/HomeWorks/tree/master/%E9%AB%98%E7%BA%A7/task2/images/prototype-0.png" alt></p><ul><li>æˆ‘ä»¬é€šè¿‡å‡½æ•°å®šä¹‰äº†ç±»<code>Person</code>ï¼Œç±»ï¼ˆå‡½æ•°ï¼‰è‡ªåŠ¨è·å¾—å±æ€§prototype;</li><li><p>æ¯ä¸ªç±»çš„å®ä¾‹éƒ½ä¼šæœ‰ä¸€ä¸ªå†…éƒ¨å±æ€§ <code>__proto__</code>ï¼ŒæŒ‡å‘ç±»çš„prototypeå±æ€§</p></li><li><p><code>p</code>æ˜¯æ„é€ å‡½æ•°<code>Person</code>çš„ä¸€ä¸ªå®ä¾‹ï¼Œ<code>p</code>çš„  <code>__proto__</code> æŒ‡å‘äº†Personçš„prototypeå±æ€§ï¼Œ</p></li><li><code>prototype</code>æ˜¯æ„é€ å‡½æ•°å†…éƒ¨çš„åŸå‹å¯¹è±¡ï¼Œæ‰€ä»¥æ‹¥æœ‰<code>contructor</code>å’Œ<code>__proto__</code>å±æ€§ï¼Œå…¶ä¸­<code>contructor</code>å±æ€§æŒ‡å‘æ„é€ å‡½æ•°<code>Person</code>ï¼Œ<code>__proto__</code>æŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹.</li></ul><h4 id="é—®é¢˜8ï¼š-ä¸Šä¾‹ä¸­ï¼Œå¯¹å¯¹è±¡-på¯ä»¥è¿™æ ·è°ƒç”¨-p-toString-ã€‚toStringæ˜¯å“ªé‡Œæ¥çš„-ç”»å‡ºåŸå‹å›¾-å¹¶è§£é‡Šä»€ä¹ˆæ˜¯åŸå‹é“¾ã€‚"><a href="#é—®é¢˜8ï¼š-ä¸Šä¾‹ä¸­ï¼Œå¯¹å¯¹è±¡-på¯ä»¥è¿™æ ·è°ƒç”¨-p-toString-ã€‚toStringæ˜¯å“ªé‡Œæ¥çš„-ç”»å‡ºåŸå‹å›¾-å¹¶è§£é‡Šä»€ä¹ˆæ˜¯åŸå‹é“¾ã€‚" class="headerlink" title="é—®é¢˜8ï¼š ä¸Šä¾‹ä¸­ï¼Œå¯¹å¯¹è±¡ på¯ä»¥è¿™æ ·è°ƒç”¨ p.toString()ã€‚toStringæ˜¯å“ªé‡Œæ¥çš„? ç”»å‡ºåŸå‹å›¾?å¹¶è§£é‡Šä»€ä¹ˆæ˜¯åŸå‹é“¾ã€‚"></a>é—®é¢˜8ï¼š ä¸Šä¾‹ä¸­ï¼Œå¯¹å¯¹è±¡ på¯ä»¥è¿™æ ·è°ƒç”¨ p.toString()ã€‚toStringæ˜¯å“ªé‡Œæ¥çš„? ç”»å‡ºåŸå‹å›¾?å¹¶è§£é‡Šä»€ä¹ˆæ˜¯åŸå‹é“¾ã€‚</h4><ul><li><p>p.toString()æ–¹æ³•æ˜¯ç»§æ‰¿æ„é€ å‡½æ•°Objectçš„åŸå‹å¯¹è±¡é‡Œå®šä¹‰çš„toStringæ–¹æ³•ï¼Œé¦–å…ˆpä¼šæ‰¾è‡ªå·±çš„toStringæ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œ<br>ä¼šæ²¿ç€<code>__proto__</code> å±æ€§ç»§ç»­åˆ°æ„é€ å‡½æ•°Personçš„prototypeé‡Œæ‰¾toStringæ–¹æ³•ï¼Œ<br>å¦‚æœè¿˜æœªæ‰¾åˆ°ï¼Œå†ç»§ç»­å¾€Person.prototypeçš„<code>__proto__</code>å³Object.prototypeæ‰¾toStringæ–¹æ³•ï¼Œæœ€åæ‰¾åˆ°toString()æ–¹æ³•ã€‚</p></li><li><p>åŸå‹é“¾ï¼šç”±äºåŸå‹å¯¹è±¡æœ¬èº«ä¹Ÿæ˜¯å¯¹è±¡ï¼Œè€Œæ¯ä¸ªjavascriptå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªéšè—çš„<strong>proto</strong>å±æ€§ï¼Œ<br>åŸå‹å¯¹è±¡ä¹Ÿæœ‰è‡ªå·±çš„åŸå‹ï¼Œè€Œå®ƒè‡ªå·±çš„åŸå‹å¯¹è±¡åˆå¯ä»¥æœ‰è‡ªå·±çš„åŸå‹ï¼Œè¿™æ ·å°±ç»„æˆäº†ä¸€æ¡é“¾ï¼Œè¿™ä¸ªå°±æ˜¯åŸå‹é“¾ã€‚<br>åœ¨è®¿é—®å¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœåœ¨å¯¹è±¡æœ¬èº«ä¸­æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¼šå»åŸå‹é“¾ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œç›´æ¥è¿”å›å€¼ï¼Œå¦‚æœæ•´ä¸ªé“¾éƒ½éå†ä¸”æ²¡æœ‰æ‰¾åˆ°<br>å±æ€§ï¼Œåˆ™è¿”å›undefinedã€‚åŸå‹é“¾ä¸€èˆ¬å®ç°ä¸ºä¸€ä¸ªé“¾è¡¨ï¼Œè¿™æ ·å°±å¯ä»¥æŒ‰ç…§ä¸€å®šçš„é¡ºåºæ¥æŸ¥æ‰¾ã€‚</p></li></ul><p><img src="https://github.com/mhy-web/HomeWorks/tree/master/%E9%AB%98%E7%BA%A7/task2/images/prototype.png" alt></p><h4 id="é—®é¢˜9ï¼šå¯¹Stringåšæ‰©å±•ï¼Œå®ç°å¦‚ä¸‹æ–¹å¼è·å–å­—ç¬¦ä¸²ä¸­é¢‘ç‡æœ€é«˜çš„å­—ç¬¦"><a href="#é—®é¢˜9ï¼šå¯¹Stringåšæ‰©å±•ï¼Œå®ç°å¦‚ä¸‹æ–¹å¼è·å–å­—ç¬¦ä¸²ä¸­é¢‘ç‡æœ€é«˜çš„å­—ç¬¦" class="headerlink" title="é—®é¢˜9ï¼šå¯¹Stringåšæ‰©å±•ï¼Œå®ç°å¦‚ä¸‹æ–¹å¼è·å–å­—ç¬¦ä¸²ä¸­é¢‘ç‡æœ€é«˜çš„å­—ç¬¦"></a>é—®é¢˜9ï¼šå¯¹Stringåšæ‰©å±•ï¼Œå®ç°å¦‚ä¸‹æ–¹å¼è·å–å­—ç¬¦ä¸²ä¸­é¢‘ç‡æœ€é«˜çš„å­—ç¬¦</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'ahbbccdeddddfg'</span>;</span><br><span class="line"><span class="keyword">var</span> ch = str.getMostOften();</span><br><span class="line"><span class="built_in">console</span>.log(ch); <span class="comment">//d , å› ä¸ºd å‡ºç°äº†5æ¬¡</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹æ³•ä¸€ï¼š</span></span><br><span class="line"><span class="built_in">String</span>.prototype.getMostOften = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,k;i&lt;<span class="keyword">this</span>.length;i++)&#123;</span><br><span class="line">        k = <span class="keyword">this</span>[i];</span><br><span class="line"><span class="keyword">if</span>(obj[k])&#123;</span><br><span class="line">            obj[k]++</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            obj[k] = <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">var</span> max = <span class="number">0</span>,key;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">in</span> obj)&#123;</span><br><span class="line"><span class="keyword">if</span>(obj[k]&gt;max)&#123;</span><br><span class="line">            max = obj[k];</span><br><span class="line">            key = k;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> key;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ–¹æ³•äºŒï¼š</span></span><br><span class="line"><span class="built_in">String</span>.prototype.getMostOften = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">this</span>.split(<span class="string">""</span>);</span><br><span class="line"><span class="keyword">var</span> result = arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">allLetters,letter</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(allLetters[letter])&#123;</span><br><span class="line">            allLetters[letter]++</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            allLetters[letter] = <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">return</span> allLetters;</span><br><span class="line">    &#125;,&#123;&#125;);</span><br><span class="line"><span class="keyword">var</span> max = <span class="number">0</span>,k;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> result)&#123;</span><br><span class="line"><span class="keyword">if</span> (result[key]&gt;max)&#123;</span><br><span class="line">            max = result[key];</span><br><span class="line">            k = key</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> k;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'ahbbccdeddddfg'</span>;</span><br><span class="line"><span class="keyword">var</span> ch = str.getMostOften();</span><br><span class="line"><span class="built_in">console</span>.log(ch); <span class="comment">//d</span></span><br></pre></td></tr></table></figure><h4 id="é—®é¢˜10ï¼š-instanceOfæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå†…éƒ¨é€»è¾‘æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"><a href="#é—®é¢˜10ï¼š-instanceOfæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå†…éƒ¨é€»è¾‘æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ" class="headerlink" title="é—®é¢˜10ï¼š instanceOfæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå†…éƒ¨é€»è¾‘æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"></a>é—®é¢˜10ï¼š instanceOfæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå†…éƒ¨é€»è¾‘æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h4><ul><li>instanceOfï¼šåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„å®ä¾‹</li></ul><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">isInstanceOf</span><span class="params">(obj,fn)</span></span>&#123;</span><br><span class="line"><span class="keyword">var</span> oldProto = obj.__proto__;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(oldProto === fn.prototype)&#123; <span class="comment">//prototypeæ˜¯å°å†™çš„ï¼</span></span><br><span class="line"><span class="keyword">return</span><span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            oldProto = oldProto.__proto__;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">while</span>(oldProto)&#123;</span><br><span class="line"><span class="keyword">return</span><span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç»§æ‰¿ç›¸å…³é—®é¢˜"><a href="#ç»§æ‰¿ç›¸å…³é—®é¢˜" class="headerlink" title="ç»§æ‰¿ç›¸å…³é—®é¢˜"></a>ç»§æ‰¿ç›¸å…³é—®é¢˜</h2><h4 id="é—®é¢˜11ï¼šç»§æ‰¿æœ‰ä»€ä¹ˆä½œç”¨"><a href="#é—®é¢˜11ï¼šç»§æ‰¿æœ‰ä»€ä¹ˆä½œç”¨" class="headerlink" title="é—®é¢˜11ï¼šç»§æ‰¿æœ‰ä»€ä¹ˆä½œç”¨?"></a>é—®é¢˜11ï¼šç»§æ‰¿æœ‰ä»€ä¹ˆä½œç”¨?</h4><p><strong>ç»§æ‰¿æ˜¯æŒ‡ä¸€ä¸ªå¯¹è±¡ç›´æ¥ä½¿ç”¨å¦ä¸€å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</strong><br>JavaScript å¯¹è±¡æœ‰ä¸€ä¸ªæŒ‡å‘ä¸€ä¸ªåŸå‹å¯¹è±¡çš„é“¾ã€‚å½“è¯•å›¾è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå®ƒä¸ä»…ä»…åœ¨è¯¥å¯¹è±¡ä¸Šæœå¯»ï¼Œè¿˜ä¼šæœå¯»è¯¥å¯¹è±¡çš„åŸå‹ï¼Œ<br>ä»¥åŠè¯¥å¯¹è±¡çš„åŸå‹çš„åŸå‹ï¼Œä¾æ­¤å±‚å±‚å‘ä¸Šæœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåå­—åŒ¹é…çš„å±æ€§æˆ–åˆ°è¾¾åŸå‹é“¾çš„æœ«å°¾ã€‚è¿™å°±æ„å‘³ç€ï¼ŒJSå¯¹è±¡å¯ä»¥ä½¿ç”¨æ‰€æœ‰<br>å…¶åŸå‹çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¦‚æœæˆ‘ä»¬åœ¨åŸå‹ä¸Šæ·»åŠ æ–°çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå®ä¾‹ä¹Ÿä¼šæ‹¥æœ‰è¯¥æ–¹æ³•ï¼Œèƒ½å¤Ÿå¤§å¤§å‡å°‘å†—ä½™ä»£ç ã€‚</p><h4 id="é—®é¢˜12ï¼š-ä¸‹é¢ä¸¤ç§å†™æ³•æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#é—®é¢˜12ï¼š-ä¸‹é¢ä¸¤ç§å†™æ³•æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="é—®é¢˜12ï¼š ä¸‹é¢ä¸¤ç§å†™æ³•æœ‰ä»€ä¹ˆåŒºåˆ«?"></a>é—®é¢˜12ï¼š ä¸‹é¢ä¸¤ç§å†™æ³•æœ‰ä»€ä¹ˆåŒºåˆ«?</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹æ³•1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">People</span>(<span class="params">name, sex</span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line"><span class="keyword">this</span>.sex = sex;</span><br><span class="line"><span class="keyword">this</span>.printName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> People(<span class="string">'é¥¥äººè°·'</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹æ³•2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">Person</span>(<span class="params">name, sex</span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line"><span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.printName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">'è‹¥æ„š'</span>, <span class="number">27</span>);</span><br></pre></td></tr></table></figure><p>åŒºåˆ«:</p><p>æ–¹æ³•ä¸€æ˜¯å°†printNameä½œä¸ºæ„é€ å‡½æ•°çš„æ–¹æ³•ï¼Œå®ä¾‹åœ¨è¿›è¡Œè°ƒç”¨çš„æ—¶å€™æ˜¯è°ƒç”¨çš„è‡ªèº«çš„æ–¹æ³•ï¼Œè¾ƒä¸ºæ¶ˆè€—å†…å­˜ã€‚<br>æ–¹æ³•äºŒæ˜¯å°†printNameä½œä¸ºæ„é€ å‡½æ•°åŸå‹çš„æ–¹æ³•ï¼Œæ‰€æœ‰å®ä¾‹å…±äº«è¿™ä¸ªæ–¹æ³•ã€‚</p><h4 id="é—®é¢˜13ï¼š-Object-create-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå…¼å®¹æ€§å¦‚ä½•ï¼Ÿ"><a href="#é—®é¢˜13ï¼š-Object-create-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå…¼å®¹æ€§å¦‚ä½•ï¼Ÿ" class="headerlink" title="é—®é¢˜13ï¼š Object.create æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå…¼å®¹æ€§å¦‚ä½•ï¼Ÿ"></a>é—®é¢˜13ï¼š Object.create æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå…¼å®¹æ€§å¦‚ä½•ï¼Ÿ</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span><span class="constructor">Person(<span class="params">name</span>, <span class="params">age</span>)</span>&#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Person</span>.</span></span>prototype.sayName = <span class="keyword">function</span><span class="literal">()</span>&#123;</span><br><span class="line">    console.log(this.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span><span class="constructor">Male(<span class="params">name</span>, <span class="params">age</span>, <span class="params">sex</span>)</span>&#123;</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Person</span>.</span></span>call(this, name, age);</span><br><span class="line">    this.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Male</span>.</span></span>prototype = <span class="keyword">new</span><span class="constructor">Person()</span>;</span><br><span class="line"><span class="comment">//è¯¥æ–¹æ³•åŒä¸‹ï¼Œä»£æ›¿ä¸å…¼å®¹Object.create()çš„ä½¿ç”¨åœºæ™¯</span></span><br><span class="line"></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Male</span>.</span></span>prototype = <span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>create(<span class="module-access"><span class="module"><span class="identifier">Person</span>.</span></span>prototype);</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Male</span>.</span></span>prototype.constructor = Male;</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Male</span>.</span></span>prototype.sayAge = <span class="keyword">function</span><span class="literal">()</span>&#123;</span><br><span class="line">    console.log(this.age);</span><br><span class="line">&#125;;</span><br><span class="line">var p1 = <span class="keyword">new</span><span class="constructor">Male('<span class="params">hunger</span>', 20, '<span class="params">nan</span>')</span>;</span><br><span class="line">p1.say<span class="constructor">Name()</span>;<span class="comment">//hunger</span></span><br><span class="line">p1.say<span class="constructor">Age()</span>;<span class="comment">//20</span></span><br></pre></td></tr></table></figure><p>å…¼å®¹æ€§ï¼š</p><p><img src="https://github.com/mhy-web/HomeWorks/tree/master/%E9%AB%98%E7%BA%A7/task2/images/å…¼å®¹æ€§.jpg" alt></p><h4 id="é—®é¢˜14ï¼š-hasOwnPropertyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ-å¦‚ä½•ä½¿ç”¨ï¼Ÿ"><a href="#é—®é¢˜14ï¼š-hasOwnPropertyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ-å¦‚ä½•ä½¿ç”¨ï¼Ÿ" class="headerlink" title="é—®é¢˜14ï¼š hasOwnPropertyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ å¦‚ä½•ä½¿ç”¨ï¼Ÿ"></a>é—®é¢˜14ï¼š hasOwnPropertyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h4><p>hasOwnPerpertyæ˜¯Object.prototypeçš„ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åŒ…å«è‡ªå®šä¹‰å±æ€§è€Œä¸æ˜¯åŸå‹é“¾ä¸Šçš„å±æ€§ï¼Œ<br>hasOwnPropertyæ˜¯JavaScriptä¸­å”¯ä¸€ä¸€ä¸ªå¤„ç†å±æ€§ä½†æ˜¯ä¸æŸ¥æ‰¾åŸå‹é“¾çš„å‡½æ•°<br><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">m.has<span class="constructor">OwnProperty('<span class="params">name</span>')</span>; <span class="comment">// true</span></span><br><span class="line">m.has<span class="constructor">OwnProperty('<span class="params">printName</span>')</span>; <span class="comment">// false</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Male</span>.</span></span>prototype.has<span class="constructor">OwnProperty('<span class="params">printAge</span>')</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p><h4 id="é—®é¢˜15ï¼šå¦‚ä¸‹ä»£ç ä¸­callçš„ä½œç”¨æ˜¯ä»€ä¹ˆ"><a href="#é—®é¢˜15ï¼šå¦‚ä¸‹ä»£ç ä¸­callçš„ä½œç”¨æ˜¯ä»€ä¹ˆ" class="headerlink" title="é—®é¢˜15ï¼šå¦‚ä¸‹ä»£ç ä¸­callçš„ä½œç”¨æ˜¯ä»€ä¹ˆ?"></a>é—®é¢˜15ï¼šå¦‚ä¸‹ä»£ç ä¸­callçš„ä½œç”¨æ˜¯ä»€ä¹ˆ?</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span><span class="constructor">Person(<span class="params">name</span>, <span class="params">sex</span>)</span>&#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span><span class="constructor">Male(<span class="params">name</span>, <span class="params">sex</span>, <span class="params">age</span>)</span>&#123;</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Person</span>.</span></span>call(this, name, sex);    <span class="comment">//è¿™é‡Œçš„ call æœ‰ä»€ä¹ˆä½œç”¨</span></span><br><span class="line">    this.age = age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é—®é¢˜16ï¼š-è¡¥å…¨ä»£ç ï¼Œå®ç°ç»§æ‰¿"><a href="#é—®é¢˜16ï¼š-è¡¥å…¨ä»£ç ï¼Œå®ç°ç»§æ‰¿" class="headerlink" title="é—®é¢˜16ï¼š è¡¥å…¨ä»£ç ï¼Œå®ç°ç»§æ‰¿"></a>é—®é¢˜16ï¼š è¡¥å…¨ä»£ç ï¼Œå®ç°ç»§æ‰¿</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span><span class="constructor">Person(<span class="params">name</span>, <span class="params">sex</span>)</span>&#123;</span><br><span class="line"><span class="comment">// todo ...</span></span><br><span class="line">    this.name = name;</span><br><span class="line">    this.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Person</span>.</span></span>prototype.getName = <span class="keyword">function</span><span class="literal">()</span>&#123;</span><br><span class="line"><span class="comment">// todo ...</span></span><br><span class="line">    console.log(this.name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span><span class="constructor">Male(<span class="params">name</span>, <span class="params">sex</span>, <span class="params">age</span>)</span>&#123;</span><br><span class="line"><span class="comment">//todo ...</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Person</span>.</span></span>call(this,name, sex);</span><br><span class="line">    this.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//todo ...</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Male</span>.</span></span>prototype = <span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>create(<span class="module-access"><span class="module"><span class="identifier">Person</span>.</span></span>prototype);</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Male</span>.</span></span>prototype.constructor = Male;</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Male</span>.</span></span>prototype.getAge = <span class="keyword">function</span><span class="literal">()</span>&#123;</span><br><span class="line"><span class="comment">//todo ...</span></span><br><span class="line">    console.log(this.age);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var ruoyu = <span class="keyword">new</span><span class="constructor">Male('è‹¥æ„š', 'ç”·', 27)</span>;</span><br><span class="line">ruoyu.print<span class="constructor">Name()</span>;<span class="comment">//è‹¥æ„š</span></span><br></pre></td></tr></table></figure>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> ç»§æ‰¿ </tag><tag> this </tag><tag> åŸå‹ </tag></tags></entry><entry><title>å‰ç«¯æ¨¡å—åŒ–å¸¸ç”¨è§„èŒƒ</title><link href="/FE-module.html"/><url>/FE-module.html</url><content type="html"><![CDATA[<p>JavaScriptåœ¨å‘å±•åˆæœŸï¼Œä»…ä»…ç”¨äºå®ç°ç®€å•çš„é¡µé¢äº¤äº’é€»è¾‘ã€‚å¦‚ä»ŠCPUã€æµè§ˆå™¨æ€§èƒ½å¾—åˆ°äº†æå¤§çš„æå‡ï¼Œå¾ˆå¤šé¡µé¢é€»è¾‘è¿ç§»åˆ°äº†å®¢æˆ·ç«¯ï¼ˆè¡¨å•éªŒè¯ç­‰ï¼‰ï¼Œéšç€web2.0æ—¶ä»£çš„åˆ°æ¥ï¼ŒAjaxæŠ€æœ¯å¾—åˆ°å¹¿æ³›åº”ç”¨ï¼ŒjQueryç­‰å‰ç«¯åº“å±‚å‡ºä¸ç©·ï¼Œå‰ç«¯ä»£ç æ—¥ç›Šè†¨èƒ€ã€‚éšç€vueã€reactå’Œangularä¸‰å¤§æ¡†æ¶ä»¥åŠnodejsçš„å¹¿æ³›åº”ç”¨ï¼Œæ¨¡å—åŒ–å’Œå·¥ç¨‹åŒ–å·²æˆä¸ºå‰ç«¯å¼€å‘ä¸­ä¸å¯ç¼ºå°‘çš„é‡è¦è§’è‰²ã€‚</p><a id="more"></a><h2 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h2><p>JavaScriptåœ¨è®¾è®¡æ—¶æ²¡æœ‰æä¾›æ¨¡å—åŒ–çš„åŠŸèƒ½ï¼Œå¼€å‘è€…éœ€è¦æ¨¡æ‹Ÿå‡ºç±»ä¼¼çš„åŠŸèƒ½ï¼Œæ¥éš”ç¦»ã€ç»„ç»‡å¤æ‚çš„JavaScriptä»£ç ï¼Œç§°ä¸ºæ¨¡å—åŒ–ã€‚<br>ä¸€ä¸ªæ¨¡å—å°±æ˜¯å®ç°ç‰¹å®šåŠŸèƒ½çš„æ–‡ä»¶ï¼Œæœ‰äº†æ¨¡å—ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´æ–¹ä¾¿åœ°ä½¿ç”¨åˆ«äººçš„ä»£ç ï¼Œæƒ³è¦ä»€ä¹ˆåŠŸèƒ½ï¼Œå°±åŠ è½½ä»€ä¹ˆæ¨¡å—ã€‚æ¨¡å—å¼€å‘éœ€è¦éµå¾ªä¸€å®šçš„è§„èŒƒï¼Œå„è¡Œå…¶æ˜¯å°±éƒ½ä¹±å¥—äº†ã€‚<br>å‰ç«¯æ¨¡å—åŒ–å‘å±•ç»å†äº†å‡ ä¸ªé˜¶æ®µï¼Œä»Šå¤©æœ‰ADMã€CMDã€CmmonJSä»¥åŠES Moduleç­‰æ¨¡å—åŒ–è§„èŒƒæ¥è¾…åŠ©å¼€å‘å¤§å‹å‰ç«¯åº”ç”¨ã€‚</p><h2 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h2><p>æˆ‘ä»¬å…ˆä»CommonJSè°ˆèµ·ï¼Œå› ä¸ºåœ¨ç½‘é¡µç«¯æ²¡æœ‰æ¨¡å—åŒ–ç¼–ç¨‹åªæ˜¯é¡µé¢JavaScripté€»è¾‘å¤æ‚ï¼Œä½†ä¹Ÿå¯ä»¥å·¥ä½œä¸‹å»ï¼Œåœ¨æœåŠ¡å™¨ç«¯å´ä¸€å®šè¦æœ‰æ¨¡å—ï¼Œæ‰€ä»¥è™½ç„¶JavaScriptåœ¨webç«¯å‘å±•è¿™ä¹ˆå¤šå¹´ï¼Œç¬¬ä¸€ä¸ªæµè¡Œçš„æ¨¡å—åŒ–è§„èŒƒå´ç”±æœåŠ¡å™¨ç«¯çš„JavaScriptåº”ç”¨å¸¦æ¥ï¼ŒCommonJSè§„èŒƒæ˜¯ç”±NodeJSå‘æ‰¬å…‰å¤§ï¼Œè¿™æ ‡å¿—ç€JavaScriptæ¨¡å—åŒ–ç¼–ç¨‹æ­£å¼ç™»ä¸Šèˆå°ã€‚</p><ol><li>å®šä¹‰æ¨¡å— æ ¹æ®CommonJSè§„èŒƒï¼Œä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚æ¯ä¸€ä¸ªæ¨¡å—éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¯¥æ¨¡å—å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼Œæ— æ³•è¢«å…¶ä»–æ¨¡å—è¯»å–ï¼Œé™¤éå®šä¹‰ä¸ºglobalå¯¹è±¡çš„å±æ€§</li><li>æ¨¡å—è¾“å‡ºï¼š æ¨¡å—åªæœ‰ä¸€ä¸ªå‡ºå£ï¼Œmodule.exportså¯¹è±¡ï¼Œæˆ‘ä»¬éœ€è¦æŠŠæ¨¡å—å¸Œæœ›è¾“å‡ºçš„å†…å®¹æ”¾å…¥è¯¥å¯¹è±¡</li><li>åŠ è½½æ¨¡å—ï¼š åŠ è½½æ¨¡å—ä½¿ç”¨requireæ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¯»å–ä¸€ä¸ªæ–‡ä»¶å¹¶æ‰§è¡Œï¼Œè¿”å›æ–‡ä»¶å†…éƒ¨çš„module.exportså¯¹è±¡</li></ol><p>çœ‹ä¸ªä¾‹å­<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¨¡å—å®šä¹‰ myModel.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Byron'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">printName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">printFullName</span>(<span class="params">firstName</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(firstName + name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    printName: printName,</span><br><span class="line">    printFullName: printFullName</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ è½½æ¨¡å—</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> nameModule = <span class="built_in">require</span>(<span class="string">'./myModel.js'</span>);</span><br><span class="line"></span><br><span class="line">nameModule.printName();</span><br></pre></td></tr></table></figure></p><p>ä¸åŒçš„å®ç°å¯¹requireæ—¶çš„è·¯å¾„æœ‰ä¸åŒè¦æ±‚ï¼Œä¸€èˆ¬æƒ…å†µå¯ä»¥çœç•¥jsæ‹“å±•åï¼Œå¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œç”šè‡³å¯ä»¥çœç•¥è·¯å¾„ç›´æ¥ä½¿ç”¨æ¨¡å—åï¼ˆå‰ææ˜¯è¯¥æ¨¡å—æ˜¯ç³»ç»Ÿå†…ç½®æ¨¡å—ï¼‰</p><h3 id="å°´å°¬çš„æµè§ˆå™¨"><a href="#å°´å°¬çš„æµè§ˆå™¨" class="headerlink" title="å°´å°¬çš„æµè§ˆå™¨"></a>å°´å°¬çš„æµè§ˆå™¨</h3><p>ä»”ç»†çœ‹ä¸Šé¢çš„ä»£ç ï¼Œä¼šå‘ç°requireæ˜¯åŒæ­¥çš„ã€‚æ¨¡å—ç³»ç»Ÿéœ€è¦åŒæ­¥è¯»å–æ¨¡å—æ–‡ä»¶å†…å®¹ï¼Œå¹¶ç¼–è¯‘æ‰§è¡Œä»¥å¾—åˆ°æ¨¡å—æ¥å£ã€‚</p><p>è¿™åœ¨æœåŠ¡å™¨ç«¯å®ç°å¾ˆç®€å•ï¼Œä¹Ÿå¾ˆè‡ªç„¶ï¼Œç„¶è€Œï¼Œ æƒ³åœ¨æµè§ˆå™¨ç«¯å®ç°é—®é¢˜å´å¾ˆå¤šã€‚</p><p>æµè§ˆå™¨ç«¯ï¼ŒåŠ è½½JavaScriptæœ€ä½³ã€æœ€å®¹æ˜“çš„æ–¹å¼æ˜¯åœ¨documentä¸­æ’å…¥script æ ‡ç­¾ã€‚ä½†è„šæœ¬æ ‡ç­¾å¤©ç”Ÿå¼‚æ­¥ï¼Œä¼ ç»ŸCommonJSæ¨¡å—åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­æ— æ³•æ­£å¸¸åŠ è½½ã€‚</p><p>è§£å†³æ€è·¯ä¹‹ä¸€æ˜¯ï¼Œå¼€å‘ä¸€ä¸ªæœåŠ¡å™¨ç«¯ç»„ä»¶ï¼Œå¯¹æ¨¡å—ä»£ç ä½œé™æ€åˆ†æï¼Œå°†æ¨¡å—ä¸å®ƒçš„ä¾èµ–åˆ—è¡¨ä¸€èµ·è¿”å›ç»™æµè§ˆå™¨ç«¯ã€‚ è¿™å¾ˆå¥½ä½¿ï¼Œä½†éœ€è¦æœåŠ¡å™¨å®‰è£…é¢å¤–çš„ç»„ä»¶ï¼Œå¹¶å› æ­¤è¦è°ƒæ•´ä¸€ç³»åˆ—åº•å±‚æ¶æ„ã€‚</p><p>å¦ä¸€ç§è§£å†³æ€è·¯æ˜¯ï¼Œç”¨ä¸€å¥—æ ‡å‡†æ¨¡æ¿æ¥å°è£…æ¨¡å—å®šä¹‰ï¼Œä½†æ˜¯å¯¹äºæ¨¡å—åº”è¯¥æ€ä¹ˆå®šä¹‰å’Œæ€ä¹ˆåŠ è½½ï¼Œåˆäº§ç”Ÿçš„åˆ†æ­§ï¼š</p><h2 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h2><p>AMDï¼Œ å³Asynchronous Module Definitionï¼Œä¸­æ–‡åæ˜¯å¼‚æ­¥æ¨¡å—å®šä¹‰çš„æ„æ€ã€‚å®ƒæ˜¯ä¸€ä¸ªåœ¨æµè§ˆå™¨ç«¯æ¨¡å—åŒ–å¼€å‘çš„è§„èŒƒ</p><p>ç”±äºä¸æ˜¯JavaScriptåŸç”Ÿæ”¯æŒï¼Œä½¿ç”¨AMDè§„èŒƒè¿›è¡Œé¡µé¢å¼€å‘éœ€è¦ç”¨åˆ°å¯¹åº”çš„åº“å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å¤§åé¼é¼RequireJSï¼Œå®é™…ä¸ŠAMD æ˜¯ RequireJS åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–çš„äº§å‡º</p><p>requireJSä¸»è¦è§£å†³ä¸¤ä¸ªé—®é¢˜</p><ol><li>å¤šä¸ªjsæ–‡ä»¶å¯èƒ½æœ‰ä¾èµ–å…³ç³»ï¼Œè¢«ä¾èµ–çš„æ–‡ä»¶éœ€è¦æ—©äºä¾èµ–å®ƒçš„æ–‡ä»¶åŠ è½½åˆ°æµè§ˆå™¨<ol start="2"><li>jsåŠ è½½çš„æ—¶å€™æµè§ˆå™¨ä¼šåœæ­¢é¡µé¢æ¸²æŸ“ï¼ŒåŠ è½½æ–‡ä»¶è¶Šå¤šï¼Œé¡µé¢å¤±å»å“åº”æ—¶é—´è¶Šé•¿</li></ol></li></ol><p>çœ‹ä¸€ä¸ªä½¿ç”¨requireJSçš„ä¾‹å­<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ¨¡å— myModule.js</span></span><br><span class="line">define([<span class="string">'dependency'</span>], <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Byron'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">printName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">        printName: printName</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ è½½æ¨¡å—</span></span><br><span class="line"><span class="built_in">require</span>([<span class="string">'myModule'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">my</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">ã€€ my.printName();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p><strong>è¯­æ³•</strong></p><p>requireJSå®šä¹‰äº†ä¸€ä¸ªå‡½æ•° defineï¼Œå®ƒæ˜¯å…¨å±€å˜é‡ï¼Œç”¨æ¥å®šä¹‰æ¨¡å—<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">define(id?, dependencies?, factory);</span><br></pre></td></tr></table></figure></p><ol><li>idï¼šå¯é€‰å‚æ•°ï¼Œç”¨æ¥å®šä¹‰æ¨¡å—çš„æ ‡è¯†ï¼Œå¦‚æœæ²¡æœ‰æä¾›è¯¥å‚æ•°ï¼Œè„šæœ¬æ–‡ä»¶åï¼ˆå»æ‰æ‹“å±•åï¼‰</li><li>dependenciesï¼šæ˜¯ä¸€ä¸ªå½“å‰æ¨¡å—ä¾èµ–çš„æ¨¡å—åç§°æ•°ç»„</li><li>factoryï¼šå·¥å‚æ–¹æ³•ï¼Œæ¨¡å—åˆå§‹åŒ–è¦æ‰§è¡Œçš„å‡½æ•°æˆ–å¯¹è±¡ã€‚å¦‚æœä¸ºå‡½æ•°ï¼Œå®ƒåº”è¯¥åªè¢«æ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœæ˜¯å¯¹è±¡ï¼Œæ­¤å¯¹è±¡åº”è¯¥ä¸ºæ¨¡å—çš„è¾“å‡ºå€¼</li></ol><p>åœ¨é¡µé¢ä¸Šä½¿ç”¨requireå‡½æ•°åŠ è½½æ¨¡å—<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>([dependencies], <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;);</span><br></pre></td></tr></table></figure></p><p>require()å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°</p><ol><li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºæ‰€ä¾èµ–çš„æ¨¡å—</li><li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“å‰é¢æŒ‡å®šçš„æ¨¡å—éƒ½åŠ è½½æˆåŠŸåï¼Œå®ƒå°†è¢«è°ƒç”¨ã€‚åŠ è½½çš„æ¨¡å—ä¼šä»¥å‚æ•°å½¢å¼ä¼ å…¥è¯¥å‡½æ•°ï¼Œä»è€Œåœ¨å›è°ƒå‡½æ•°å†…éƒ¨å°±å¯ä»¥ä½¿ç”¨è¿™äº›æ¨¡å—</li></ol><p>require()å‡½æ•°åœ¨åŠ è½½ä¾èµ–çš„å‡½æ•°çš„æ—¶å€™æ˜¯å¼‚æ­¥åŠ è½½çš„ï¼Œè¿™æ ·æµè§ˆå™¨ä¸ä¼šå¤±å»å“åº”ï¼Œå®ƒæŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œåªæœ‰å‰é¢çš„æ¨¡å—éƒ½åŠ è½½æˆåŠŸåï¼Œæ‰ä¼šè¿è¡Œï¼Œè§£å†³äº†ä¾èµ–æ€§çš„é—®é¢˜ã€‚</p><h2 id="CMD"><a href="#CMD" class="headerlink" title="CMD"></a>CMD</h2><p>CMD å³Common Module Definitioné€šç”¨æ¨¡å—å®šä¹‰ï¼ŒCMDè§„èŒƒæ˜¯å›½å†…å‘å±•å‡ºæ¥çš„ï¼Œå°±åƒAMDæœ‰ä¸ªrequireJSï¼ŒCMDæœ‰ä¸ªæµè§ˆå™¨çš„å®ç°SeaJSï¼ŒSeaJSè¦è§£å†³çš„é—®é¢˜å’ŒrequireJSä¸€æ ·ï¼Œåªä¸è¿‡åœ¨æ¨¡å—å®šä¹‰æ–¹å¼å’Œæ¨¡å—åŠ è½½ï¼ˆå¯ä»¥è¯´è¿è¡Œã€è§£æï¼‰æ—¶æœºä¸Šæœ‰æ‰€ä¸åŒ<br><strong>è¯­æ³•</strong></p><p>Sea.js æ¨å´‡ä¸€ä¸ªæ¨¡å—ä¸€ä¸ªæ–‡ä»¶ï¼Œéµå¾ªç»Ÿä¸€çš„å†™æ³•<br><strong>define</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">define(id?, deps?, factory)</span><br></pre></td></tr></table></figure></p><p>å› ä¸ºCMDæ¨å´‡</p><ol><li>ä¸€ä¸ªæ–‡ä»¶ä¸€ä¸ªæ¨¡å—ï¼Œæ‰€ä»¥ç»å¸¸å°±ç”¨æ–‡ä»¶åä½œä¸ºæ¨¡å—id</li><li>CMDæ¨å´‡ä¾èµ–å°±è¿‘ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸åœ¨defineçš„å‚æ•°ä¸­å†™ä¾èµ–ï¼Œåœ¨factoryä¸­å†™</li></ol><p>factoryæœ‰ä¸‰ä¸ªå‚æ•°<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">require, exports, module</span>)</span></span><br></pre></td></tr></table></figure></p><p><strong>require</strong></p><p>require æ˜¯ factory å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(id)</span><br></pre></td></tr></table></figure></p><p>require æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œæ¥å— æ¨¡å—æ ‡è¯† ä½œä¸ºå”¯ä¸€å‚æ•°ï¼Œç”¨æ¥è·å–å…¶ä»–æ¨¡å—æä¾›çš„æ¥å£</p><p><strong>exports</strong></p><p>exports æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å‘å¤–æä¾›æ¨¡å—æ¥å£</p><p><strong>module</strong></p><p>module æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸Šé¢å­˜å‚¨äº†ä¸å½“å‰æ¨¡å—ç›¸å…³è”çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•</p><p><strong>demo</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ¨¡å—  myModule.js</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params">require, exports, module</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">'jquery.js'</span>)</span><br><span class="line">  $(<span class="string">'div'</span>).addClass(<span class="string">'active'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ è½½æ¨¡å—</span></span><br><span class="line">seajs.use([<span class="string">'myModule.js'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">my</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h2 id="AMDä¸CMDåŒºåˆ«"><a href="#AMDä¸CMDåŒºåˆ«" class="headerlink" title="AMDä¸CMDåŒºåˆ«"></a>AMDä¸CMDåŒºåˆ«</h2><p>å…³äºè¿™ä¸¤ä¸ªçš„åŒºåˆ«ç½‘ä¸Šå¯ä»¥æœå‡ºä¸€å †æ–‡ç« ï¼Œç®€å•æ€»ç»“ä¸€ä¸‹</p><p>æœ€æ˜æ˜¾çš„åŒºåˆ«å°±æ˜¯åœ¨æ¨¡å—å®šä¹‰æ—¶å¯¹ä¾èµ–çš„å¤„ç†ä¸åŒ</p><ol><li>AMDæ¨å´‡ä¾èµ–å‰ç½®ï¼Œåœ¨å®šä¹‰æ¨¡å—çš„æ—¶å€™å°±è¦å£°æ˜å…¶ä¾èµ–çš„æ¨¡å—</li><li>CMDæ¨å´‡å°±è¿‘ä¾èµ–ï¼Œåªæœ‰åœ¨ç”¨åˆ°æŸä¸ªæ¨¡å—çš„æ—¶å€™å†å»require</li></ol><p>è¿™ç§åŒºåˆ«å„æœ‰ä¼˜åŠ£ï¼Œåªæ˜¯è¯­æ³•ä¸Šçš„å·®è·ï¼Œè€Œä¸”requireJSå’ŒSeaJSéƒ½æ”¯æŒå¯¹æ–¹çš„å†™æ³•</p><p>AMDå’ŒCMDæœ€å¤§çš„åŒºåˆ«æ˜¯å¯¹ä¾èµ–æ¨¡å—çš„æ‰§è¡Œæ—¶æœºå¤„ç†ä¸åŒï¼Œæ³¨æ„ä¸æ˜¯åŠ è½½çš„æ—¶æœºæˆ–è€…æ–¹å¼ä¸åŒ</p><p>å¾ˆå¤šäººè¯´requireJSæ˜¯å¼‚æ­¥åŠ è½½æ¨¡å—ï¼ŒSeaJSæ˜¯åŒæ­¥åŠ è½½æ¨¡å—ï¼Œè¿™ä¹ˆç†è§£å®é™…ä¸Šæ˜¯ä¸å‡†ç¡®çš„ï¼Œå…¶å®åŠ è½½æ¨¡å—éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œåªä¸è¿‡AMDä¾èµ–å‰ç½®ï¼Œjså¯ä»¥æ–¹ä¾¿çŸ¥é“ä¾èµ–æ¨¡å—æ˜¯è°ï¼Œç«‹å³åŠ è½½ï¼Œè€ŒCMDå°±è¿‘ä¾èµ–ï¼Œéœ€è¦ä½¿ç”¨æŠŠæ¨¡å—å˜ä¸ºå­—ç¬¦ä¸²è§£æä¸€éæ‰çŸ¥é“ä¾èµ–äº†é‚£äº›æ¨¡å—ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šäººè¯Ÿç—…CMDçš„ä¸€ç‚¹ï¼Œç‰ºç‰²æ€§èƒ½æ¥å¸¦æ¥å¼€å‘çš„ä¾¿åˆ©æ€§ï¼Œå®é™…ä¸Šè§£ææ¨¡å—ç”¨çš„æ—¶é—´çŸ­åˆ°å¯ä»¥å¿½ç•¥</p><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¯´ä¸¤ä¸ªçš„åŒºåˆ«æ˜¯ä¾èµ–æ¨¡å—æ‰§è¡Œæ—¶æœºä¸åŒï¼Œä¸ºä»€ä¹ˆå¾ˆå¤šäººè®¤ä¸ºADMæ˜¯å¼‚æ­¥çš„ï¼ŒCMDæ˜¯åŒæ­¥çš„ï¼ˆé™¤äº†åå­—çš„åŸå› ï¼‰</p><p>åŒæ ·éƒ½æ˜¯å¼‚æ­¥åŠ è½½æ¨¡å—ï¼ŒAMDåœ¨åŠ è½½æ¨¡å—å®Œæˆåå°±ä¼šæ‰§è¡Œè¯¥æ¨¡å—ï¼Œæ‰€æœ‰æ¨¡å—éƒ½åŠ è½½æ‰§è¡Œå®Œåä¼šè¿›å…¥requireçš„å›è°ƒå‡½æ•°ï¼Œæ‰§è¡Œä¸»é€»è¾‘ï¼Œè¿™æ ·çš„æ•ˆæœå°±æ˜¯ä¾èµ–æ¨¡å—çš„æ‰§è¡Œé¡ºåºå’Œä¹¦å†™é¡ºåºä¸ä¸€å®šä¸€è‡´ï¼Œçœ‹ç½‘ç»œé€Ÿåº¦ï¼Œå“ªä¸ªå…ˆä¸‹è½½ä¸‹æ¥ï¼Œå“ªä¸ªå…ˆæ‰§è¡Œï¼Œä½†æ˜¯ä¸»é€»è¾‘ä¸€å®šåœ¨æ‰€æœ‰ä¾èµ–åŠ è½½å®Œæˆåæ‰æ‰§è¡Œ</p><p>CMDåŠ è½½å®ŒæŸä¸ªä¾èµ–æ¨¡å—åå¹¶ä¸æ‰§è¡Œï¼Œåªæ˜¯ä¸‹è½½è€Œå·²ï¼Œåœ¨æ‰€æœ‰ä¾èµ–æ¨¡å—åŠ è½½å®Œæˆåè¿›å…¥ä¸»é€»è¾‘ï¼Œé‡åˆ°requireè¯­å¥çš„æ—¶å€™æ‰æ‰§è¡Œå¯¹åº”çš„æ¨¡å—ï¼Œè¿™æ ·æ¨¡å—çš„æ‰§è¡Œé¡ºåºå’Œä¹¦å†™é¡ºåºæ˜¯å®Œå…¨ä¸€è‡´çš„</p><p>è¿™ä¹Ÿæ˜¯å¾ˆå¤šäººè¯´AMDç”¨æˆ·ä½“éªŒå¥½ï¼Œå› ä¸ºæ²¡æœ‰å»¶è¿Ÿï¼Œä¾èµ–æ¨¡å—æå‰æ‰§è¡Œäº†ï¼ŒCMDæ€§èƒ½å¥½ï¼Œå› ä¸ºåªæœ‰ç”¨æˆ·éœ€è¦çš„æ—¶å€™æ‰æ‰§è¡Œçš„åŸå› .</p><h2 id="ES-Module"><a href="#ES-Module" class="headerlink" title="ES Module"></a>ES Module</h2><p>ES Moduleä¼´éšç€ES6çš„å‘å±•ï¼Œå·²è¢«å¹¿æ³›åº”ç”¨äºå‰ç«¯åº”ç”¨ä¸­ã€‚</p><h3 id="export-è¯­å¥"><a href="#export-è¯­å¥" class="headerlink" title="export è¯­å¥"></a>export è¯­å¥</h3><p>ES Moduleä½¿ç”¨<code>export</code>è¯­å¥å¯¼å‡ºæ¨¡å—ï¼Œ<code>export</code>è¯­å¥æœ‰å¾ˆå¤šç§çµæ´»çš„ç”¨æ³•ï¼Œè¿™é‡Œåˆ—å‡ºå‡ ç§ç®€å•çš„ç”¨æ³•ä»…åšå‚è€ƒã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”³æ˜æ—¶ç›´æ¥å¯¼å‡ºå˜é‡</span></span><br><span class="line"><span class="keyword">export</span><span class="keyword">var</span> name = <span class="string">'Tom'</span>;</span><br><span class="line"><span class="keyword">export</span><span class="keyword">var</span> year = <span class="number">2012</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…ˆç”³æ˜ï¼Œåå¯¼å‡ºå˜é‡</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Tom'</span>;</span><br><span class="line"><span class="keyword">var</span> year = <span class="number">2012</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; name, year &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºå‡½æ•°</span></span><br><span class="line"><span class="keyword">export</span><span class="function"><span class="keyword">function</span><span class="title">multiply</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> x * y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">export</span><span class="keyword">var</span> setting = &#123;</span><br><span class="line">  env: <span class="string">'production'</span>,</span><br><span class="line">  debug: <span class="literal">false</span>,</span><br><span class="line">  url: <span class="string">'https://mhynet.cn'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="import-è¯­å¥"><a href="#import-è¯­å¥" class="headerlink" title="import è¯­å¥"></a>import è¯­å¥</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; stat, exists, readFile &#125; <span class="keyword">from</span><span class="string">'fs'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span><span class="string">'vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Setting <span class="keyword">from</span><span class="string">'setting'</span></span><br></pre></td></tr></table></figure><h3 id="export-default"><a href="#export-default" class="headerlink" title="export default"></a>export default</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span><span class="keyword">default</span> &#123;</span><br><span class="line">  env: <span class="string">'production'</span>,</span><br><span class="line">  debug: <span class="literal">false</span>,</span><br><span class="line">  url: <span class="string">'https://mhynet.cn'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span><span class="keyword">default</span><span class="function"><span class="keyword">function</span><span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'export default'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="export-ä¸-import-çš„å¤åˆå†™æ³•"><a href="#export-ä¸-import-çš„å¤åˆå†™æ³•" class="headerlink" title="export ä¸ import çš„å¤åˆå†™æ³•"></a>export ä¸ import çš„å¤åˆå†™æ³•</h3><p>åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œå…ˆè¾“å…¥å†è¾“å‡ºï¼Œå¯ä»¥ä½¿ç”¨è¯¥å†™æ³•ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; foo, bar &#125; <span class="keyword">from</span><span class="string">'my_module'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥ç®€å•ç†è§£ä¸º</span></span><br><span class="line"><span class="keyword">import</span> &#123; foo, bar &#125; <span class="keyword">from</span><span class="string">'my_module'</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; foo, bar &#125;;</span><br></pre></td></tr></table></figure></p><p><a href="http://www.ruanyifeng.com/blog/2012/10/javascript_module.html" target="_blank" rel="noopener">Javascriptæ¨¡å—åŒ–ç¼–ç¨‹ï¼ˆä¸€ï¼‰ï¼šæ¨¡å—çš„å†™æ³•</a><br><a href="http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html" target="_blank" rel="noopener">Javascriptæ¨¡å—åŒ–ç¼–ç¨‹ï¼ˆäºŒï¼‰ï¼šAMDè§„èŒƒ</a><br><a href="http://es6.ruanyifeng.com/#docs/module" target="_blank" rel="noopener">Module çš„è¯­æ³•</a></p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> æ¨¡å—åŒ– </tag><tag> å·¥ç¨‹åŒ– </tag><tag> å‰ç«¯ </tag></tags></entry><entry><title>ã€è½¬ã€‘javascriptçš„selfå’Œthisä½¿ç”¨å°ç»“</title><link href="/self-and-this-in-js.html"/><url>/self-and-this-in-js.html</url><content type="html"><![CDATA[<p>ä¸€ã€self<br>è¿™ä¸ªéå¸¸ç®€å•ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ‰“å¼€ä»»ä½•ä¸€ä¸ªç½‘é¡µï¼Œæµè§ˆå™¨ä¼šé¦–å…ˆåˆ›å»ºä¸€ä¸ªçª—å£ï¼Œè¿™ä¸ªçª—å£å°±æ˜¯ä¸€ä¸ªwindowå¯¹è±¡ï¼Œä¹Ÿæ˜¯jsè¿è¡Œæ‰€ä¾é™„çš„å…¨å±€ç¯å¢ƒå¯¹è±¡å’Œå…¨å±€ä½œç”¨åŸŸå¯¹è±¡ã€‚self æŒ‡çª—å£æœ¬èº«ï¼Œå®ƒè¿”å›çš„å¯¹è±¡è·Ÿwindowå¯¹è±¡æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œwindowå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•å’Œå‡½æ•°éƒ½å¯ä»¥ç”¨selfä»£æ›¿windowã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¸¸è§çš„å†™æ³•å¦‚â€œself.close();â€ï¼ŒæŠŠå®ƒæ”¾åœ¨<a>æ ‡è®°ä¸­ï¼šâ€œ<a href="javascript:self.close();" target="_blank" rel="noopener">å…³é—­çª—å£</a>â€ï¼Œå•å‡»â€œå…³é—­çª—å£â€é“¾æ¥ï¼Œå½“å‰é¡µé¢å…³é—­ã€‚</a></p><a id="more"></a><p>äºŒã€thiså…³é”®å­—<br>åœ¨è®²thisä¹‹å‰ï¼Œçœ‹ä¸‹é¢çš„ä¸€æ®µä»£ç ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span><span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span><span class="title">thisTest</span><span class="params">()</span></span></span></span><br><span class="line">  &#123;</span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.textValue = <span class="string">'thisçš„domæµ‹è¯•'</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">this</span>.element= <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.element.innerHTML = <span class="keyword">this</span>.textValue;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.element.style.color = <span class="string">"blue"</span>;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.element.style.cursor = <span class="string">"pointer"</span>;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.element.attachEvent(<span class="string">'onclick'</span>, <span class="keyword">this</span>.ToString);</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  thisTest.prototype.RenderDom = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span></span><br><span class="line">  &#123;</span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.body.appendChild(<span class="keyword">this</span>.element);</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  thisTest.prototype.ToString = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span></span><br><span class="line">  &#123;</span><br><span class="line"><span class="actionscript">      alert(<span class="string">"å•å‡»æˆ‘ï¼š"</span>+<span class="keyword">this</span>.textValue);</span></span><br><span class="line">  &#125;;</span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> test= <span class="keyword">new</span> thisTest();</span></span><br><span class="line">  test.RenderDom();</span><br><span class="line"><span class="actionscript"><span class="comment">//test.ToString();</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æœ¬æ¥çš„ç›®çš„æ˜¯æƒ³åœ¨bodyä¸­æ·»åŠ ä¸€ä¸ªspanå…ƒç´ ï¼Œå¯¹äºè¿™ä¸ªspanå…ƒç´ ï¼Œåˆ¶å®šäº†å®ƒçš„å­—ä½“é¢œè‰²ï¼Œæ‚¬æµ®åœ¨å®ƒä¸Šé¢çš„é¼ æ ‡æ ·å¼å’Œå•å‡»è§¦å‘äº‹ä»¶ã€‚é—®é¢˜å°±å‡ºç°åœ¨å®ƒçš„å•å‡»äº‹ä»¶ä¸Šï¼ˆå¼¹å‡ºâ€å•å‡»æˆ‘:undefinedâ€ï¼‰ã€‚ä¹Ÿè®¸æœ‰äººä¼šè¯´ä½ ä¸«å‚»å‘€ï¼Œå†™è¿™ä¹ˆå¤šsbä»£ç è¿˜ä¸å°±æ˜¯ä¸ºäº†å®ç°ä¸‹é¢è¿™ä¸ªä¸œä¸œå—ï¼Ÿ<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span <span class="attribute">style</span>=<span class="string">'cursor:pointer;color:blue;'</span><span class="attribute">onclick</span>=<span class="string">"alert(this.innerHTML)"</span>&gt;thisçš„domæµ‹è¯•&lt;/span&gt;</span><br></pre></td></tr></table></figure></p><p>ä½ çœ‹å¤šç®€å•ç›´è§‚ï¼Œè€Œä¸”è¿˜ä¸å®¹æ˜“å‡ºé”™ï¼Ÿï¼kaoï¼Œæˆ‘æ™•ã€‚æˆ‘æ­£è¦è®²çš„æ˜¯æ‚¨æ­£åœ¨ä½¿ç”¨çš„this.innerHTMLä¸­çš„thiså‘€ã€‚<br>1ã€thisåˆ°åº•æŒ‡ä»€ä¹ˆï¼Ÿ<br>æˆ‘ä»¬ç†Ÿæ‚‰çš„c#æœ‰thiså…³é”®å­—ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨å°±æ˜¯æŒ‡ä»£å½“å‰å¯¹è±¡å®ä¾‹ï¼ˆå‚æ•°ä¼ é€’å’Œç´¢å¼•å™¨éƒ½è¦ç”¨åˆ°thisï¼‰ã€‚åœ¨javascriptä¸­ï¼Œthisé€šå¸¸æŒ‡å‘çš„æ˜¯æˆ‘ä»¬æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°æœ¬èº«ï¼Œæˆ–è€…æ˜¯æŒ‡å‘è¯¥å‡½æ•°æ‰€å±çš„å¯¹è±¡ï¼ˆè¿è¡Œæ—¶ï¼‰ã€‚<br>2ã€å¸¸è§ä½¿ç”¨æ–¹å¼<br>ï¼ˆ1ï¼‰ã€ç›´æ¥åœ¨domå…ƒç´ ä¸­ä½¿ç”¨<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input <span class="attribute">id</span>=<span class="string">"btnTest"</span><span class="attribute">type</span>=<span class="string">"button"</span><span class="attribute">value</span>=<span class="string">"æäº¤"</span><span class="attribute">onclick</span>=<span class="string">"alert(this.value))"</span> /&gt;</span><br></pre></td></tr></table></figure></p><p>åˆ†æï¼šå¯¹äºdomå…ƒç´ çš„ä¸€ä¸ªonclickï¼ˆæˆ–å…¶ä»–å¦‚onblurç­‰ï¼‰å±æ€§ï¼Œå®ƒä¸ºæ‰€å±çš„htmlå…ƒç´ æ‰€æ‹¥æœ‰ï¼Œç›´æ¥åœ¨å®ƒè§¦å‘çš„å‡½æ•°é‡Œå†™thisï¼Œthisåº”è¯¥æŒ‡å‘è¯¥htmlå…ƒç´ ã€‚<br>ï¼ˆ2ï¼‰ã€ç»™domå…ƒç´ æ³¨å†Œjså‡½æ•°<br>aã€ä¸æ­£ç¡®çš„æ–¹å¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span><span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span><span class="title">thisTest</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">  alert(<span class="keyword">this</span>.value); <span class="comment">// å¼¹å‡ºundefined, thisåœ¨è¿™é‡ŒæŒ‡å‘??</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span><span class="attr">id</span>=<span class="string">"btnTest"</span><span class="attr">type</span>=<span class="string">"button"</span><span class="attr">value</span>=<span class="string">"æäº¤"</span><span class="attr">onclick</span>=<span class="string">"thisTest()"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p> åˆ†æï¼šonclickäº‹ä»¶ç›´æ¥è°ƒç”¨thisTestå‡½æ•°ï¼Œç¨‹åºå°±ä¼šå¼¹å‡ºundefinedã€‚å› ä¸ºthisTestå‡½æ•°æ˜¯åœ¨windowå¯¹è±¡ä¸­å®šä¹‰çš„ï¼Œ<br>æ‰€ä»¥thisTestçš„æ‹¥æœ‰è€…ï¼ˆä½œç”¨åŸŸï¼‰æ˜¯windowï¼ŒthisTestçš„thisä¹Ÿæ˜¯windowã€‚è€Œwindowæ˜¯æ²¡æœ‰valueå±æ€§çš„ï¼Œæ‰€ä»¥å°±æŠ¥é”™äº†ã€‚<br>bã€æ­£ç¡®çš„æ–¹å¼<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span><span class="attr">id</span>=<span class="string">"btnTest"</span><span class="attr">type</span>=<span class="string">"button"</span><span class="attr">value</span>=<span class="string">"æäº¤"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span><span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span><span class="title">thisTest</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">  alert(<span class="keyword">this</span>.value);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementById(<span class="string">"btnTest"</span>).onclick=thisTest; <span class="comment">//ç»™buttonçš„onclickäº‹ä»¶æ³¨å†Œä¸€ä¸ªå‡½æ•°</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>åˆ†æï¼šåœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼ŒthisTestå‡½æ•°å®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸï¼ˆè¿™é‡Œå°±æ˜¯windowå¯¹è±¡ï¼‰ï¼Œæ‰€ä»¥thisæŒ‡ä»£çš„æ˜¯å½“å‰çš„windowå¯¹è±¡ã€‚è€Œé€šè¿‡document.getElementById(â€œbtnTestâ€).onclick=thisTest;è¿™æ ·çš„å½¢å¼ï¼Œå…¶å®æ˜¯å°†btnTestçš„onclickå±æ€§è®¾ç½®ä¸ºthisTestå‡½æ•°çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œåœ¨btnTestçš„onclickå±æ€§çš„å‡½æ•°ä½œç”¨åŸŸå†…ï¼Œthiså½’btnTestæ‰€æœ‰ï¼Œthisä¹Ÿå°±æŒ‡å‘äº†btnTestã€‚å…¶å®å¦‚æœæœ‰å¤šä¸ªdomå…ƒç´ è¦æ³¨å†Œè¯¥äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸åŒçš„domå…ƒç´ idï¼Œç”¨ä¸‹é¢çš„æ–¹å¼å®ç°ï¼š<br>document.getElementById(â€œdomIDâ€).onclick=thisTest; //ç»™buttonçš„onclickäº‹ä»¶æ³¨å†Œä¸€ä¸ªå‡½æ•°ã€‚<br>å› ä¸ºå¤šä¸ªä¸åŒçš„HTMLå…ƒç´ è™½ç„¶åˆ›å»ºäº†ä¸åŒçš„å‡½æ•°å‰¯æœ¬ï¼Œä½†æ¯ä¸ªå‰¯æœ¬çš„æ‹¥æœ‰è€…éƒ½æ˜¯ç›¸å¯¹åº”çš„HTMLå…ƒç´ ï¼Œå„è‡ªçš„thisä¹Ÿéƒ½æŒ‡å‘å®ƒä»¬çš„æ‹¥æœ‰è€…ï¼Œä¸ä¼šé€ æˆæ··ä¹±ã€‚<br>ä¸ºäº†éªŒè¯ä¸Šè¿°è¯´æ³•ï¼Œæˆ‘ä»¬æ”¹è¿›ä¸€ä¸‹ä»£ç ï¼Œè®©buttonç›´æ¥å¼¹å‡ºå®ƒä»¬å¯¹åº”çš„è§¦å‘å‡½æ•°ï¼š<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;input<span class="built_in"> id</span>=<span class="string">"btnTest1"</span> type=<span class="string">"button"</span><span class="keyword">value</span>=<span class="string">"æäº¤1"</span> onclick=<span class="string">"thisTest()"</span> /&gt;</span><br><span class="line">&lt;input<span class="built_in"> id</span>=<span class="string">"btnTest2"</span> type=<span class="string">"button"</span><span class="keyword">value</span>=<span class="string">"æäº¤2"</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span><span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span></span><br><span class="line"><span class="xml">function thisTest()</span><span class="xquery">&#123;</span></span><br><span class="line"><span class="xquery">this.<span class="keyword">value</span>=<span class="string">"æäº¤ä¸­"</span>;</span></span><br><span class="line"><span class="xquery">&#125;</span></span><br><span class="line"><span class="xml">var btn=document.getElementById("btnTest1");</span></span><br><span class="line"><span class="xml">alert(btn.onclick); //ç¬¬ä¸€ä¸ªæŒ‰é’®å‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="xml">var btnOther=document.getElementById("btnTest2");</span></span><br><span class="line"><span class="xml">btnOther.onclick=thisTest;</span></span><br><span class="line"><span class="xml">alert(btnOther.onclick); //ç¬¬äºŒä¸ªæŒ‰é’®å‡½æ•°</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>å…¶å¼¹å‡ºçš„ç»“æœæ˜¯ï¼š<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€ä¸ªæŒ‰é’®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">onclick</span><span class="params">()</span></span>&#123;</span><br><span class="line">  thisTest()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒä¸ªæŒ‰é’®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">thisTest</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.value=<span class="string">"æäº¤ä¸­"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä»ä¸Šé¢çš„ç»“æœä½ ä¸€å®šç†è§£çš„æ›´é€å½»äº†ã€‚<br>By the wayï¼Œæ¯æ–°å»ºä¸€ä¸ªå‡½æ•°çš„å‰¯æœ¬ï¼Œç¨‹åºå°±ä¼šä¸ºè¿™ä¸ªå‡½æ•°å‰¯æœ¬åˆ†é…ä¸€å®šçš„å†…å­˜ã€‚è€Œå®é™…åº”ç”¨ä¸­ï¼Œå¤§å¤šæ•°å‡½æ•°å¹¶ä¸ä¸€å®šä¼šè¢«è°ƒç”¨ï¼Œäºæ˜¯è¿™éƒ¨åˆ†å†…å­˜å°±è¢«ç™½ç™½æµªè´¹äº†ã€‚æ‰€ä»¥æˆ‘ä»¬é€šå¸¸éƒ½è¿™ä¹ˆå†™ï¼š<br><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">input</span> id="btnTest1" <span class="keyword">type</span>="button" <span class="keyword">value</span>="æäº¤1" onclick="thisTest(this)" /&gt;</span><br><span class="line">&lt;<span class="keyword">input</span> id="btnTest2" <span class="keyword">type</span>="button" <span class="keyword">value</span>="æäº¤2" onclick="thisTest(this)" /&gt;</span><br><span class="line">&lt;<span class="keyword">input</span> id="btnTest3" <span class="keyword">type</span>="button" <span class="keyword">value</span>="æäº¤3" onclick="thisTest(this)" /&gt;</span><br><span class="line">&lt;<span class="keyword">input</span> id="btnTest4" <span class="keyword">type</span>="button" <span class="keyword">value</span>="æäº¤4" onclick="thisTest(this)" /&gt;</span><br><span class="line"></span><br><span class="line">&lt;script <span class="keyword">type</span>="text/javascript"&gt;</span><br><span class="line"><span class="keyword">function</span> thisTest(obj)&#123;</span><br><span class="line">  alert(obj.<span class="keyword">value</span>);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p><p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†å‡½æ•°å¼•ç”¨çš„æ–¹å¼ï¼Œç¨‹åºå°±åªä¼šç»™å‡½æ•°çš„æœ¬ä½“åˆ†é…å†…å­˜ï¼Œè€Œå¼•ç”¨åªåˆ†é…æŒ‡é’ˆã€‚è¿™æ ·å†™ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨çš„åœ°æ–¹ç»™å®ƒåˆ†é…ä¸€ä¸ªï¼ˆæŒ‡é’ˆï¼‰å¼•ç”¨ï¼Œè¿™æ ·æ•ˆç‡å°±é«˜å¾ˆå¤šã€‚å½“ç„¶ï¼Œå¦‚æœä½ è§‰å¾—è¿™æ ·æ³¨å†Œäº‹ä»¶ä¸èƒ½å…¼å®¹å¤šç§æµè§ˆå™¨ï¼Œå¯ä»¥å†™ä¸‹é¢çš„æ³¨å†Œäº‹ä»¶çš„é€šç”¨è„šæœ¬ï¼š<br><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//jsäº‹ä»¶ æ·»åŠ  EventUtil.addEvent(domå…ƒç´ ,äº‹ä»¶åç§°,äº‹ä»¶è§¦å‘çš„å‡½æ•°å) ç§»é™¤EventUtil.removeEvent(domå…ƒç´ ,äº‹ä»¶åç§°,äº‹ä»¶è§¦å‘çš„å‡½æ•°å)</span></span><br><span class="line">var EventUtil = <span class="keyword">new</span> event<span class="constructor">Manager()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//jsäº‹ä»¶é€šç”¨ç®¡ç†å™¨ domå…ƒç´  æ·»åŠ æˆ–è€…ç§»é™¤äº‹ä»¶</span></span><br><span class="line"><span class="keyword">function</span> event<span class="constructor">Manager()</span> &#123;</span><br><span class="line"><span class="comment">//æ·»åŠ äº‹ä»¶</span></span><br><span class="line"><span class="comment">//oDomElement:domå…ƒç´ ,å¦‚æŒ‰é’®,æ–‡æœ¬,documentç­‰; ****** oEventType:äº‹ä»¶åç§°(å¦‚:click,å¦‚æœæ˜¯ieæµè§ˆå™¨,è‡ªåŠ¨å°†clickè½¬æ¢ä¸ºonclick);****** oFunc:äº‹ä»¶è§¦å‘çš„å‡½æ•°å</span></span><br><span class="line">    this.addEvent = <span class="keyword">function</span>(oDomElement, oEventType, oFunc) &#123;</span><br><span class="line"><span class="comment">//ie</span></span><br><span class="line"><span class="keyword">if</span> (oDomElement.attachEvent) &#123;</span><br><span class="line">            oDomElement.attach<span class="constructor">Event(<span class="string">"on"</span> + <span class="params">oEventType</span>, <span class="params">oFunc</span>)</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//ff,opera,safariç­‰</span></span><br><span class="line"><span class="keyword">else</span><span class="keyword">if</span> (oDomElement.addEventListener) &#123;</span><br><span class="line">            oDomElement.add<span class="constructor">EventListener(<span class="params">oEventType</span>, <span class="params">oFunc</span>, <span class="params">false</span>)</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//å…¶ä»–</span></span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">            oDomElement<span class="literal">["<span class="identifier">on</span>" + <span class="identifier">oEventType</span>]</span> = oFunc;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    this.removeEvent = <span class="keyword">function</span>(oDomElement, oEventType, oFunc) &#123;</span><br><span class="line"><span class="comment">//ie</span></span><br><span class="line"><span class="keyword">if</span> (oDomElement.detachEvent) &#123;</span><br><span class="line">            oDomElement.detach<span class="constructor">Event(<span class="string">"on"</span> + <span class="params">oEventType</span>, <span class="params">oFunc</span>)</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//ff,opera,safariç­‰</span></span><br><span class="line"><span class="keyword">else</span><span class="keyword">if</span> (oDomElement.removeEventListener) &#123;</span><br><span class="line">            oDomElement.remove<span class="constructor">EventListener(<span class="params">oEventType</span>, <span class="params">oFunc</span>, <span class="params">false</span>)</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//å…¶ä»–</span></span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">            oDomElement<span class="literal">["<span class="identifier">on</span>" + <span class="identifier">oEventType</span>]</span> = null;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p> æ­£åƒæ³¨é‡Šå†™çš„é‚£æ ·ï¼Œè¦æ³¨å†Œdomå…ƒç´ äº‹ä»¶ï¼Œç”¨EventUtil.addEvent(domå…ƒç´ ,äº‹ä»¶åç§°,äº‹ä»¶è§¦å‘çš„å‡½æ•°å)å³å¯ï¼Œ ç§»é™¤æ—¶å¯ä»¥è¿™æ ·å†™ï¼šEventUtil.removeEvent(domå…ƒç´ ,äº‹ä»¶åç§°,äº‹ä»¶è§¦å‘çš„å‡½æ•°å)ã€‚è¿™æ˜¯é¢˜å¤–è¯ï¼Œä¸è¯´äº†ã€‚<br>(3)ã€ç±»å®šä¹‰ä¸­ä½¿ç”¨thiså…³é”®å­—<br>è¿™ä¸ªå…¶å®å†å¸¸è§ä¸è¿‡ï¼Œçœ‹ç¤ºä¾‹ï¼š<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">thisTest</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">var</span> tmpName = <span class="string">'jeff wong'</span>;</span><br><span class="line"><span class="keyword">this</span>.userName= <span class="string">'jeff wong'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> test= <span class="keyword">new</span> thisTest();</span><br><span class="line">alert(test.userName==test.tmpName);<span class="comment">//false</span></span><br><span class="line">alert(test.userName); <span class="comment">//jeff wong</span></span><br><span class="line">alert(test.tmpName); <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure></p><p> åˆ†æä¸€ä¸‹ç»“æœï¼Œå…¶å®è¿™é‡Œçš„thiså’Œc#é‡Œçš„æ˜¯ç±»ä¼¼çš„ã€‚<br>ï¼ˆ4ï¼‰ã€ä¸ºè„šæœ¬å¯¹è±¡æ·»åŠ åŸå½¢æ–¹æ³•<br>ç†è§£è¿™é‡Œçš„å‰ææ˜¯ä½ å¿…é¡»äº†è§£jsé‡Œçš„åŸå‹æ¦‚å¿µï¼ˆè¯´é“è¿™é‡Œï¼Œkaoï¼Œæˆ‘è¿˜çœŸçš„éœ€è¦é¢å£ä¸€ä¸‹ï¼‰ï¼šjsä¸­å¯¹è±¡çš„prototypeå±æ€§ï¼Œæ˜¯ç”¨æ¥è¿”å›å¯¹è±¡ç±»å‹åŸå‹çš„å¼•ç”¨çš„ã€‚æ‰€æœ‰jså†…éƒ¨å¯¹è±¡éƒ½æœ‰åªè¯»çš„prototypeå±æ€§ï¼Œå¯ä»¥å‘å…¶åŸå‹ä¸­åŠ¨æ€æ·»åŠ åŠŸèƒ½(å±æ€§å’Œæ–¹æ³•)ï¼Œ<br>ä½†è¯¥å¯¹è±¡ä¸èƒ½è¢«èµ‹äºˆä¸åŒçš„åŸå‹ã€‚ä½†æ˜¯å¯¹äºç”¨æˆ·å®šä¹‰çš„å¯¹è±¡å¯ä»¥è¢«èµ‹ç»™æ–°çš„åŸå‹ã€‚çœ‹ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//jsçš„å†…éƒ¨å¯¹è±¡String,å‘å…¶åŸå‹ä¸­åŠ¨æ€æ·»åŠ åŠŸèƒ½(å±æ€§å’Œæ–¹æ³•)</span></span><br><span class="line"><span class="comment">//å»æ‰å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºç™½å­—ç¬¦</span></span><br><span class="line"><span class="built_in">String</span>.prototype.Trim = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span><span class="keyword">this</span>.replace(<span class="regexp">/(^\s+)|(\s+$)/g</span>, <span class="string">""</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">thisTest</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">var</span> tmpName = <span class="string">'jeff wong'</span>;</span><br><span class="line"><span class="keyword">this</span>.userName= <span class="string">'      jeff wong  '</span>;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//ç»™ç”¨æˆ·å®šä¹‰çš„å¯¹è±¡æ·»åŠ åŸå‹æ–¹æ³•</span></span><br><span class="line">thisTest.prototype.ToString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">      alert(<span class="keyword">this</span>.userName); <span class="comment">//jeff wong(*æœ‰ç©ºæ ¼*)</span></span><br><span class="line">      alert(<span class="keyword">this</span>.userName.Trim()); <span class="comment">//jeff wong (*æ— ç©ºæ ¼*)</span></span><br><span class="line"><span class="comment">//alert(tmpName); //è„šæœ¬é”™è¯¯,tmpNameæœªå®šä¹‰</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> test= <span class="keyword">new</span> thisTest();</span><br><span class="line">test.ToString(); <span class="comment">//è°ƒç”¨åŸå‹çš„ToString()</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">myTest</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.userName= <span class="string">'  test '</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> test1=<span class="keyword">new</span> myTest();</span><br><span class="line"><span class="comment">//test1.ToString(); //è¿™é‡Œæš‚æ—¶ä¸æ”¯æŒè°ƒç”¨ToString()æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨æˆ·å®šä¹‰çš„å¯¹è±¡è¢«èµ‹ç»™æ–°çš„åŸå‹</span></span><br><span class="line">myTest.prototype = <span class="keyword">new</span> thisTest();</span><br><span class="line">test1.ToString(); <span class="comment">//è°ƒç”¨åŸå‹çš„ToString()</span></span><br></pre></td></tr></table></figure></p><p>æµ‹è¯•ç»“æœæ˜¾ç¤ºï¼Œè¿™é‡Œçš„thisæŒ‡ä»£çš„æ˜¯è¢«æ·»åŠ åŸå½¢ï¼ˆæ–¹æ³•æˆ–å±æ€§ï¼‰çš„ç±»çš„å®ä¾‹ï¼Œå’Œï¼ˆ3ï¼‰ä¸­çš„å®šä¹‰åŸºæœ¬ç›¸ä¼¼ã€‚<br>ï¼ˆ5ï¼‰ã€åœ¨å‡½æ•°çš„å†…éƒ¨å‡½æ•°ä¸­ä½¿ç”¨thiså…³é”®å­—<br>è¿™ä¸ªä½ è¦æ˜¯ç†è§£ä½œç”¨åŸŸå’Œé—­åŒ…ï¼Œé—®é¢˜å°±è¿åˆƒè€Œè§£ã€‚çœ‹æœ€å…¸å‹çš„ç¤ºä¾‹ï¼š<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">thisTest</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.userName= <span class="string">'outer userName'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">innerThisTest</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">var</span> userName=<span class="string">"inner userName"</span>;</span><br><span class="line">        alert(userName); <span class="comment">//inner userName</span></span><br><span class="line">        alert(<span class="keyword">this</span>.userName); <span class="comment">//outer userName</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="keyword">return</span> innerThisTest;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">thisTest()();</span><br></pre></td></tr></table></figure></p><p>åˆ†æï¼šthisTest()è°ƒç”¨å†…éƒ¨çš„innerThisTestå‡½æ•°ï¼Œå½¢æˆä¸€ä¸ªé—­åŒ…ã€‚innerThisTestæ‰§è¡Œæ—¶ï¼Œç¬¬ä¸€æ¬¡å¼¹å‡ºinnerUserNameï¼Œæ˜¯å› ä¸ºinnerThisTestå‡½æ•°ä½œç”¨åŸŸå†…æœ‰ä¸€ä¸ªå˜é‡å«userNameï¼Œæ‰€ä»¥ç›´æ¥å¼¹å‡ºå½“å‰ä½œç”¨åŸŸä¸‹å˜é‡çš„æŒ‡å®šå€¼ï¼›ç¬¬äºŒæ¬¡å¼¹å‡ºouter  userNameæ˜¯å› ä¸ºinnerThisTestä½œç”¨åŸŸå†…æ²¡æœ‰userNameå±æ€§ï¼ˆç¤ºä¾‹ä¸­çš„this.userNameï¼‰,æ‰€ä»¥å®ƒå‘ä¸Šä¸€çº§ä½œç”¨åŸŸä¸­æ‰¾userNameå±æ€§ï¼Œè¿™æ¬¡åœ¨thisTestä¸­æ‰¾åˆ°ï¼ˆç¤ºä¾‹ä¸­çš„this.userName= â€˜outer userNameâ€™;ï¼‰ï¼Œæ‰€ä»¥å¼¹å‡ºå¯¹åº”å€¼ã€‚<br>ï¼ˆ6ï¼‰é€šè¿‡Functionçš„callå’Œapplyå‡½æ•°æŒ‡å®šç‰¹å®šçš„this<br>è¿™ä¸ªæŒ‡å®šæ¥æŒ‡å®šå»ï¼Œthiså°±æœ‰å¯èƒ½é€ æˆâ€œä½ ä¸­æœ‰æˆ‘ï¼Œæˆ‘ä¸­æœ‰ä½ â€çš„å±€é¢ï¼Œä¸æƒ³æŠŠè‡ªå·±å¼„æ™•äº†çš„è¯ï¼Œäº†è§£ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚æ”¹å˜thisæŒ‡å®šå¯¹è±¡å¯¹äºä»£ç ç»´æŠ¤ä¹Ÿæ˜¯ä¸€ä»¶å¾ˆä¸å¥½çš„äº‹æƒ…ã€‚è´´å‡ºæ—§æ–‡ä¸­çš„ç¤ºä¾‹ä»£ç ç»“æŸå§ï¼š<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">myFuncOne</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.p = <span class="string">"myFuncOne-"</span>;</span><br><span class="line"><span class="keyword">this</span>.A = <span class="function"><span class="keyword">function</span><span class="params">(arg)</span></span>&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.p + arg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">myFuncTwo</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.p = <span class="string">"myFuncTwo-"</span>;</span><br><span class="line"><span class="keyword">this</span>.B = <span class="function"><span class="keyword">function</span><span class="params">(arg)</span></span>&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.p + arg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">var</span> obj1 = <span class="keyword">new</span> myFuncOne();</span><br><span class="line"><span class="keyword">var</span> obj2 = <span class="keyword">new</span> myFuncTwo();</span><br><span class="line">    obj1.A(<span class="string">"testA"</span>);                       <span class="comment">//æ˜¾ç¤ºmyFuncOne-testA</span></span><br><span class="line">    obj2.B(<span class="string">"testB"</span>);                        <span class="comment">//æ˜¾ç¤ºmyFuncTwo-testB</span></span><br><span class="line">    obj1.A.apply(obj2, [<span class="string">"testA"</span>]);          <span class="comment">//æ˜¾ç¤ºmyFuncTwo-testA,å…¶ä¸­[ testAâ€]æ˜¯ä»…æœ‰ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„</span></span><br><span class="line">    obj2.B.apply(obj1, [<span class="string">"testB"</span>]);          <span class="comment">//æ˜¾ç¤ºmyFuncOne-testB,å…¶ä¸­[ testBâ€]æ˜¯ä»…æœ‰ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„</span></span><br><span class="line">    obj1.A.call(obj2, <span class="string">"testA"</span>);             <span class="comment">//æ˜¾ç¤ºmyFuncTwo-testA</span></span><br><span class="line">    obj2.B.call(obj1, <span class="string">"testB"</span>);             <span class="comment">//æ˜¾ç¤ºmyFuncOne-testB</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ€»ç»“ï¼šåˆ°è¿™é‡Œï¼Œå¯¹äºå¼€ç¯‡ä¸­çš„spanå¼¹å‡ºundefinedçš„é—®é¢˜ä½ æ˜¯ä¸æ˜¯å·²ç»è±ç„¶å¼€æœ—ï¼Ÿå¦‚æœä½ è¿˜åœ¨æ‡µæ‡‚ä¸­ï¼Œç»™ä¸ªå¯æœ‰å¯æ— çš„æç¤ºï¼šå½“å‰çš„è¿™ä¸ªspanå…ƒç´ æœ‰æ²¡æœ‰textValueå±æ€§å•Šï¼ï¼Ÿ<br>ä¸‰ã€void<br>1ã€å®šä¹‰<br>javascriptä¸­voidæ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼Œè¯¥æ“ä½œç¬¦æŒ‡å®šè¦è®¡ç®—ä¸€ä¸ªè¡¨è¾¾å¼ä½†æ˜¯ä¸è¿”å›å€¼ã€‚<br>2ã€è¯­æ³•<br>void æ“ä½œç¬¦ç”¨æ³•æ ¼å¼å¦‚ä¸‹ï¼š<br>    ï¼ˆ1ï¼‰. javascript:void (expression)<br>    ï¼ˆ2ï¼‰. javascript:void expression<br>æ³¨æ„ï¼šexpressionæ˜¯ä¸€ä¸ªè¦è®¡ç®—çš„jsæ ‡å‡†çš„è¡¨è¾¾å¼ã€‚è¡¨è¾¾å¼å¤–ä¾§çš„åœ†æ‹¬å·æ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯å†™ä¸Šå»ä½ å¯ä»¥ä¸€çœ¼å°±çŸ¥é“æ‹¬å¼§å†…çš„æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼ˆè¿™å’Œtypeofåé¢çš„è¡¨è¾¾å¼è¯­æ³•æ˜¯ä¸€æ ·çš„ï¼‰ã€‚<br>3ã€å®ä¾‹ä»£ç <br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="title">voidTest</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> (alert(<span class="string">"it is a void test"</span>)); <span class="comment">//æ‰§è¡Œå‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> oTestNum = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">void</span> (oTestNum++); <span class="comment">//æ•´æ•°è‡ªåŠ </span></span><br><span class="line">    alert(oTestNum);</span><br><span class="line"></span><br><span class="line">    oTestNum = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">void</span> (oTestNum += <span class="string">" void test"</span>); <span class="comment">//æ•´æ•°åŠ å­—ç¬¦ä¸²</span></span><br><span class="line">    alert(oTestNum);</span><br><span class="line">&#125;</span><br><span class="line">voidTest();</span><br></pre></td></tr></table></figure></p><p>4ã€åœ¨aå…ƒç´ ä¸‹ä½¿ç”¨void(0)<br>ï¼ˆ1ï¼‰é€‚ç”¨æƒ…å†µ<br>åœ¨ç½‘é¡µä¸­ï¼Œæˆ‘ä»¬ç»å¸¸çœ‹åˆ°htmlé‡Œçš„aæ ‡ç­¾ä¸éœ€è¦å®ƒå¯¼èˆªåˆ°æŸä¸€ä¸ªé¡µé¢æ—¶ï¼Œhrefå±æ€§è®¾ç½®çš„å†™æ³•ï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span><span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>link1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span><span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>&gt;</span>link2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>æ³¨æ„ï¼šç¬¬ä¸€ç§â€œ#â€çš„å†™æ³•ï¼ˆå…¶å®#å¯ä»¥æ˜¯å¤šä¸ªï¼Œé€šå¸¸éƒ½æ˜¯1ä¸ªï¼‰ï¼Œå½“aå…ƒç´ æ‰€åœ¨çš„é“¾æ¥åœ¨æµè§ˆå™¨ä¸€å±ä»¥ä¸‹æ—¶ï¼Œä¼šå¯¼è‡´é¡µé¢å›æ»šåˆ°é¡¶éƒ¨ï¼›æ‰€ä»¥å½“æˆ‘ä»¬éœ€è¦aæ ‡ç­¾ä¸å¯¼èˆªåˆ°å…¶ä»–é¡µé¢ï¼Œä¸éœ€è¦ç½‘é¡µä½ç½®çš„å›æ»šï¼Œéƒ½ä¼šé‡‡å–void(0)é‚£ç§å†™æ³•ã€‚<br>ï¼ˆ2ï¼‰ie6ä¸‹void(0)é€ æˆçš„è¯¡å¼‚é—®é¢˜<br>è¿™ä¸ªé—®é¢˜ç½‘ä¸Šæœ‰å¾ˆå¤šè®¨è®ºï¼Œä¸ªäººè®¤ä¸º<a href="http://www.cnblogs.com/litao229/archive/2009/06/23/1509379.html" target="_blank" rel="noopener">â€œè½å¶æ»¡é•¿æ²™â€</a>æ€»ç»“çš„å¾ˆæœ‰ä»£è¡¨æ€§ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚</p><p>æœ¬æ–‡æ‘˜è‡ª <a href="http://www.cnblogs.com/reommmm/archive/2010/01/20/1652469.html" target="_blank" rel="noopener">javascriptçš„selfå’Œthisä½¿ç”¨å°ç»“</a></p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> this </tag><tag> self </tag></tags></entry><entry><title>äº‹ä»¶å¤„ç†ç¨‹åº</title><link href="/event-of-javascript.html"/><url>/event-of-javascript.html</url><content type="html"><![CDATA[<p>JavaScriptå’ŒHTMLçš„äº¤äº’æ˜¯é€šè¿‡äº‹ä»¶å®ç°çš„ã€‚JavaScripté‡‡ç”¨å¼‚æ­¥äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ¨¡å‹ï¼Œå½“æ–‡æ¡£ã€æµè§ˆå™¨ã€å…ƒç´ æˆ–ä¸ä¹‹ç›¸å…³å¯¹è±¡å‘ç”Ÿç‰¹å®šäº‹æƒ…æ—¶ï¼Œæµè§ˆå™¨ä¼šäº§ç”Ÿäº‹ä»¶ã€‚å¦‚æœJavaScriptå…³æ³¨ç‰¹å®šç±»å‹äº‹ä»¶ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥æ³¨å†Œå½“è¿™ç±»äº‹ä»¶å‘ç”Ÿæ—¶è¦è°ƒç”¨çš„å¥æŸ„<br><a id="more"></a></p><pre><code>äº‹ä»¶æ˜¯æŸä¸ªè¡Œä¸ºæˆ–è€…è§¦å‘ï¼Œæ¯”å¦‚ç‚¹å‡»ã€é¼ æ ‡ç§»åŠ¨å½“ç”¨æˆ·ç‚¹å‡»é¼ æ ‡æ—¶å½“ç½‘é¡µå·²åŠ è½½æ—¶å½“å›¾åƒå·²åŠ è½½æ—¶å½“é¼ æ ‡ç§»åŠ¨åˆ°å…ƒç´ ä¸Šæ—¶å½“ç”¨æˆ·è§¦å‘æŒ‰é”®æ—¶...</code></pre><h3 id="äº‹ä»¶æµ"><a href="#äº‹ä»¶æµ" class="headerlink" title="äº‹ä»¶æµ"></a>äº‹ä»¶æµ</h3><p>äº‹ä»¶æµæè¿°çš„æ˜¯ä»é¡µé¢ä¸­æ¥æ”¶äº‹ä»¶çš„é¡ºåºï¼Œæ¯”å¦‚æœ‰ä¸¤ä¸ªåµŒå¥—çš„divï¼Œç‚¹å‡»äº†å†…å±‚çš„divï¼Œè¿™æ—¶å€™æ˜¯å†…å±‚çš„divå…ˆè§¦å‘clickäº‹ä»¶è¿˜æ˜¯å¤–å±‚å…ˆè§¦å‘ï¼Ÿç›®å‰ä¸»è¦æœ‰ä¸‰ç§æ¨¡å‹</p><blockquote><ul><li>IEçš„äº‹ä»¶å†’æ³¡ï¼šäº‹ä»¶å¼€å§‹æ—¶ç”±æœ€å…·ä½“çš„å…ƒç´ æ¥æ”¶ï¼Œç„¶åé€çº§å‘ä¸Šä¼ æ’­åˆ°è¾ƒä¸ºä¸å…·ä½“çš„å…ƒç´ </li><li>Netscapeçš„äº‹ä»¶æ•è·ï¼šä¸å¤ªå…·ä½“çš„èŠ‚ç‚¹æ›´æ—©æ¥æ”¶äº‹ä»¶ï¼Œè€Œæœ€å…·ä½“çš„å…ƒç´ æœ€åæ¥æ”¶äº‹ä»¶ï¼Œå’Œäº‹ä»¶å†’æ³¡ç›¸å</li><li>DOMäº‹ä»¶æµï¼šDOM2çº§äº‹ä»¶è§„å®šäº‹ä»¶æµåŒ…æ‹¬ä¸‰ä¸ªé˜¶æ®µï¼Œäº‹ä»¶æ•è·é˜¶æ®µï¼Œå¤„äºç›®æ ‡é˜¶æ®µï¼Œäº‹ä»¶å†’æ³¡é˜¶æ®µï¼Œé¦–å…ˆå‘ç”Ÿçš„æ˜¯äº‹ä»¶æ•è·ï¼Œä¸ºæˆªå–äº‹ä»¶æä¾›æœºä¼šï¼Œ<br>ç„¶åæ˜¯å®é™…ç›®æ ‡æ¥æ”¶äº‹ä»¶ï¼Œæœ€åæ˜¯å†’æ³¡é˜¶æ®µ</li></ul></blockquote><p>è¿™ç§åˆ†æ­§åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ä¹Ÿå¾ˆå¸¸è§ï¼Œä¸¾ä¸ªä¾‹å­ï¼ŒæŸä¸ªåœ°æ–¹å‡ºäº†æŠ¢åŠ«äº‹ä»¶ï¼Œæˆ‘ä»¬æœ‰å¤šç§å¤„ç†æ–¹å¼</p><pre><code>æ‘é‡Œå…ˆå‘ç°ï¼ŒæŠ¥å‘Šç»™ä¹¡é‡Œï¼Œä¹¡é‡ŒæŠ¥å‘Šåˆ°å¿åŸï¼Œå¿åŸæŠ¥å‘Šç»™å¸‚é‡Œå¸‚é‡Œå…ˆçŸ¥é“è¿™äº‹å„¿ï¼Œç„¶åäº¤ä»£ç»™å¿åŸæ€ä¹ˆå¤„ç†ï¼Œå¿åŸäº¤ç»™åˆ°ä¹¡é‡Œå¤„ç†ï¼Œä¹¡é‡Œäº¤ç»™æ‘é‡Œå¤„ç†</code></pre><p>Operaã€Firefoxã€Chromeã€Safariéƒ½æ”¯æŒDOMäº‹ä»¶æµï¼ŒIEä¸æ”¯æŒäº‹ä»¶æµï¼Œåªæ”¯æŒäº‹ä»¶å†’æ³¡</p><p>å¦‚æœ‰ä»¥ä¸‹html<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">http-equiv</span>=<span class="string">"Content-type"</span><span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Test Page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        Click Here<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>ç‚¹å‡»divåŒºåŸŸ</p><table><thead><tr><th><img src="http://7xpvnv.com2.z0.glb.qiniucdn.com/4bc08396-78b0-48e3-a8bb-f846e86e9d73" alt></th><th><img src="http://7xpvnv.com2.z0.glb.qiniucdn.com/0faaa7bb-5dcf-4f3c-93ff-62b134d987dd" alt></th><th><img src="http://7xpvnv.com2.z0.glb.qiniucdn.com/8ddedb2e-f55e-4872-bd36-79c44b71d3f1" alt></th></tr></thead><tbody><tr><td>äº‹ä»¶å†’æ³¡æ¨¡å‹</td><td>äº‹ä»¶æ•è·æ¨¡å‹</td><td>DOMäº‹ä»¶æµ</td></tr></tbody></table><h2 id="äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="äº‹ä»¶å¤„ç†ç¨‹åº"></a>äº‹ä»¶å¤„ç†ç¨‹åº</h2><p>æˆ‘ä»¬ä¹Ÿç§°ä¹‹ä¸ºäº‹ä»¶ä¾¦å¬å™¨ï¼ˆlistenerï¼‰ï¼Œäº‹ä»¶å°±æ˜¯ç”¨æˆ·æˆ–æµè§ˆå™¨è‡ªèº«æ‰§è¡Œçš„æŸç§åŠ¨ä½œã€‚æ¯”å¦‚clickã€loadã€mouseoverç­‰ï¼Œéƒ½æ˜¯äº‹ä»¶ç±»å‹ï¼ˆä¿—ç§°äº‹ä»¶åç§°ï¼‰ï¼Œè€Œå“åº”æŸä¸ªäº‹ä»¶çš„æ–¹æ³•å°±å«åšäº‹ä»¶å¤„ç†ç¨‹åºæˆ–è€…äº‹ä»¶ç›‘å¬å™¨</p><p>ä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦æå‰å®šä¹‰å¥½æŸäº›äº‹ä»¶å‘ç”Ÿäº†è¯¥æ€ä¹ˆå¤„ç†ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšç»‘å®šäº‹ä»¶å¤„ç†ç¨‹åºï¼Œäº†è§£äº†è¿™äº›ï¼Œæˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç»™å…ƒç´ æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åº<br>HTMLå†…è”æ–¹å¼</p><p>å…ƒç´ æ”¯æŒçš„æ¯ä¸ªäº‹ä»¶éƒ½å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç›¸åº”äº‹ä»¶å¤„ç†ç¨‹åºåŒåçš„HTMLå±æ€§æŒ‡å®šã€‚è¿™ä¸ªå±æ€§çš„å€¼åº”è¯¥æ˜¯å¯ä»¥æ‰§è¡Œçš„JavaScriptä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¸€ä¸ªbuttonæ·»åŠ clickäº‹ä»¶å¤„ç†ç¨‹åº</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">input</span><span class="keyword">type</span>="button" <span class="keyword">value</span>="Click Here" onclick="alert('Clicked!');" /&gt;</span><br></pre></td></tr></table></figure><p>åœ¨HTMLäº‹ä»¶å¤„ç†ç¨‹åºä¸­å¯ä»¥åŒ…å«è¦æ‰§è¡Œçš„å…·ä½“åŠ¨ä½œï¼Œä¹Ÿå¯ä»¥è°ƒç”¨åœ¨é¡µé¢å…¶å®ƒåœ°æ–¹å®šä¹‰çš„è„šæœ¬,åˆšæ‰çš„ä¾‹å­å¯ä»¥å†™æˆè¿™æ ·</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">input</span><span class="keyword">type</span>="button" <span class="keyword">value</span>="Click Here" onclick="showMessage();" /&gt;</span><br></pre></td></tr></table></figure><p>åœ¨HTMLä¸­æŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºä¹¦å†™å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªç¼ºç‚¹ã€‚</p><blockquote><ul><li>å­˜åœ¨åŠ è½½é¡ºåºé—®é¢˜ï¼Œå¦‚æœäº‹ä»¶å¤„ç†ç¨‹åºåœ¨htmlä»£ç ä¹‹ååŠ è½½ï¼Œç”¨æˆ·å¯èƒ½åœ¨äº‹ä»¶å¤„ç†ç¨‹åºè¿˜æœªåŠ è½½å®Œæˆæ—¶å°±ç‚¹å‡»æŒ‰é’®ä¹‹ç±»çš„è§¦å‘äº‹ä»¶ï¼Œå­˜åœ¨æ—¶é—´å·®é—®é¢˜</li><li>è¿™æ ·ä¹¦å†™htmlä»£ç å’ŒJavaScriptä»£ç ç´§å¯†è€¦åˆï¼Œç»´æŠ¤ä¸æ–¹ä¾¿</li></ul></blockquote><h3 id="JavaScriptæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åº"><a href="#JavaScriptæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="JavaScriptæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åº"></a>JavaScriptæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åº</h3><p>é€šè¿‡JavaScriptæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºå°±æ˜¯æŠŠä¸€ä¸ªæ–¹æ³•èµ‹å€¼ç»™ä¸€ä¸ªå…ƒç´ çš„äº‹ä»¶å¤„ç†ç¨‹åºå±æ€§ã€‚</p><p>æ¯ä¸ªå…ƒç´ éƒ½æœ‰è‡ªå·±çš„äº‹ä»¶å¤„ç†ç¨‹åºå±æ€§ï¼Œè¿™äº›å±æ€§åç§°é€šå¸¸ä¸ºå°å†™ï¼Œå¦‚onclickç­‰ï¼Œå°†è¿™äº›å±æ€§çš„å€¼è®¾ç½®ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå°±å¯ä»¥æŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºï¼Œå¦‚ä¸‹<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span><span class="attr">id</span>=<span class="string">"btnClick"</span><span class="attr">type</span>=<span class="string">"button"</span><span class="attr">value</span>=<span class="string">"Click Here"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span><span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> btnClick = <span class="built_in">document</span>.getElementById(<span class="string">'btnClick'</span>);</span></span><br><span class="line"><span class="actionscript">    btnClick.onclick = <span class="function"><span class="keyword">function</span><span class="title">showMessage</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="keyword">this</span>.id);</span></span><br><span class="line">    &#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>è¿™æ ·å¤„ç†ï¼Œäº‹ä»¶å¤„ç†ç¨‹åºè¢«è®¤ä¸ºæ˜¯å…ƒç´ çš„æ–¹æ³•ï¼Œäº‹ä»¶å¤„ç†ç¨‹åºåœ¨å…ƒç´ çš„ä½œç”¨åŸŸä¸‹è¿è¡Œï¼Œthiså°±æ˜¯å½“å‰å…ƒç´ ï¼Œæ‰€ä»¥ç‚¹å‡»buttonç»“æœæ˜¯ï¼šbtnClick</p><p>è¿™æ ·è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åºï¼Œåªéœ€æŠŠå…ƒç´ çš„onclickå±æ€§èµ‹ä¸ºnullå³å¯</p><h3 id="DOM2äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#DOM2äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="DOM2äº‹ä»¶å¤„ç†ç¨‹åº"></a>DOM2äº‹ä»¶å¤„ç†ç¨‹åº</h3><p>DOM2çº§äº‹ä»¶å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ç”¨äºå¤„ç†æŒ‡å®šå’Œåˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åºçš„æ“ä½œï¼š<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">addEventListener</span></span><br><span class="line"><span class="keyword">removeEventListener</span></span><br></pre></td></tr></table></figure></p><p>æ‰€æœ‰çš„DOMèŠ‚ç‚¹éƒ½åŒ…å«è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”å®ƒä»¬éƒ½æ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p><blockquote><ul><li>äº‹ä»¶ç±»å‹</li><li>äº‹ä»¶å¤„ç†æ–¹æ³•</li><li>å¸ƒå°”å‚æ•°ï¼Œå¦‚æœæ˜¯trueè¡¨ç¤ºåœ¨æ•è·é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå¦‚æœæ˜¯falseï¼Œåˆ™æ˜¯åœ¨äº‹ä»¶å†’æ³¡é˜¶æ®µå¤„ç†</li></ul></blockquote><p>åˆšæ‰çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span><span class="attr">id</span>=<span class="string">"btnClick"</span><span class="attr">type</span>=<span class="string">"button"</span><span class="attr">value</span>=<span class="string">"Click Here"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span><span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> btnClick = <span class="built_in">document</span>.getElementById(<span class="string">'btnClick'</span>);</span></span><br><span class="line"><span class="actionscript">    btnClick.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="keyword">this</span>.id);</span></span><br><span class="line"><span class="actionscript">    &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç ä¸ºbuttonæ·»åŠ äº†clickäº‹ä»¶çš„å¤„ç†ç¨‹åºï¼Œåœ¨å†’æ³¡é˜¶æ®µè§¦å‘ï¼Œä¸ä¸Šä¸€ç§æ–¹æ³•ä¸€æ ·ï¼Œè¿™ä¸ªç¨‹åºä¹Ÿæ˜¯åœ¨å…ƒç´ çš„ä½œç”¨åŸŸä¸‹è¿è¡Œï¼Œä¸è¿‡æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºclickäº‹ä»¶æ·»åŠ å¤šä¸ªå¤„ç†ç¨‹åº<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span><span class="attr">id</span>=<span class="string">"btnClick"</span><span class="attr">type</span>=<span class="string">"button"</span><span class="attr">value</span>=<span class="string">"Click Here"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span><span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> btnClick = <span class="built_in">document</span>.getElementById(<span class="string">'btnClick'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    btnClick.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="keyword">this</span>.id);</span></span><br><span class="line"><span class="actionscript">    &#125;, <span class="literal">false</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    btnClick.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="string">'Hello!'</span>);</span></span><br><span class="line"><span class="actionscript">    &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ä¸¤ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºä¼šåœ¨ç”¨æˆ·ç‚¹å‡»buttonåæŒ‰ç…§æ·»åŠ é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</p><p>é€šè¿‡addEventListeneræ·»åŠ çš„äº‹ä»¶å¤„ç†ç¨‹åºåªèƒ½é€šè¿‡removeEventListenerç§»é™¤ï¼Œç§»é™¤æ—¶å‚æ•°ä¸æ·»åŠ çš„æ—¶å€™ç›¸åŒï¼Œè¿™å°±æ„å‘³ç€åˆšæ‰æˆ‘ä»¬æ·»åŠ çš„åŒ¿åå‡½æ•°æ— æ³•ç§»é™¤ï¼Œå› ä¸ºåŒ¿åå‡½æ•°è™½ç„¶æ–¹æ³•ä½“ä¸€æ ·ï¼Œä½†æ˜¯å¥æŸ„å´ä¸ç›¸åŒï¼Œæ‰€ä»¥å½“æˆ‘ä»¬æœ‰ç§»é™¤äº‹ä»¶å¤„ç†ç¨‹åºçš„æ—¶å€™å¯ä»¥è¿™æ ·å†™<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span><span class="attr">id</span>=<span class="string">"btnClick"</span><span class="attr">type</span>=<span class="string">"button"</span><span class="attr">value</span>=<span class="string">"Click Here"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span><span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> btnClick = <span class="built_in">document</span>.getElementById(<span class="string">'btnClick'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> handler=<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="keyword">this</span>.id);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    btnClick.addEventListener(<span class="string">'click'</span>, handler, <span class="literal">false</span>);</span></span><br><span class="line"><span class="actionscript">    btnClick.removeEventListener(<span class="string">'click'</span>, handler, <span class="literal">false</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="IEå…¼å®¹æ€§"><a href="#IEå…¼å®¹æ€§" class="headerlink" title="IEå…¼å®¹æ€§"></a>IEå…¼å®¹æ€§</h2><p>ä¸‹é¢å°±æ˜¯è€ç”Ÿå¸¸è°ˆçš„IEå…¼å®¹æ€§é—®é¢˜äº†ã€‚ã€‚ã€‚</p><p>IEå¹¶ä¸æ”¯æŒaddEventListenerå’ŒremoveEventListeneræ–¹æ³•ï¼Œè€Œæ˜¯å®ç°äº†ä¸¤ä¸ªç±»ä¼¼çš„æ–¹æ³•<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">attachEvent</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">detachEvent</span></span><br></pre></td></tr></table></figure></p><p>è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ¥æ”¶ä¸¤ä¸ªç›¸åŒçš„å‚æ•°</p><blockquote><ul><li>äº‹ä»¶å¤„ç†ç¨‹åºåç§°</li><li>äº‹ä»¶å¤„ç†ç¨‹åºæ–¹æ³•</li></ul></blockquote><p>ç”±äºIEæŒ‡æ”¯æŒäº‹ä»¶å†’æ³¡ï¼Œæ‰€ä»¥æ·»åŠ çš„ç¨‹åºä¼šè¢«æ·»åŠ åˆ°å†’æ³¡é˜¶æ®µï¼Œä½¿ç”¨attachEventæ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºå¯ä»¥å¦‚ä¸‹<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span><span class="attr">id</span>=<span class="string">"btnClick"</span><span class="attr">type</span>=<span class="string">"button"</span><span class="attr">value</span>=<span class="string">"Click Here"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span><span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> btnClick = <span class="built_in">document</span>.getElementById(<span class="string">'btnClick'</span>);</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> handler=<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="keyword">this</span>.id);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    btnClick.attachEvent(<span class="string">'onclick'</span>, handler);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>ç»“æœæ˜¯undefinedï¼Œå¾ˆå¥‡æ€ªï¼Œä¸€ä¼šå„¿æˆ‘ä»¬ä¼šä»‹ç»åˆ°</p><p>ä½¿ç”¨attachEventæ·»åŠ çš„äº‹ä»¶å¤„ç†ç¨‹åºå¯ä»¥é€šè¿‡detachEventç§»é™¤ï¼Œæ¡ä»¶ä¹Ÿæ˜¯ç›¸åŒçš„å‚æ•°ï¼ŒåŒ¿åå‡½æ•°ä¸èƒ½è¢«ç§»é™¤ã€‚<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span><span class="attr">id</span>=<span class="string">"btnClick"</span><span class="attr">type</span>=<span class="string">"button"</span><span class="attr">value</span>=<span class="string">"Click Here"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span><span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> btnClick = <span class="built_in">document</span>.getElementById(<span class="string">'btnClick'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> handler=<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="keyword">this</span>.id);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    btnClick.attachEvent(<span class="string">'onclick'</span>, handler);</span></span><br><span class="line"><span class="actionscript">    btnClick.detachEvent(<span class="string">'onclick'</span>, handler);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="è·¨æµè§ˆå™¨çš„äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#è·¨æµè§ˆå™¨çš„äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="è·¨æµè§ˆå™¨çš„äº‹ä»¶å¤„ç†ç¨‹åº"></a>è·¨æµè§ˆå™¨çš„äº‹ä»¶å¤„ç†ç¨‹åº</h2><p>å‰é¢å†…å®¹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸åŒçš„æµè§ˆå™¨ä¸‹ï¼Œæ·»åŠ å’Œç§»é™¤äº‹ä»¶å¤„ç†ç¨‹åºæ–¹å¼ä¸ç›¸åŒï¼Œè¦æƒ³å†™å‡ºè·¨æµè§ˆå™¨çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œé¦–å…ˆæˆ‘ä»¬è¦äº†è§£ä¸åŒçš„æµè§ˆå™¨ä¸‹å¤„ç†äº‹ä»¶å¤„ç†ç¨‹åºçš„åŒºåˆ«</p><p>åœ¨æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºäº‹addEventListenerå’ŒattachEventä¸»è¦æœ‰å‡ ä¸ªåŒºåˆ«</p><blockquote><ul><li>å‚æ•°ä¸ªæ•°ä¸ç›¸åŒï¼Œè¿™ä¸ªæœ€ç›´è§‚ï¼ŒaddEventListeneræœ‰ä¸‰ä¸ªå‚æ•°ï¼ŒattachEventåªæœ‰ä¸¤ä¸ªï¼ŒattachEventæ·»åŠ çš„äº‹ä»¶å¤„ç†ç¨‹åºåªèƒ½å‘ç”Ÿåœ¨å†’æ³¡é˜¶æ®µï¼ŒaddEventListenerç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥å†³å®šæ·»åŠ çš„äº‹ä»¶å¤„ç†ç¨‹åºæ˜¯åœ¨æ•è·é˜¶æ®µè¿˜æ˜¯å†’æ³¡é˜¶æ®µå¤„ç†ï¼ˆæˆ‘ä»¬ä¸€èˆ¬ä¸ºäº†æµè§ˆå™¨å…¼å®¹æ€§éƒ½è®¾ç½®ä¸ºå†’æ³¡é˜¶æ®µï¼‰</li><li>ç¬¬ä¸€ä¸ªå‚æ•°æ„ä¹‰ä¸åŒï¼ŒaddEventListenerç¬¬ä¸€ä¸ªå‚æ•°æ˜¯äº‹ä»¶ç±»å‹ï¼ˆæ¯”å¦‚clickï¼Œloadï¼‰ï¼Œè€ŒattachEventç¬¬ä¸€ä¸ªå‚æ•°æŒ‡æ˜çš„æ˜¯äº‹ä»¶å¤„ç†å‡½æ•°åç§°ï¼ˆonclickï¼Œonloadï¼‰</li><li>äº‹ä»¶å¤„ç†ç¨‹åºçš„ä½œç”¨åŸŸä¸ç›¸åŒï¼ŒaddEventListenerçš„ä½œç”¨åŸŸæ˜¯å…ƒç´ æœ¬èº«ï¼Œthisæ˜¯æŒ‡çš„è§¦å‘å…ƒç´ ï¼Œè€ŒattachEventäº‹ä»¶å¤„ç†ç¨‹åºä¼šåœ¨å…¨å±€å˜é‡å†…è¿è¡Œï¼Œthisæ˜¯windowï¼Œæ‰€ä»¥åˆšæ‰ä¾‹å­æ‰ä¼šè¿”å›undefinedï¼Œè€Œä¸æ˜¯å…ƒç´ id</li><li>ä¸ºä¸€ä¸ªäº‹ä»¶æ·»åŠ å¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åºæ—¶ï¼Œæ‰§è¡Œé¡ºåºä¸åŒï¼ŒaddEventListeneræ·»åŠ ä¼šæŒ‰ç…§æ·»åŠ é¡ºåºæ‰§è¡Œï¼Œè€ŒattachEventæ·»åŠ å¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åºæ—¶é¡ºåºæ— è§„å¾‹(æ·»åŠ çš„æ–¹æ³•å°‘çš„æ—¶å€™å¤§å¤šæ˜¯æŒ‰æ·»åŠ é¡ºåºçš„åé¡ºåºæ‰§è¡Œçš„ï¼Œä½†æ˜¯æ·»åŠ çš„å¤šäº†å°±æ— è§„å¾‹äº†)ï¼Œæ‰€ä»¥æ·»åŠ å¤šä¸ªçš„æ—¶å€™ï¼Œä¸ä¾èµ–æ‰§è¡Œé¡ºåºçš„è¿˜å¥½ï¼Œè‹¥æ˜¯ä¾èµ–äºå‡½æ•°æ‰§è¡Œé¡ºåºï¼Œæœ€å¥½è‡ªå·±å¤„ç†ï¼Œä¸è¦æŒ‡æœ›æµè§ˆå™¨</li></ul></blockquote><p>äº†è§£äº†è¿™å››ç‚¹åŒºåˆ«åæˆ‘ä»¬å¯ä»¥å°è¯•å†™ä¸€ä¸ªæµè§ˆå™¨å…¼å®¹æ€§æ¯”è¾ƒå¥½çš„æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºæ–¹æ³•</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function addEvent(<span class="keyword">node</span><span class="title">, type</span>, handler) &#123;</span><br><span class="line">    if (!<span class="keyword">node</span><span class="title">) return</span><span class="literal">false</span>;</span><br><span class="line">    if (<span class="keyword">node</span>.<span class="title">addEventListener</span>) &#123;</span><br><span class="line"><span class="keyword">node</span>.<span class="title">addEventListener</span>(<span class="keyword">type</span>, handler, <span class="literal">false</span>);</span><br><span class="line">        return <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    else if (<span class="keyword">node</span>.<span class="title">attachEvent</span>) &#123;</span><br><span class="line"><span class="keyword">node</span>.<span class="title">attachEvent</span>('on' + <span class="keyword">type</span>, handler, );</span><br><span class="line">        return <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œé¦–å…ˆæˆ‘ä»¬è§£å†³äº†ç¬¬ä¸€ä¸ªé—®é¢˜å‚æ•°ä¸ªæ•°ä¸åŒï¼Œç°åœ¨ä¸‰ä¸ªå‚æ•°ï¼Œé‡‡ç”¨äº‹ä»¶å†’æ³¡é˜¶æ®µè§¦å‘</p><p>ç¬¬äºŒä¸ªé—®é¢˜ä¹Ÿå¾—ä»¥è§£å†³ï¼Œå¦‚æœæ˜¯IEï¼Œæˆ‘ä»¬ç»™typeæ·»åŠ ä¸Šon</p><p>ç¬¬å››ä¸ªé—®é¢˜ç›®å‰è¿˜æ²¡æœ‰è§£å†³æ–¹æ¡ˆï¼Œéœ€è¦ç”¨æˆ·è‡ªå·±æ³¨æ„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¤§å®¶ä¹Ÿä¸ä¼šæ·»åŠ å¾ˆå¤šäº‹ä»¶å¤„ç†ç¨‹åº</p><p>è¯•è¯•è¿™ä¸ªæ–¹æ³•æ„Ÿè§‰å¾ˆä¸é”™ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰è§£å†³ç¬¬ä¸‰ä¸ªé—®é¢˜ï¼Œç”±äºå¤„ç†ç¨‹åºä½œç”¨åŸŸä¸åŒï¼Œå¦‚æœhandlerå†…æœ‰thisä¹‹ç±»æ“ä½œï¼Œé‚£ä¹ˆå°±ä¼šå‡ºé”™ã€‚åœ¨IEä¸‹ï¼Œå®é™…ä¸Šå¤§å¤šæ•°å‡½æ•°éƒ½ä¼šæœ‰thisæ“ä½œ<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function addEvent(<span class="keyword">node</span><span class="title">, type</span>, handler) &#123;</span><br><span class="line">    if (!<span class="keyword">node</span><span class="title">) return</span><span class="literal">false</span>;</span><br><span class="line">    if (<span class="keyword">node</span>.<span class="title">addEventListener</span>) &#123;</span><br><span class="line"><span class="keyword">node</span>.<span class="title">addEventListener</span>(<span class="keyword">type</span>, handler, <span class="literal">false</span>);</span><br><span class="line">        return <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    else if (<span class="keyword">node</span>.<span class="title">attachEvent</span>) &#123;</span><br><span class="line"><span class="keyword">node</span>.<span class="title">attachEvent</span>('on' + <span class="keyword">type</span>, function() &#123; handler.apply(<span class="keyword">node</span><span class="title">); &#125;);</span></span><br><span class="line"><span class="title">        return</span><span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·å¤„ç†å°±å¯ä»¥è§£å†³thisçš„é—®é¢˜äº†ï¼Œä½†æ˜¯æ–°çš„é—®é¢˜åˆæ¥äº†ï¼Œæˆ‘ä»¬è¿™æ ·ç­‰äºæ·»åŠ äº†ä¸€ä¸ªåŒ¿åçš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæ— æ³•ç”¨detachEventå–æ¶ˆäº‹ä»¶å¤„ç†ç¨‹åºï¼Œæœ‰å¾ˆå¤šè§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥å€Ÿé‰´å¤§å¸ˆçš„å¤„ç†æ–¹å¼ï¼ŒjQueryåˆ›å§‹äººJohn Resigæ˜¯è¿™æ ·åšçš„<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function addEvent(<span class="keyword">node</span><span class="title">, type</span>, handler) &#123;</span><br><span class="line">    if (!<span class="keyword">node</span><span class="title">) return</span><span class="literal">false</span>;</span><br><span class="line">    if (<span class="keyword">node</span>.<span class="title">addEventListener</span>) &#123;</span><br><span class="line"><span class="keyword">node</span>.<span class="title">addEventListener</span>(<span class="keyword">type</span>, handler, <span class="literal">false</span>);</span><br><span class="line">        return <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    else if (<span class="keyword">node</span>.<span class="title">attachEvent</span>) &#123;</span><br><span class="line"><span class="keyword">node</span><span class="title">['e</span>' + <span class="keyword">type</span> + handler] = handler;</span><br><span class="line"><span class="keyword">node</span><span class="title">[type</span> + handler] = function() &#123;</span><br><span class="line"><span class="keyword">node</span><span class="title">['e</span>' + <span class="keyword">type</span> + handler](window.event);</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="keyword">node</span>.<span class="title">attachEvent</span>('on' + <span class="keyword">type</span>, <span class="keyword">node</span><span class="title">[type</span> + handler]);</span><br><span class="line">        return <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>åœ¨å–æ¶ˆäº‹ä»¶å¤„ç†ç¨‹åºçš„æ—¶å€™</strong><br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function removeEvent(<span class="keyword">node</span><span class="title">, type</span>, handler) &#123;</span><br><span class="line">    if (!<span class="keyword">node</span><span class="title">) return</span><span class="literal">false</span>;</span><br><span class="line">    if (<span class="keyword">node</span>.<span class="title">removeEventListener</span>) &#123;</span><br><span class="line"><span class="keyword">node</span>.<span class="title">removeEventListener</span>(<span class="keyword">type</span>, handler, <span class="literal">false</span>);</span><br><span class="line">        return <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    else if (<span class="keyword">node</span>.<span class="title">detachEvent</span>) &#123;</span><br><span class="line"><span class="keyword">node</span>.<span class="title">detachEvent</span>('on' + <span class="keyword">type</span>, <span class="keyword">node</span><span class="title">[type</span> + handler]);</span><br><span class="line"><span class="keyword">node</span><span class="title">[type</span> + handler] = null;</span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>John Resigå¾ˆå·§å¦™åœ°åˆ©ç”¨äº†é—­åŒ…ï¼Œçœ‹èµ·æ¥å¾ˆä¸é”™ã€‚</p><h2 id="äº‹ä»¶å¯¹è±¡"><a href="#äº‹ä»¶å¯¹è±¡" class="headerlink" title="äº‹ä»¶å¯¹è±¡"></a>äº‹ä»¶å¯¹è±¡</h2><p>åœ¨è§¦å‘DOMä¸Šçš„æŸä¸ªäº‹ä»¶çš„æ—¶å€™ä¼šäº§ç”Ÿä¸€ä¸ªäº‹ä»¶å¯¹è±¡eventï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«ç€æ‰€æœ‰ä¸äº‹ä»¶æœ‰å…³çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬äº§ç”Ÿäº‹ä»¶çš„å…ƒç´ ã€äº‹ä»¶ç±»å‹ç­‰ç›¸å…³ä¿¡æ¯ã€‚æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒeventå¯¹è±¡ï¼Œä½†æ”¯æŒæ–¹å¼ä¸åŒã€‚</p><h3 id="DOMä¸­çš„äº‹ä»¶å¯¹è±¡"><a href="#DOMä¸­çš„äº‹ä»¶å¯¹è±¡" class="headerlink" title="DOMä¸­çš„äº‹ä»¶å¯¹è±¡"></a>DOMä¸­çš„äº‹ä»¶å¯¹è±¡</h3><p>å…¼å®¹DOMçš„æµè§ˆå™¨ä¼šäº§ç”Ÿä¸€ä¸ªeventå¯¹è±¡ä¼ å…¥äº‹ä»¶å¤„ç†ç¨‹åºä¸­ã€‚åº”ç”¨ä¸€ä¸‹åˆšæ‰æˆ‘ä»¬å†™çš„addEventæ–¹æ³•<br><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var btnClick = document.get<span class="constructor">ElementById('<span class="params">btnClick</span>')</span>;</span><br><span class="line">  add<span class="constructor">Event(<span class="params">btnClick</span>, '<span class="params">click</span>', <span class="params">handler</span>)</span>;</span><br></pre></td></tr></table></figure></p><p>ç‚¹å‡»buttonçš„æ—¶å€™æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¼¹å‡ºå†…å®¹æ˜¯clickçš„å¼¹çª—</p><p>eventå¯¹è±¡åŒ…å«ä¸åˆ›å»ºå®ƒçš„ç‰¹å®šäº‹ä»¶æœ‰å…³çš„å±æ€§å’Œæ–¹æ³•ï¼Œè§¦å‘äº‹ä»¶çš„ç±»å‹ä¸åŒï¼Œå¯ç”¨çš„å±æ€§å’Œæ–¹æ³•ä¹Ÿä¸åŒï¼Œä½†æ˜¯æ‰€æœ‰äº‹ä»¶éƒ½ä¼šåŒ…å«</p><table><thead><tr><th>å±æ€§/æ–¹æ³•</th><th>ç±»å‹</th><th>è¯»/å†™</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>bubbles</td><td>Boolean</td><td>åªè¯»</td><td>äº‹ä»¶æ˜¯å¦å†’æ³¡</td></tr><tr><td>cancelable</td><td>Boolean</td><td>åªè¯»</td><td>æ˜¯å¦å¯ä»¥å–æ¶ˆäº‹ä»¶çš„é»˜è®¤è¡Œä¸º</td></tr><tr><td>currentTarget</td><td>Element</td><td>åªè¯»</td><td>äº‹ä»¶å¤„ç†ç¨‹åºå½“å‰å¤„ç†å…ƒç´ </td></tr><tr><td>detail</td><td>Integer</td><td>åªè¯»</td><td>ä¸äº‹ä»¶ç›¸å…³ç»†èŠ‚ä¿¡æ¯</td></tr><tr><td>eventPhase</td><td>Integer</td><td>åªè¯»</td><td>äº‹ä»¶å¤„ç†ç¨‹åºé˜¶æ®µï¼š1 æ•è·é˜¶æ®µï¼Œ2 å¤„äºç›®æ ‡é˜¶æ®µï¼Œ3 å†’æ³¡é˜¶æ®µ</td></tr><tr><td>preventDefault()</td><td>Function</td><td>åªè¯»</td><td>å–æ¶ˆäº‹ä»¶é»˜è®¤è¡Œä¸º</td></tr><tr><td>stopPropagation()</td><td>Function</td><td>åªè¯»</td><td>å–æ¶ˆäº‹ä»¶è¿›ä¸€æ­¥æ•è·æˆ–å†’æ³¡</td></tr><tr><td>target</td><td>Element</td><td>åªè¯»</td><td>äº‹ä»¶çš„ç›®æ ‡å…ƒç´ </td></tr><tr><td>type</td><td>String</td><td>åªè¯»</td><td>è¢«è§¦å‘çš„äº‹ä»¶ç±»å‹</td></tr><tr><td>view</td><td>AbstractView</td><td>åªè¯»</td><td>ä¸äº‹ä»¶å…³è”çš„æŠ½è±¡è§†å›¾ï¼Œç­‰åŒäºå‘ç”Ÿäº‹ä»¶çš„windowå¯¹è±¡</td></tr></tbody></table><p>åœ¨äº‹ä»¶å¤„ç†ç¨‹åºå†…éƒ¨ï¼Œthiså§‹ç»ˆç­‰åŒäºcurrentTargetï¼Œè€Œtargetæ˜¯äº‹ä»¶çš„å®é™…ç›®æ ‡ã€‚</p><p>è¦é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨preventDefault()æ–¹æ³•ï¼Œå‰ææ˜¯cancelableå€¼ä¸ºtrueï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥é˜»æ­¢é“¾æ¥å¯¼èˆªè¿™ä¸€é»˜è®¤è¡Œä¸º<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#btn'</span>).onclick = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>stopPropagation()æ–¹æ³•å¯ä»¥åœæ­¢äº‹ä»¶åœ¨DOMå±‚æ¬¡çš„ä¼ æ’­ï¼Œå³å–æ¶ˆè¿›ä¸€æ­¥çš„äº‹ä»¶æ•è·æˆ–å†’æ³¡ã€‚æˆ‘ä»¬å¯ä»¥åœ¨buttonçš„äº‹ä»¶å¤„ç†ç¨‹åºä¸­è°ƒç”¨stopPropagation()ä»è€Œé¿å…æ³¨å†Œåœ¨bodyä¸Šçš„äº‹ä»¶å‘ç”Ÿ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> handler = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    alert(e.type);</span><br><span class="line">    e.stopPropagation();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">addEvent(<span class="built_in">document</span>.body, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert(<span class="string">'Clicked body'</span>)&#125;);</span><br><span class="line"><span class="keyword">var</span> btnClick = <span class="built_in">document</span>.getElementById(<span class="string">'btnClick'</span>);</span><br><span class="line">addEvent(btnClick, <span class="string">'click'</span>, handler);</span><br></pre></td></tr></table></figure></p><p>è‹¥æ˜¯æ³¨é‡Šæ‰e.stopPropagation(); åœ¨ç‚¹å‡»buttonçš„æ—¶å€™ï¼Œç”±äºäº‹ä»¶å†’æ³¡ï¼Œbodyçš„clickäº‹ä»¶ä¹Ÿä¼šè§¦å‘ï¼Œä½†æ˜¯è°ƒç”¨è¿™å¥åï¼Œäº‹ä»¶ä¼šåœæ­¢ä¼ æ’­<br>IEä¸­çš„äº‹ä»¶å¯¹è±¡</p><p>è®¿é—®IEä¸­çš„eventå¯¹è±¡æœ‰å‡ ç§ä¸åŒçš„æ–¹å¼ï¼Œå–å†³äºæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºçš„æ–¹æ³•ã€‚ç›´æ¥ä¸ºDOMå…ƒç´ æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºæ—¶ï¼Œeventå¯¹è±¡ä½œä¸ºwindowå¯¹è±¡çš„ä¸€ä¸ªå±æ€§å­˜åœ¨<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> handler = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> e = <span class="built_in">window</span>.event;</span><br><span class="line">    alert(e.type);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> btnClick = <span class="built_in">document</span>.getElementById(<span class="string">'btnClick'</span>);</span><br><span class="line">btnClick.onclick = handler;</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬é€šè¿‡window.eventå–å¾—äº†eventå¯¹è±¡ï¼Œå¹¶æ£€æµ‹åˆ°äº†å…¶ç±»å‹ï¼Œå¯æ˜¯å¦‚æœäº‹ä»¶å¤„ç†ç¨‹åºæ˜¯é€šè¿‡attachEventæ·»åŠ çš„ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰ä¸€ä¸ªeventå¯¹è±¡è¢«ä¼ å…¥äº‹ä»¶å¤„ç†ç¨‹åºä¸­<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> handler = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    alert(e.type);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> btnClick = <span class="built_in">document</span>.getElementById(<span class="string">'btnClick'</span>);</span><br><span class="line">attachEvent(btnClick, handler);</span><br></pre></td></tr></table></figure></p><p>å½“ç„¶è¿™æ—¶å€™ä¹Ÿå¯ä»¥é€šè¿‡windowå¯¹è±¡è®¿é—®eventï¼Œæ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä¼ å…¥eventå¯¹è±¡ï¼ŒIEä¸­æ‰€æœ‰çš„äº‹ä»¶éƒ½åŒ…å«ä»¥ä¸‹å±æ€§æ–¹æ³•</p><table><thead><tr><th>å±æ€§/æ–¹æ³•</th><th>ç±»å‹</th><th>è¯»/å†™</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>cancelBubble</td><td>Boolean</td><td>è¯»/å†™</td><td>é»˜è®¤ä¸ºfalseï¼Œè®¾ç½®ä¸ºtrueåå¯ä»¥å–æ¶ˆäº‹ä»¶å†’æ³¡</td></tr><tr><td>returnValue</td><td>Boolean</td><td>è¯»/å†™</td><td>é»˜è®¤ä¸ºtrueï¼Œè®¾ä¸ºfalseå¯ä»¥å–æ¶ˆäº‹ä»¶é»˜è®¤è¡Œä¸º</td></tr><tr><td>srcElement</td><td>Element</td><td>åªè¯»</td><td>äº‹ä»¶çš„ç›®æ ‡å…ƒç´ </td></tr><tr><td>type</td><td>String  åªè¯»</td><td>è¢«è§¦å‘çš„äº‹ä»¶ç±»å‹</td></tr></tbody></table><h3 id="è·¨æµè§ˆå™¨çš„äº‹ä»¶å¯¹è±¡"><a href="#è·¨æµè§ˆå™¨çš„äº‹ä»¶å¯¹è±¡" class="headerlink" title="è·¨æµè§ˆå™¨çš„äº‹ä»¶å¯¹è±¡"></a>è·¨æµè§ˆå™¨çš„äº‹ä»¶å¯¹è±¡</h3><p>è™½ç„¶DOMå’ŒIEçš„eventå¯¹è±¡ä¸åŒï¼Œä½†åŸºäºå®ƒä»¬çš„ç›¸ä¼¼æ€§ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥å†™å‡ºè·¨æµè§ˆå™¨çš„äº‹ä»¶å¯¹è±¡æ–¹æ¡ˆ<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span><span class="title">getEvent</span>(e) &#123;</span><br><span class="line"><span class="keyword">return</span><span class="type">e</span> || window.event;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span><span class="title">getTarget</span>(e) &#123;</span><br><span class="line"><span class="keyword">return</span><span class="type">e.target</span> || e.scrElement;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span><span class="title">preventDefault</span>(e) &#123;</span><br><span class="line">    if (e.preventDefault)</span><br><span class="line">        e.preventDefault();</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        e.returnValue = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span><span class="title">stopPropagation</span>(e) &#123;</span><br><span class="line">    if (e.stopPropagation)</span><br><span class="line">        e.stopPropagation();</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        e.cancelBubble = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="å¸¸ç”¨HTMLäº‹ä»¶"><a href="#å¸¸ç”¨HTMLäº‹ä»¶" class="headerlink" title="å¸¸ç”¨HTMLäº‹ä»¶"></a>å¸¸ç”¨HTMLäº‹ä»¶</h3><p>æœ‰ä¸€äº›HTMLäº‹ä»¶æˆ‘ä»¬ä¼šç»å¸¸ç”¨åˆ°ï¼Œè¿™äº›äº‹ä»¶ä¸ä¸€å®šä¸ç”¨æˆ·æ“ä½œæœ‰å…³ï¼Œè¿™é‡Œåªæ˜¯ç®€å•æåŠï¼Œè¯¦ç»†ç”¨æ³•å¤§å®¶å°±å¾—ç™¾åº¦è°·æ­Œäº†<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">load</span>ï¼šå½“é¡µé¢å®Œå…¨åŠ è½½ååœ¨<span class="keyword">window</span>ä¸Šè§¦å‘ï¼Œå½“å›¾åƒåŠ è½½å®Œæˆååœ¨imgå…ƒç´ ä¸Šè§¦å‘ï¼Œæˆ–å½“åµŒå…¥å†…å®¹åŠ è½½å®Œæˆæ—¶ï¼Œåœ¨<span class="keyword">object</span>å…ƒç´ ä¸Šè§¦å‘</span><br><span class="line"></span><br><span class="line">unloadï¼šé¡µé¢å®Œå…¨å¸è½½ååœ¨<span class="keyword">window</span>ä¸Šè§¦å‘ï¼Œæˆ–åµŒå…¥å†…å®¹å¸è½½ååœ¨<span class="keyword">object</span>å…ƒç´ è§¦å‘</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span>ï¼šç”¨æˆ·é€‰æ‹©æ–‡æœ¬æ¡†ä¸­çš„å­—ç¬¦æ—¶è§¦å‘</span><br><span class="line"></span><br><span class="line"><span class="keyword">change</span>ï¼šæ–‡æœ¬æ¡†ç„¦ç‚¹å˜åŒ–åå…¶å€¼æ”¹å˜æ—¶è§¦å‘</span><br><span class="line"></span><br><span class="line">submitï¼šç”¨æˆ·æäº¤è¡¨å•çš„æ—¶å€™è§¦å‘</span><br><span class="line"></span><br><span class="line"><span class="keyword">resize</span>ï¼šçª—å£æˆ–æ¡†æ¶å¤§å°å˜åŒ–çš„æ—¶å€™åœ¨<span class="keyword">window</span>ä¸Šè§¦å‘</span><br><span class="line"></span><br><span class="line"><span class="keyword">scroll</span>ï¼šç”¨æˆ·æ»šåŠ¨å¸¦æ»šåŠ¨æ¡çš„å…ƒç´ æ—¶ï¼Œåœ¨è¯¥å…ƒç´ ä¸Šè§¦å‘</span><br><span class="line"></span><br><span class="line">focusï¼šé¡µé¢æˆ–å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶åœ¨<span class="keyword">window</span>åŠç›¸åº”å…ƒç´ ä¸Šè§¦å‘</span><br><span class="line"></span><br><span class="line">blurï¼šé¡µé¢æˆ–å…ƒç´ å¤±å»ç„¦ç‚¹æ—¶åœ¨<span class="keyword">window</span>åŠç›¸åº”å…ƒç´ ä¸Šè§¦å‘</span><br><span class="line"></span><br><span class="line">beforeunloadï¼šé¡µé¢å¸è½½å‰åœ¨<span class="keyword">window</span>ä¸Šè§¦å‘</span><br><span class="line"></span><br><span class="line">mousewheelï¼šä¸ç®—HTMLçš„ï¼Œå½“ç”¨æˆ·é€šè¿‡é¼ æ ‡æ»šè½®ä¸é¡µé¢äº¤äº’ï¼Œåœ¨å‚ç›´æ–¹å‘æ»šåŠ¨é¡µé¢æ—¶è§¦å‘</span><br></pre></td></tr></table></figure></p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> DOM </tag><tag> äº‹ä»¶ </tag></tags></entry><entry><title>ã€è½¬ã€‘REMå’ŒEM</title><link href="/REM-vs-EM.html"/><url>/REM-vs-EM.html</url><content type="html"><![CDATA[<p>ç½‘é¡µå­—ä½“æ’ç‰ˆçš„æœ€ä½³å®è·µä¹‹ä¸€å°±æ˜¯ä½¿ç”¨ç›¸å¯¹å•ä½ï¼Œå¦‚remå’Œem.</p><p>é—®é¢˜æ˜¯ï¼Œä½ åº”è¯¥ä½¿ç”¨å“ªä¸€ä¸ªå‘¢?ä¸€ç›´ä»¥æ¥ï¼Œremæ”¯æŒè€…å’Œemæ”¯æŒè€…ä¹‹é—´éƒ½å­˜åœ¨ç€äº‰è¾©ï¼Œè®¤ä¸ºåº”è¯¥ä½¿ç”¨è‡ªå·±æ”¯æŒçš„é‚£ä¸ªã€‚<br><a id="more"></a><br>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½ ä¼šæ‰¾åˆ°æˆ‘å¦‚ä½•åœ¨remå’Œemä¹‹é—´åšæŠ‰æ‹©.ä½ ä¹Ÿå°†äº†è§£remå’Œemåˆ°åº•æ˜¯ä»€ä¹ˆä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒä»¬æ¥æ„å»ºæ¨¡å—åŒ–ç»„ä»¶ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯EMï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯EMï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯EMï¼Ÿ"></a>ä»€ä¹ˆæ˜¯EMï¼Ÿ</h2><blockquote><p>EM æ˜¯å­—ä½“æ’å°çš„ä¸€ä¸ªå•ä½ï¼Œç­‰åŒäºå½“å‰æŒ‡å®šçš„point-sizeã€‚-ç»´åŸºç™¾ç§‘</p></blockquote><p>æ­¤è¯­å¥åœ¨ç½‘é¡µä¸Šå¹¶ä¸èƒ½è¯´å¾—è¿‡å»ï¼Œå› ä¸ºæˆ‘ä»¬ä¸ä½¿ç”¨point-size.å¦‚æœæˆ‘ä»¬ç”¨point-sizeå–ä»£font-sizeçš„è¯ï¼Œè¿™å¥è¯å°±å®Œå…¨è¡Œå¾—é€šã€‚</p><p><strong>æ„æ€å°±æ˜¯ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªé€‰æ‹©å™¨çš„font-sizeå±æ€§çš„å€¼ä¸º 20px,é‚£ä¹ˆ1em=20px</strong><br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123; <span class="attribute">font-size</span>: <span class="number">20px</span> &#125; <span class="comment">/* 1em = 20px */</span></span><br><span class="line"><span class="selector-tag">p</span> &#123; <span class="attribute">font-size</span>: <span class="number">16px</span> &#125; <span class="comment">/* 1em = 16px */</span></span><br></pre></td></tr></table></figure></p><p> å€¼ï¼Œä½†è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œçº¯ç²¹æ˜¯å› ä¸ºç»§æ‰¿ã€‚**</p><p>emå•ä½å¯ä»¥è¢«ç”¨æ¥å£°æ˜å­—ä½“çš„å¤§å°ã€‚å®é™…ä¸Šï¼Œæœ€ä½³åšæ³•æ˜¯ä½¿ç”¨ç›¸å¯¹å•ä½ï¼Œå¦‚ç”¨emæŒ‡å®šfont-sizeã€‚</p><p>è€ƒè™‘å¦‚ä¸‹ä»£ç :<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123; <span class="attribute">font-size</span>: <span class="number">2em</span> &#125;</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œh1é€‰æ‹©å™¨çš„çœŸæ­£å¤§å°æ˜¯å¤šå°‘å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬è¦æ ¹æ®<code>&lt;h1&gt;</code>çš„çˆ¶å…ƒç´ æ¥è®¡ç®—font-sizeã€‚å®ƒçš„çˆ¶å…ƒç´ æ˜¯<code>&lt;html&gt;</code>,å¹¶ä¸”å®ƒçš„font-sizeè¢«è®¾ç½®ä¸º16pxã€‚</p><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºh1çš„å€¼ä¸º32px,æˆ–è€…è¯´2 * 16px.<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123; <span class="attribute">font-size</span>: <span class="number">16px</span> &#125;</span><br><span class="line"><span class="selector-tag">h1</span> &#123; <span class="attribute">font-size</span>: <span class="number">2em</span> &#125; <span class="comment">/* 16px * 2 = 32px */</span></span><br></pre></td></tr></table></figure></p><p>è™½ç„¶ä¹Ÿå¯ä»¥å®ç°ï¼Œä½†æ˜¯è¿™å¹¶ä¸è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œé€šè¿‡åœ¨<code>&lt;html&gt;</code>ä¸­è®¾ç½®font-sizeçš„åƒç´ å€¼å°†å½±å“ç”¨æˆ·æµè§ˆå™¨æ‰€è®¾ç½®çš„å€¼ã€‚</p><p>å–è€Œä»£ä¹‹ï¼Œä½ å¯ä»¥ä½¿ç”¨percentageå€¼ï¼Œæˆ–è€…å®Œå…¨æ‘’å¼ƒfont-sizeã€‚</p><p>æ³¨æ„:å¦‚æœä½ å®Œå…¨æ‘’å¼ƒfont-size,å®ƒçš„å€¼å°†è¢«é»˜è®¤ä¸º100%.<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123; <span class="attribute">font-size</span>: <span class="number">100%</span> &#125; <span class="comment">/*è¿™é‡Œçš„æ„æ€æ˜¯é»˜è®¤å€¼ä¸º16px*/</span></span><br></pre></td></tr></table></figure></p><p>å¯¹äºå¤§å¤šæ•°çš„ç”¨æˆ·(å’Œæµè§ˆå™¨)ï¼Œfont-sizeçš„å€¼ä¸º100%ï¼Œå°±ä¼šé»˜è®¤ä¸º16pxï¼Œé™¤éç”¨æˆ·é€šè¿‡æµè§ˆå™¨è®¾ç½®æ¥æ”¹å˜font-sizeçš„é»˜è®¤å€¼ã€‚ä½†æ˜¯å¾ˆå°‘æœ‰äººè¿™ä¹ˆåšã€‚</p><p>å¥½äº†ï¼Œè®©æˆ‘ä»¬å›åˆ°emã€‚</p><p>emä¹Ÿå¯ä»¥ç”¨æ¥æŒ‡å®šé™¤äº†font-sizeçš„å…¶å®ƒå±æ€§å€¼ã€‚marginå’Œpaddingå±æ€§ä¹Ÿç»å¸¸ç”¨emè®¾ç½®å¤§å°ã€‚</p><p>è¿™é‡Œæ˜¯å¾ˆå¤šäººå¼€å§‹å¯¹emçš„å€¼äº§ç”Ÿå›°æƒ‘çš„åœ°æ–¹ã€‚</p><p>è€ƒè™‘ä¸‹é¢çš„ä»£ç ã€‚<code>&lt;h1&gt;</code>å’Œ<code>&lt;p&gt;</code>å…ƒç´ çš„margin-bottomçš„å€¼åº”è¯¥æ˜¯å¤šå°‘ï¼Ÿ(å‡è®¾<code>&lt;html&gt;</code>çš„font-sizeè¢«è®¾ç½®ä¸º100%).<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>: <span class="number">2em</span>; <span class="comment">/* 1em = 16px */</span></span><br><span class="line"><span class="attribute">margin-bottom</span>: <span class="number">1em</span>; <span class="comment">/* 1em = 32px */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>: <span class="number">1em</span>; <span class="comment">/* 1em = 16px */</span></span><br><span class="line"><span class="attribute">margin-bottom</span>: <span class="number">1em</span>; <span class="comment">/* 1em = 16px */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä½ æ˜¯ä¸æ˜¯å¾ˆåƒæƒŠä¸¤ç§çŠ¶å†µä¸‹çš„margin-bottomçš„1emå€¼ä¸åŒï¼Ÿ</p><p>è¿™ç§ç°è±¡çš„å‘ç”Ÿåœ¨äº1emç­‰åŒäºå®ƒå½“å‰çš„font-sizeã€‚å› ä¸º<code>&lt;h1&gt;</code>ä¸­çš„font-sizeè¢«è®¾ç½®ä¸ºäº†2emã€‚å…¶ä»–ç”¨åœ¨<code>&lt;h1&gt;</code>å†…çš„emæ¥è®¡ç®—çš„å±æ€§ï¼Œå°±ä¸º1em = 32pxã€‚</p><p>åœ¨ä¸åŒçš„ä»£ç ä¸­ï¼Œ1emå°±ä¼šæœ‰ä¸åŒçš„å–å€¼ï¼Œè¿™å°±æ˜¯ç»å¸¸è¿·æƒ‘äººä»¬çš„åœ°æ–¹ã€‚å¦‚æœä½ ä¹Ÿæ˜¯åˆšåˆšæ¥è§¦emï¼Œä½ ä¹Ÿä¼šäº§ç”Ÿè¿·æƒ‘ã€‚</p><p>ä¸ç®¡æ€ä¹ˆè¯´ï¼Œè¿™å°±æ˜¯em.æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬è®¤è¯†remã€‚</p><h2 id="ä»€ä¹ˆæ˜¯REMï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯REMï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯REMï¼Ÿ"></a>ä»€ä¹ˆæ˜¯REMï¼Ÿ</h2><blockquote><p><strong>remæŒ‡æ ¹emã€‚å®ƒçš„äº§ç”Ÿæ˜¯ä¸ºäº†å¸®åŠ©äººä»¬è§£å†³emæ‰€å¸¦æ¥çš„è®¡ç®—é—®é¢˜ã€‚</strong></p></blockquote><blockquote><p><strong>å®ƒæ˜¯å­—ä½“æ’ç‰ˆçš„ä¸€ä¸ªå•ä½ï¼Œç­‰åŒäºæ ¹font-sizeã€‚è¿™æ„å‘³ç€1remç­‰åŒäº<code>&lt;html&gt;</code>ä¸­çš„font-sizeã€‚</strong></p></blockquote><p>è€ƒè™‘ç›¸åŒçš„ç”¨remè¡¨ç¤ºçš„ä»£ç ã€‚ç°åœ¨margin-bottomè®¡ç®—å‡ºæ¥çš„å€¼ä¸ºå¤šå°‘å‘¢ï¼Ÿ<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>: <span class="number">2rem</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>: <span class="number">1rem</span>; <span class="comment">/* 1rem = 16px */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>: <span class="number">1rem</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>: <span class="number">1rem</span>; <span class="comment">/* 1rem = 16px */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ­£å¦‚æ‚¨çœ‹åˆ°çš„ï¼Œæ— è®ºæ‚¨åœ¨å“ªé‡Œè®¾ç½®å®ƒï¼Œ1remçš„å–å€¼å‡ä¸º16pxã€‚</p><p>è¿™æ˜¯ååˆ†å¯é çš„ï¼Œå¾ˆå®¹æ˜“å»ç†è§£ã€‚</p><p>è¿™å°±æ˜¯remã€‚ä¸€æ—¦ä½ çŸ¥é“äº†ä»€ä¹ˆæ˜¯emï¼Œå°±å¾ˆå®¹æ˜“å»ç†è§£ï¼Œä½ æ˜¯ä¸æ˜¯ä¹ŸåŒæ„è¿™ä¸ªè§‚ç‚¹ï¼Ÿ</p><p>ç°åœ¨è®©æˆ‘ä»¬æ­¥å…¥è¿™ç¯‡æ–‡ç« çš„æ­£é¢˜ï¼Œrem è¿˜æ˜¯ em?</p><h2 id="REMs-or-EMs"><a href="#REMs-or-EMs" class="headerlink" title="REMs or EMs?"></a>REMs or EMs?</h2><p>è¿™æ˜¯æå…·äº‰è®®çš„é—®é¢˜ã€‚</p><p><strong>ä¸€äº›å¼€å‘äººå‘˜å®Œå…¨é¿å…ä½¿ç”¨rem,å£°ç§°ä½¿ç”¨remä¼šä½¿ä»–ä»¬çš„ç»„ä»¶ç¼ºå°‘æ¨¡å—åŒ–ã€‚å¦å¤–ä¸€äº›äººåˆ™ä»€ä¹ˆéƒ½ä½¿ç”¨rem,å› ä¸ºå–œæ¬¢remæ‰€å¸¦æ¥çš„ä¾¿æ·ã€‚</strong></p><p>å¥‡æ€ªçš„æ˜¯ï¼Œåœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæˆ‘æ‰è¿›äº†åœ¨ä¸åŒçš„åœ°æ–¹æ˜¯ä½¿ç”¨remæˆ–è€…emçš„é™·é˜±ä¸­ã€‚æˆ‘å–œæ¬¢emå¸®åŠ©æˆ‘å®Œæˆæ¨¡å—åŒ–ç»„ä»¶ï¼Œä½†æ˜¯è®¨åŒå®ƒæ‰€å¸¦æ¥çš„ä»£ç å¤æ‚æ€§ã€‚æˆ‘å–œæ¬¢remè®¡ç®—çš„ä¾¿æ·ï¼Œä½†æ˜¯è®¨åŒä»–æ˜¯æˆ‘æ¨¡å—åŒ–ç»„ä»¶çš„é˜»ç¢ã€‚</p><p>äº‹å®è¯æ˜ã€‚rem å’Œ em å‡æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ã€‚åº”ç»™æ ¹æ®å®é™…æƒ…å†µæ¥åˆ¤æ–­å…¶ä½¿ç”¨æ–¹å¼ã€‚</p><p>è¿™é‡Œæˆ‘æœ‰ä¸¤ä¸ªç®€å•çš„è§„åˆ™ï¼š</p><ul><li>å¦‚æœè¿™ä¸ªå±æ€§æ ¹æ®å®ƒçš„font-sizeè¿›è¡Œæµ‹é‡ï¼Œåˆ™ä½¿ç”¨em(å½“æœ‰å±æ€§éœ€è¦ç”¨å®ƒçš„å­—ä½“å¤§å°(font-size)è¿›è¡Œå¤§å°å£°æ˜æ—¶ï¼Œè¿™æ—¶emå°±ç›¸å½“æœ‰ç”¨ã€‚)</li><li>å…¶ä»–çš„ä¸€åˆ‡äº‹ç‰©å‡ä½¿ç”¨rem.</li></ul><blockquote><p><strong>æœ‰ä¸€ä¸ªæ¯”è¾ƒæ™®éçš„è¯¯è§£ï¼Œè®¤ä¸º em å•ä½æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ çš„å­—ä½“å¤§å°ã€‚ äº‹å®ä¸Šï¼Œæ ¹æ®W3æ ‡å‡† ï¼Œå®ƒä»¬æ˜¯ç›¸å¯¹äºä½¿ç”¨emå•ä½çš„å…ƒç´ çš„å­—ä½“å¤§å°ã€‚çˆ¶å…ƒç´ çš„å­—ä½“å¤§å°å¯ä»¥å½±å“ em</strong><br><em>(é»˜è®¤æƒ…å†µä¸‹æµè§ˆå™¨é€šå¸¸æœ‰å­—ä½“å¤§å° 16pxï¼Œä½†è¿™å¯ä»¥è¢«ç”¨æˆ·æ›´æ”¹ä¸ºä» 9px åˆ° 72pxçš„ä»»ä½•å€¼ã€‚)</em></p></blockquote><hr><blockquote><ul><li>æ ¹ html å…ƒç´ å°†ç»§æ‰¿æµè§ˆå™¨ä¸­è®¾ç½®çš„å­—ä½“å¤§å°ï¼Œé™¤éæ˜¾å¼è®¾ç½®å›ºå®šå€¼å»è¦†ç›–ã€‚</li><li>æ‰€ä»¥ html å…ƒç´ çš„å­—ä½“å¤§å°è™½ç„¶æ˜¯ç›´æ¥ç¡®å®š rem å€¼ï¼Œä½†å­—ä½“å¤§å°å¯èƒ½é¦–å…ˆæ¥è‡ªæµè§ˆå™¨è®¾ç½®ã€‚</li><li>å› æ­¤æµè§ˆå™¨çš„å­—ä½“å¤§å°è®¾ç½®å¯ä»¥å½±å“æ¯ä¸ªä½¿ç”¨ rem å•å…ƒä»¥åŠæ¯ä¸ªé€šè¿‡ em å•ä½ç»§æ‰¿çš„å€¼ã€‚</li></ul></blockquote><hr><blockquote><ul><li>rem å•ä½ç¿»è¯‘ä¸ºåƒç´ å€¼æ˜¯ç”± html å…ƒç´ çš„å­—ä½“å¤§å°å†³å®šçš„ã€‚ æ­¤å­—ä½“å¤§å°ä¼šè¢«æµè§ˆå™¨ä¸­å­—ä½“å¤§å°çš„è®¾ç½®å½±å“ï¼Œé™¤éæ˜¾å¼é‡å†™ä¸€ä¸ªå…·ä½“å•ä½ã€‚</li><li>em å•ä½è½¬ä¸ºåƒç´ å€¼ï¼Œå–å†³äºä»–ä»¬ä½¿ç”¨çš„å­—ä½“å¤§å°ã€‚ æ­¤å­—ä½“å¤§å°å—ä»çˆ¶å…ƒç´ ç»§æ‰¿è¿‡æ¥çš„å­—ä½“å¤§å°ï¼Œé™¤éæ˜¾å¼é‡å†™ä¸ä¸€ä¸ªå…·ä½“å•ä½ã€‚</li></ul></blockquote><blockquote><ul><li>rem å’Œ em å•ä½æ˜¯ç”±æµè§ˆå™¨åŸºäºä½ çš„è®¾è®¡ä¸­çš„å­—ä½“å¤§å°è®¡ç®—å¾—åˆ°çš„åƒç´ å€¼ã€‚</li><li>em å•ä½åŸºäºä½¿ç”¨ä»–ä»¬çš„å…ƒç´ çš„å­—ä½“å¤§å°ã€‚</li><li>rem å•ä½åŸºäº html å…ƒç´ çš„å­—ä½“å¤§å°ã€‚</li><li>em å•ä½å¯èƒ½å—ä»»ä½•ç»§æ‰¿çš„çˆ¶å…ƒç´ å­—ä½“å¤§å°å½±å“</li><li>rem å•ä½å¯ä»¥ä»æµè§ˆå™¨å­—ä½“è®¾ç½®ä¸­ç»§æ‰¿å­—ä½“å¤§å°ã€‚</li><li>ä½¿ç”¨ em å•ä½åº”æ ¹æ®ç»„ä»¶çš„å­—ä½“å¤§å°è€Œä¸æ˜¯æ ¹å…ƒç´ çš„å­—ä½“å¤§å°ã€‚</li><li>åœ¨ä¸éœ€è¦ä½¿ç”¨emå•ä½ï¼Œå¹¶ä¸”éœ€è¦æ ¹æ®æµè§ˆå™¨çš„å­—ä½“å¤§å°è®¾ç½®ç¼©æ”¾çš„æƒ…å†µä¸‹ä½¿ç”¨remã€‚</li><li>ä½¿ç”¨remå•ä½ï¼Œé™¤éä½ ç¡®å®šä½ éœ€è¦ em å•ä½ï¼ŒåŒ…æ‹¬å¯¹å­—ä½“å¤§å°ã€‚</li><li>åª’ä½“æŸ¥è¯¢ä¸­ä½¿ç”¨ rem å•ä½</li><li>ä¸è¦åœ¨å¤šåˆ—å¸ƒå±€ä¸­ä½¿ç”¨ em æˆ– rem ,æ”¹ç”¨%ã€‚</li><li>ä¸è¦ä½¿ç”¨ em æˆ– remï¼Œå¦‚æœç¼©æ”¾ä¼šä¸å¯é¿å…åœ°å¯¼è‡´è¦æ‰“ç ´å¸ƒå±€å…ƒç´ ã€‚</li><li>æ›´å¤šåŒºåˆ«åŠé…åˆä½¿ç”¨è¯·çœ‹åŸæ–‡å®ä¾‹ã€‚</li></ul></blockquote><hr><blockquote><p><a href="http://www.w3cplus.com/css/rem-vs-em.html" target="_blank" rel="noopener">æœ¬æ–‡å‚è€ƒè‡ªè¿™é‡Œ</a></p></blockquote><h2 id="æ‰©å±•é˜…è¯»"><a href="#æ‰©å±•é˜…è¯»" class="headerlink" title="æ‰©å±•é˜…è¯»"></a>æ‰©å±•é˜…è¯»</h2><blockquote><p><a href="http://www.w3cplus.com/css/when-to-use-em-vs-rem.html" target="_blank" rel="noopener">ä½•æ—¶ä½¿ç”¨ Em ä¸ Rem</a></p></blockquote>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> css </tag><tag> rem </tag><tag> em </tag></tags></entry><entry><title>ã€è½¬ã€‘jQueryä¹‹.extend()æ–¹æ³•ä½¿ç”¨</title><link href="/jquery-extend-use.html"/><url>/jquery-extend-use.html</url><content type="html"><![CDATA[<p>jQuery çš„ API æ‰‹å†Œä¸­ï¼Œextend æ–¹æ³•æŒ‚è½½åœ¨ jQuery å’Œ jQuery.fn ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ä¸Šï¼Œä½†åœ¨ jQuery å†…éƒ¨ä»£ç å®ç°çš„æ˜¯ç›¸åŒçš„ï¼Œåªæ˜¯åŠŸèƒ½å„ä¸ç›¸åŒã€‚</p><a id="more"></a><p>å…ˆçœ‹çœ‹å®˜æ–¹ç»™å‡ºçš„è§£é‡Šï¼š</p><blockquote><ul><li>jQuery.extend Merge the contents of two or more objects together into the first object. æŠŠä¸¤ä¸ªæˆ–è€…å¤šä¸ªå¯¹è±¡åˆå¹¶åˆ°ç¬¬ä¸€ä¸ªå¯¹è±¡å½“ä¸­ï¼›</li><li>jQuery.fn.extend Merge the contents of an object onto the jQuery prototype to provide new jQuery instance methods. æŠŠå¯¹è±¡æŒ‚è½½åˆ° jQuery çš„ prototype ä¸Šä»¥æ‰©å±•ä¸€ä¸ªæ–°çš„ jQuery å®ä¾‹æ–¹æ³• ã€‚</li></ul></blockquote><p>è™½ç„¶å®˜æ–¹å¯¹ jQuery.extend çš„æ‰©å±•æ–¹æ³•åŠŸèƒ½åªå­—æœªæï¼Œä½†æ˜¯å®ƒä¹ŸåŒæ ·å…·æœ‰æ‰©å±• jQuery ç±»æ–¹æ³• çš„åŠŸèƒ½ã€‚</p><ol><li>åˆå¹¶å¯¹è±¡</li></ol><p>é¦–å…ˆï¼Œæˆ‘å…ˆæ¥ä»‹ç»ä¸€ä¸‹ extend å‡½æ•°åœ¨ åˆå¹¶å¯¹è±¡ æ–¹é¢çš„ç”¨æ³•ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jQuery.extend(target [, object1] [, objectN])</span><br></pre></td></tr></table></figure></p><p>åˆå¹¶ object1 â€¦ objectN åˆ° target å¯¹è±¡ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œåˆ™è¯¥ target å¯¹è±¡ä¼šè¢«åˆå¹¶åˆ° jQuery å¯¹è±¡ä¸­ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    name: <span class="string">'Tom'</span>,</span><br><span class="line">    age: <span class="number">21</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    name: <span class="string">'Jerry'</span>,</span><br><span class="line">    sex: <span class="string">'boy'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$.extend(obj1, obj2); <span class="comment">// &#123;name: "Jerry", age: 21, sex: "boy"&#125;</span></span><br><span class="line"></span><br><span class="line">obj1 <span class="comment">// &#123;name: "Jerry", age: 21, sex: "boy"&#125;</span></span><br><span class="line">obj2 <span class="comment">// &#123;name: "Jerry", sex: "boy"&#125;</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šè¿°ä»£ç å±•ç¤ºçš„æ˜¯å°† obj2 å¯¹è±¡åˆå¹¶åˆ° obj1 å¯¹è±¡ä¸­ï¼Œè¿™ç§æ–¹æ³•ä¼š æ”¹å˜ obj1 å¯¹è±¡çš„ç»“æ„ã€‚å¦‚æœä½  ä¸æƒ³æ”¹å˜ åˆå¹¶ç›®æ ‡å¯¹è±¡çš„ç»“æ„ï¼Œä½ å¯ä»¥è¿™ä¹ˆåšã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    name: <span class="string">'Tom'</span>,</span><br><span class="line">    age: <span class="number">21</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    name: <span class="string">'Jerry'</span>,</span><br><span class="line">    sex: <span class="string">'boy'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$.extend(&#123;&#125;, obj1, obj2); <span class="comment">// &#123; name: "Jerry", age: 21, sex: "boy" &#125;</span></span><br><span class="line"></span><br><span class="line">obj1 <span class="comment">// &#123; name: "Tom", age: 21 &#125;</span></span><br><span class="line">obj2 <span class="comment">// &#123; name: "Jerry", sex: "boy" &#125;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>æ·±æµ…æ‹·è´</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jQuery.extend([deep], target, object1 [, objectN])</span><br></pre></td></tr></table></figure><p>å’Œä¸Šé¢çš„è®²è¿°çš„ä¸åŒçš„æ˜¯ï¼Œè¯¥æ–¹æ³•å¤šäº†ä¸€ä¸ªç±»å‹ä¸º boolean çš„ [deep] ä¼ å‚ï¼Œå½“å…¶ä¸º true æ—¶ï¼Œå°† object1 , objectN æ·±åº¦å¤åˆ¶ ååˆå¹¶åˆ° target ä¸­ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ç†è§£ä¸€ä¸‹ä»€ä¹ˆå«åš æ·±åº¦å¤åˆ¶ ã€‚çœ‹çœ‹å…¶å’Œ æµ…åº¦å¤åˆ¶ æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    name: <span class="string">"John"</span>,</span><br><span class="line">    location: &#123;</span><br><span class="line">        city: <span class="string">"Boston"</span>,</span><br><span class="line">        county: <span class="string">"USA"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    last: <span class="string">"Resig"</span>,</span><br><span class="line">    location: &#123;</span><br><span class="line">        state: <span class="string">"MA"</span>,</span><br><span class="line">        county: <span class="string">"China"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$.extend(<span class="literal">false</span>, &#123;&#125;, obj1, obj2); <span class="comment">// &#123; name: "John", last: "Resig", location: &#123; state: "MA", county: "China" &#125;&#125;</span></span><br><span class="line"></span><br><span class="line">$.extend(<span class="literal">true</span>, &#123;&#125;, obj1, obj2); <span class="comment">// &#123; name: "John", last: "Resig", location: &#123; city: "Boston", state: "MA", county: "China" &#125;&#125;</span></span><br></pre></td></tr></table></figure></p><p>ç”±æ­¤å¯è§ï¼Œæ‰§è¡Œ æ·±åº¦å¤åˆ¶ ä¼šé€’å½’éå†æ¯ä¸ªå¯¹è±¡ä¸­å«æœ‰å¤æ‚å¯¹è±¡ï¼ˆå¦‚ï¼šæ•°ç»„ã€å‡½æ•°ã€jsonå¯¹è±¡ç­‰ï¼‰çš„å±æ€§å€¼è¿›è¡Œå¤åˆ¶ï¼Œè€Œä¸” æµ…åº¦å¤åˆ¶ ä¾¿ä¸ä¼šè¿™ä¹ˆåšã€‚</p><ol start="3"><li>æ–¹æ³•æ‰©å±•</li></ol><p>ä¸Šè¿°çš„ extend æ–¹æ³•ä¸­çš„ target å‚æ•°æ˜¯å¯ä»¥çœç•¥çš„ã€‚å¦‚æœçœç•¥äº†ï¼Œåˆ™è¯¥æ–¹æ³•å°±åªèƒ½ä¼ å…¥ä¸€ä¸ª object å‚æ•°ï¼Œè¯¥æ–¹æ³•åŠŸèƒ½æ˜¯å°†è¯¥ object åˆå¹¶åˆ°è°ƒç”¨ extend æ–¹æ³•çš„å¯¹è±¡ä¸­ã€‚</p><p>æˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨è¿™ç§æ–¹å¼æ¥å¯¹ jQuerè¿›è¡Œä¸€äº›æ–¹æ³•ä¸Šçš„æ‰©å±•ã€‚</p><p>jQurey æä¾›äº†ä¸¤ç§æ–¹æ³•æ‰©å¼ æ–¹å¼ï¼Œåˆ†åˆ«ä¸ºjQuery.fn.extend(object)å’ŒjQuery.extend(object).</p><p>æƒ³è¦ææ¸…æ¥šä¸¤ç§æ‰©å±•æ–¹å¼ä¹‹é—´çš„åŒºåˆ«çš„è¯ï¼Œå…ˆè¦äº†è§£ä»€ä¹ˆæ˜¯jQuery.fn.</p><p>æœ¬çŒ¿å‚è€ƒäº† jQuery çš„æºç ï¼Œå‘ç°å…¶ä¸­ç„æœºï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">jQuery.fn = jQuery.prototype = &#123;ã€€ã€€ã€€</span><br><span class="line">    init: <span class="function"><span class="keyword">function</span>(<span class="params">selector, context</span>) </span>&#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>jQuery.fn = jQuery.prototypeè¿™å¥ä»£ç æ˜ç¡®æŒ‡å‡ºjQuery.fnæŒ‡ä»£çš„å°±æ˜¯ jQuery çš„åŸå‹ã€‚</p><p>å…¶æ¬¡ï¼Œæˆ‘ä»¬è¦å¼•å…¥ä¸¤ä¸ªæ¦‚å¿µ ç±»æ–¹æ³• å’Œ å®ä¾‹æ–¹æ³• ã€‚</p><ul><li>ç±»æ–¹æ³• æ˜¯ç›´æ¥å¯ä»¥ä½¿ç”¨ç±»å¼•ç”¨ï¼Œä¸éœ€è¦å®ä¾‹åŒ–å°±å¯ä»¥ä½¿ç”¨çš„æ–¹æ³•ã€‚ä¸€èˆ¬åœ¨é¡¹ç›®ä¸­ ç±»æ–¹æ³• éƒ½æ˜¯è¢«è®¾ç½®ä¸ºå·¥å…·ç±»ä½¿ç”¨ï¼›</li><li>å®ä¾‹æ–¹æ³• å¿…é¡»å…ˆåˆ›å»ºå®ä¾‹ï¼Œç„¶åæ‰èƒ½é€šè¿‡å®ä¾‹è°ƒç”¨è¯¥ å®ä¾‹æ–¹æ³• ã€‚<br> jQueryå¯ä»¥çœ‹åšæ˜¯è¿™ä¸ªå°è£…å¾—éå¸¸å¥½çš„ç±»ï¼Œè€Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨jQueryé€‰æ‹©å™¨æ¥åˆ›å»º jQuery çš„å®ä¾‹ã€‚æ¯”å¦‚ï¼šä½¿ id é€‰æ‹©å™¨$(â€˜#btnâ€™)æ¥åˆ›å»ºä¸€ä¸ªå®ä¾‹ã€‚</li></ul><ol start="4"><li>åŒºåˆ«</li></ol><p>jQuery.extend(object)ç›¸å½“äºå¯¹ ç±»æ–¹æ³• çš„æ‰©å±•ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">jQuery.extend(&#123;</span><br><span class="line"><span class="comment">/* è¿”å›ä¸¤ä¸ªå…ƒç´ ä¸­è¾ƒå°çš„å€¼ */</span></span><br><span class="line">    min: <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> a &lt; b ? a : b;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="comment">/* è¿”å›ä¸¤ä¸ªå…ƒç´ ä¸­è¾ƒå¤§çš„å€¼ */</span></span><br><span class="line">    max: <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">jQuery.min(<span class="number">2</span>, <span class="number">3</span>); <span class="comment">// 2</span></span><br><span class="line">jQuery.max(<span class="number">4</span>, <span class="number">5</span>); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure></p><p>jQuery.fn.extend(object)æ˜¯å¯¹jQuery.prototypeä¸Šçš„æ‰©å±•ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jQuery.fn.extend = jQuery.prototype.extend</span><br></pre></td></tr></table></figure></p><p>è¿™ç§æ–¹å¼ç›¸å½“å¯¹ å®ä¾‹æ–¹æ³• çš„æ‰©å±•ã€‚</p><h4 id="ä¸¾ä¸ªæ —å­ï¼š"><a href="#ä¸¾ä¸ªæ —å­ï¼š" class="headerlink" title="ä¸¾ä¸ªæ —å­ï¼š"></a>ä¸¾ä¸ªæ —å­ï¼š</h4><p>å¼€å‘ä¸€ä¸ªç®€å•çš„å°åŠŸèƒ½ï¼Œä½¿ç”¨è¯¥æ–¹æ³•å¯ä»¥ä½¿é€‰å®šå…ƒç´ å†…çš„æ–‡å­—å˜çº¢ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$.fn.extend(&#123;</span><br><span class="line">    setRed: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="keyword">this</span>).css(<span class="string">"color"</span>, <span class="string">"red"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$(<span class="string">'.tip'</span>).setRed();</span><br></pre></td></tr></table></figure></p><p><code>$(&quot;.tip&quot;)</code>åˆ›å»ºäº†ä¸€ä¸ªjQueryå®ä¾‹ï¼Œé€šè¿‡å®ƒå¯ä»¥è°ƒç”¨æˆå‘˜æ–¹æ³•setRed.</p><p>ä¸Šè¿°ä»£ç å¯ä»¥å®ç°é¢„æƒ³çš„æ‰©å±•ï¼Œä½†æœ€å¥½è¿”å›this ä»¥æ»¡è¶³ jQuery é“¾å¼æ“ä½œ çš„éœ€è¦ã€‚</p><p>æ”¹è‰¯ä¹‹åï¼Œä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$.fn.extend(&#123;</span><br><span class="line">    red: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> $(<span class="keyword">this</span>).css(<span class="string">"color"</span>, <span class="string">"red"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>æœ¬æ–‡æ‘˜è‡ªï¼š<a href="https://segmentfault.com/a/1190000004082170" target="_blank" rel="noopener">https://segmentfault.com/a/1190000004082170</a></p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> jquery </tag></tags></entry><entry><title>javascriptæ­£åˆ™è¡¨è¾¾å¼</title><link href="/javascript-regexp-note.html"/><url>/javascript-regexp-note.html</url><content type="html"><![CDATA[<p><a href="http://www.cnblogs.com/rubylouvre/archive/2010/03/09/1681222.html" target="_blank" rel="noopener">è½¬è½½åœ°å€</a></p><p>ç½‘ä¸Šæ­£åˆ™è¡¨è¾¾å¼çš„æ•™ç¨‹å¤Ÿå¤šäº†ï¼Œä½†ç”±äºjavascriptçš„å†å²æ¯”è¾ƒæ‚ ä¹…ï¼Œä¹Ÿæ¯”è¾ƒå¤è€ï¼Œå› æ­¤æœ‰è®¸å¤šç‰¹æ€§æ˜¯ä¸æ”¯æŒçš„ã€‚æˆ‘ä»¬å…ˆä»æœ€ç®€å•åœ°è¯´èµ·ï¼Œæ–‡ç« æ‰€æ¼”ç¤ºçš„æ­£åˆ™åŸºæœ¬éƒ½æ˜¯perlæ–¹å¼ã€‚</p><a id="more"></a><h2 id="å…ƒå­—ç¬¦"><a href="#å…ƒå­—ç¬¦" class="headerlink" title="å…ƒå­—ç¬¦"></a>å…ƒå­—ç¬¦</h2><p>( [ { \ ^ $ | ) ? * + .</p><h2 id="é¢„å®šä¹‰çš„ç‰¹æ®Šå­—ç¬¦"><a href="#é¢„å®šä¹‰çš„ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="é¢„å®šä¹‰çš„ç‰¹æ®Šå­—ç¬¦"></a>é¢„å®šä¹‰çš„ç‰¹æ®Šå­—ç¬¦</h2><table><thead><tr><th>å­—ç¬¦</th><th>æ­£åˆ™</th><th>æè¿°</th></tr></thead><tbody><tr><td>\t</td><td>/\t/</td><td>åˆ¶è¡¨ç¬¦</td></tr><tr><td>\n</td><td>/\n/</td><td>åˆ¶è¡¨ç¬¦</td></tr><tr><td>\r</td><td>/\r/</td><td>å›è½¦ç¬¦</td></tr><tr><td>\f</td><td>/\f/</td><td>æ¢é¡µç¬¦</td></tr><tr><td>\a</td><td>/\a/</td><td>alertå­—ç¬¦</td></tr><tr><td>\e</td><td>/\e/</td><td>escapeå­—ç¬¦</td></tr><tr><td>\cX</td><td>/\cX/</td><td>ä¸Xç›¸å¯¹åº”çš„æ§åˆ¶å­—ç¬¦</td></tr><tr><td>\b</td><td>/\b/</td><td>ä¸å›é€€å­—ç¬¦</td></tr><tr><td>\v</td><td>/\v/</td><td>å‚ç›´åˆ¶è¡¨ç¬¦</td></tr><tr><td>\0</td><td>/\0/</td><td>ç©ºå­—ç¬¦</td></tr></tbody></table><h2 id="å­—ç¬¦ç±»"><a href="#å­—ç¬¦ç±»" class="headerlink" title="å­—ç¬¦ç±»"></a>å­—ç¬¦ç±»</h2><p>ç®€å•ç±»</p><p>åŸåˆ™ä¸Šæ­£åˆ™çš„ä¸€ä¸ªå­—ç¬¦å¯¹åº”ä¸€ä¸ªå­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨[]æŠŠå®ƒä»¬æ‹¬èµ·æ¥ï¼Œè®©[]è¿™ä¸ªæ•´ä½“å¯¹åº”ä¸€ä¸ªå­—ç¬¦ã€‚å¦‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="regexp">/ruby/</span>.test(<span class="string">"ruby"</span>));<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[abc]/</span>.test(<span class="string">"a"</span>));<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[abc]/</span>.test(<span class="string">"b"</span>));<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[abc]/</span>.test(<span class="string">"c"</span>));<span class="comment">//true</span></span><br><span class="line">alert(<span class="string">"a bat ,a Cat,a fAt bat ,a faT cat"</span>.match(<span class="regexp">/[bcf]at/gi</span>));<span class="comment">//bat,Cat,fAt,bat,faT,cat</span></span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨æ–¹æ‹¬å· [ ] åŒ…å«ä¸€ç³»åˆ—å­—ç¬¦ï¼Œèƒ½å¤ŸåŒ¹é…å…¶ä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ç”¨ [^ ] åŒ…å«ä¸€ç³»åˆ—å­—ç¬¦ï¼Œåˆ™èƒ½å¤ŸåŒ¹é…å…¶ä¸­å­—ç¬¦ä¹‹å¤–çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚</p><p>è´Ÿå‘ç±»</p><p>ä¹Ÿæ˜¯åœ¨é‚£ä¸ªæ‹¬å·é‡Œåšæ–‡ç« ï¼Œå‰é¢åŠ ä¸ªå…ƒå­—ç¬¦è¿›è¡Œå–åï¼Œè¡¨ç¤ºåŒ¹é…ä¸èƒ½ä¸ºæ‹¬å·é‡Œé¢çš„å­—ç¬¦ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="regexp">/[^abc]/</span>.test(<span class="string">"a"</span>));<span class="comment">//false</span></span><br><span class="line">alert(<span class="regexp">/[^abc]/</span>.test(<span class="string">"b"</span>));<span class="comment">//false</span></span><br><span class="line">alert(<span class="regexp">/[^abc]/</span>.test(<span class="string">"6"</span>));<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[^abc]/</span>.test(<span class="string">"gg"</span>));<span class="comment">//true</span></span><br></pre></td></tr></table></figure></p><p>èŒƒå›´ç±»</p><p>è¿˜æ˜¯åœ¨é‚£ä¸ªä¸­æ‹¬å·é‡Œé¢åšæ–‡ç« ã€‚æœ‰æ—¶åŒ¹é…çš„ä¸œè¥¿è¿‡å¤šï¼Œè€Œä¸”ç±»å‹åˆç›¸åŒï¼Œå…¨éƒ¨è¾“å…¥å¤ªéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒã€‚ç‰¹å¾å°±æ˜¯åœ¨ä¸­é—´åŠ äº†ä¸ªæ¨ªçº¿ã€‚</p><p>ç»„åˆç±»</p><p>è¿˜æ˜¯åœ¨é‚£ä¸ªä¸­æ‹¬å·é‡Œé¢åšæ–‡ç« ã€‚å…è®¸ç”¨ä¸­æ‹¬å·åŒ¹é…ä¸åŒç±»å‹çš„å•ä¸ªå­—ç¬¦ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="regexp">/[a-f]/</span>.test(<span class="string">"b"</span>));<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[a-f]/</span>.test(<span class="string">"k"</span>));<span class="comment">//false</span></span><br><span class="line">alert(<span class="regexp">/[a-z]/</span>.test(<span class="string">"h"</span>));<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[A-Z]/</span>.test(<span class="string">"gg"</span>));<span class="comment">//false</span></span><br><span class="line">alert(<span class="regexp">/[^H-Y]/</span>.test(<span class="string">"G"</span>));<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[0-9]/</span>.test(<span class="string">"8"</span>));<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[^7-9]/</span>.test(<span class="string">"6"</span>));<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[a-m1-5\n]/</span>.test(<span class="string">"a"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[a-m1-5\n]/</span>.test(<span class="string">"3"</span>))<span class="comment">//true</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">"\n\</span></span><br><span class="line"><span class="string">        "</span></span><br><span class="line">alert(<span class="regexp">/[a-m1-5\n]/</span>.test(a))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[a-m1-5\n]/</span>.test(<span class="string">"r"</span>))<span class="comment">//false</span></span><br></pre></td></tr></table></figure></p><p>é¢„å®šä¹‰ç±»</p><p>è¿˜æ˜¯åœ¨é‚£ä¸ªä¸­æ‹¬å·é‡Œé¢åšæ–‡ç« ï¼Œä¸è¿‡å®ƒå¥½åƒå·²ç»èµ°åˆ°å°½å¤´äº†ã€‚ç”±äºæ˜¯ä¸­æ‹¬å·çš„é©¬ç”²ï¼Œå› æ­¤å®ƒä»¬è¿˜æ˜¯å¯¹åº”ä¸€ä¸ªå­—ç¬¦ã€‚<br>| å­—ç¬¦  | ç­‰åŒäº              | æè¿°             |<br>|â€”â€“|â€”â€”â€”â€”â€”â€”|â€”â€”â€”â€”â€”-|<br>| .   | [^\n\r]          | é™¤äº†æ¢è¡Œå’Œå›è½¦ä¹‹å¤–çš„ä»»æ„å­—ç¬¦ |<br>| \d  | [0-9]            | æ•°å­—å­—ç¬¦           |<br>| \D  | [^0-9]           | éæ•°å­—å­—ç¬¦          |<br>| \s  | [ \t\n\x0B\f\r]  | ç©ºç™½å­—ç¬¦           |<br>| \S  | [^ \t\n\x0B\f\r] | éç©ºç™½å­—ç¬¦          |<br>| \w  | [a-zA-Z_0-9]     | å•è¯å­—ç¬¦(æ‰€æœ‰çš„å­—æ¯)    |<br>| \W  | [^a-zA-Z_0-9]    | éå•è¯å­—ç¬¦          |</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="regexp">/\d/</span>.test(<span class="string">"3"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/\d/</span>.test(<span class="string">"w"</span>))<span class="comment">//false</span></span><br><span class="line">alert(<span class="regexp">/\D/</span>.test(<span class="string">"w"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/\w/</span>.test(<span class="string">"w"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/\w/</span>.test(<span class="string">"å¸"</span>))<span class="comment">//false</span></span><br><span class="line">alert(<span class="regexp">/\W/</span>.test(<span class="string">"å¾’"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/\s/</span>.test(<span class="string">" "</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/\S/</span>.test(<span class="string">" "</span>))<span class="comment">//false</span></span><br><span class="line">alert(<span class="regexp">/\S/</span>.test(<span class="string">"æ­£"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/./</span>.test(<span class="string">"ç¾"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/./</span>.test(<span class="string">"  "</span>))<span class="comment">//true</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">"\n\</span></span><br><span class="line"><span class="string">      "</span></span><br><span class="line">alert(<span class="regexp">/./</span>.test(a))<span class="comment">//true</span></span><br></pre></td></tr></table></figure><h2 id="é‡è¯"><a href="#é‡è¯" class="headerlink" title="é‡è¯"></a>é‡è¯</h2><p>ç”±äºå…ƒå­—ç¬¦ä¸ç‰¹æ®Šå­—ç¬¦æˆ–å­—ç¬¦ç±»æˆ–è€…å®ƒä»¬çš„ç»„åˆï¼ˆä¸­æ‹¬å·ï¼‰ç”šè‡³å®ƒä»¬çš„é©¬ç”²ï¼ˆé¢„å®šä¹‰ç±»ï¼‰éƒ½æ˜¯ä¸€å¯¹ä¸€è¿›è¡ŒåŒ¹é…ã€‚æˆ‘ä»¬è¦åŒ¹é…â€œå¸å¾’æ­£ç¾è¿™ä¸ªè¯â€ï¼Œæœ€ç®€å•éƒ½è¦/â€¦./ï¼Œå¦‚æœé•¿åˆ°50å¤šä¸ªå­—ç¬¦å²‚ä¸æ˜¯è¦æ­»äººã€‚å› æ­¤æˆ‘ä»¬é€¼åˆ‡éœ€è¦ä¸€ä¸ªç®€å•çš„æ“ä½œï¼Œæ¥å¤„ç†è¿™æ•°é‡å…³ç³»ã€‚</p><p>ç®€å•é‡è¯<br>| ä»£ç     | ç±»å‹   | æè¿°            |         |<br>|â€”â€”-|â€”â€”|â€”â€”â€”â€”â€”|â€”â€”â€”|<br>| ?     | è½¯æ€§é‡è¯ |               | å‡ºç°é›¶æ¬¡æˆ–ä¸€æ¬¡ |<br>| *     | è½¯æ€§é‡è¯ | å‡ºç°é›¶æ¬¡æˆ–å¤šæ¬¡(ä»»æ„æ¬¡)  |         |<br>| +     | è½¯æ€§é‡è¯ | å‡ºç°ä¸€æ¬¡æˆ–å¤šæ¬¡ï¼ˆè‡³é“ä¸€æ¬¡ï¼‰ |         |<br>| {n}   | ç¡¬æ€§é‡è¯ | å¯¹åº”é›¶æ¬¡æˆ–è€…næ¬¡      |         |<br>| {n,m} | è½¯æ€§é‡è¯ | è‡³å°‘å‡ºç°næ¬¡ä½†ä¸è¶…è¿‡mæ¬¡  |         |<br>| {n,}  | è½¯æ€§é‡è¯ | è‡³å°‘å‡ºç°næ¬¡(+çš„å‡çº§ç‰ˆ) |         |</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="regexp">/..../</span>.test(<span class="string">"å¸å¾’æ­£ç¾"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/å¸å¾’æ­£ç¾/</span>.test(<span class="string">"å¸å¾’æ­£ç¾"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[\u4e00-\u9fa5]&#123;4&#125;/</span>.test(<span class="string">"å¸å¾’æ­£ç¾"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[\u4e00-\u9fa5]&#123;4&#125;/</span>.test(<span class="string">"å¸å¾’æ­£ç¾55"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/^[\u4e00-\u9fa5]+$/</span>.test(<span class="string">"æ­£åˆ™è¡¨è¾¾å¼"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/^[\u4e00-\u9fa5]+$/</span>.test(<span class="string">"æ­£åˆ™è¡¨è¾¾å¼&amp;*@@"</span>))<span class="comment">//false</span></span><br><span class="line">alert(<span class="regexp">/\d&#123;6&#125;/</span>.test(<span class="string">"123456"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[ruby]&#123;2&#125;/</span>.test(<span class="string">"rr"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[ruby]&#123;2&#125;/</span>.test(<span class="string">"ru"</span>))<span class="comment">//true</span></span><br><span class="line">alert(<span class="regexp">/[ruby]&#123;2&#125;/</span>.test(<span class="string">"ry"</span>))<span class="comment">//true</span></span><br></pre></td></tr></table></figure><p>/[\u4e00-\u9fa5]/ç”¨äºåŒ¹é…å•ä¸ªæ±‰å­—ã€‚</p><p><strong>è´ªå©ªé‡è¯</strong>ï¼Œæƒ°æ€§é‡è¯ä¸æ”¯é…æ€§é‡è¯</p><p>è´ªå©ªé‡è¯ï¼Œä¸Šé¢æåˆ°çš„æ‰€æœ‰ç®€å•é‡è¯ã€‚å°±åƒæˆè¯­ä¸­è¯´çš„å·´è›‡åè±¡é‚£æ ·ï¼Œä¸€å£åä¸‹æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œå‘ç°åä¸ä¸‹ï¼ˆåŒ¹é…ä¸äº†ï¼‰ï¼Œå†ä»åé¢ä¸€ç‚¹ç‚¹åå‡ºæ¥ï¼ˆå»æ‰æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œå†çœ‹è¿™æ—¶è¿™ä¸ªæ•´ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ï¼Œä¸æ–­è¿™æ ·é‡å¤ç›´åˆ°é•¿åº¦ä¸ºé›¶ï¼‰</p><p>éš‹æ€§é‡è¯ï¼Œåœ¨ç®€å•é‡è¯ååŠ é—®å·ã€‚ç”±äºå¤ªæ‡’äº†ï¼Œå…ˆåƒäº†å‰é¢ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æœä¸é¥±å†æèµ·å¤šæ·»åŠ ä¸€ä¸ªï¼ˆå‘ç°ä¸åŒ¹é…ï¼Œå°±è¯»ä¸‹ç¬¬äºŒä¸ªï¼Œä¸æœ€åˆçš„ç»„æˆä¸€ä¸ªæœ‰ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦ä¸²å†å°è¯•åŒ¹é…ï¼Œå¦‚æœå†ä¸åŒ¹é…ï¼Œå†åƒä¸€ä¸ªç»„æˆæ‹¥æœ‰ä¸‰ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²â€¦â€¦ï¼‰ã€‚å…¶å·¥ä½œæ–¹å¼ä¸è´ªå©ªé‡è¯ç›¸åã€‚</p><p>æ”¯é…æ€§é‡è¯ï¼Œåœ¨ç®€å•é‡è¯ååŠ åŠ å·ã€‚ä¸Šé¢ä¸¤ç§éƒ½æœ‰ä¸ªä¸æ–­å°è¯•çš„è¿‡ç¨‹ï¼Œè€Œæ”¯é…æ€§é‡è¯å´åªå°è¯•ä¸€æ¬¡ï¼Œä¸åˆå£å‘³å°±ç®—äº†ã€‚å°±åƒä¸€ä¸ªå‡ºèº«é«˜è´µå±…æ”¯é…åœ°ä½çš„å…¬ä¸»ã€‚ä½†ä½ ä¹Ÿå¯ä»¥è¯´å®ƒæ˜¯æœ€æ‡’é‡è¯ã€‚ç”±äºjavascriptä¸æ”¯æŒï¼Œæ‰€ä»¥å®ƒè¿å‡ºåœºçš„æœºä¼šä¹Ÿæ²¡æœ‰äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> re1 = <span class="regexp">/.*bbb/g</span>;<span class="comment">//è´ªå©ª</span></span><br><span class="line"><span class="keyword">var</span> re2 = <span class="regexp">/.*?bbb/g</span>;<span class="comment">//æƒ°æ€§</span></span><br><span class="line"><span class="comment">//  var re3 = /.*+bbb/g;//æ”¯é…æ€§,javascriptä¸æ”¯æŒï¼ŒIEä¸æ‰€æœ‰æœ€æ–°çš„æ ‡å‡†æµè§ˆå™¨éƒ½æŠ¥é”™</span></span><br><span class="line">alert(re1.test(<span class="string">"abbbaabbbaaabbbb1234"</span>)+<span class="string">""</span>);<span class="comment">//true</span></span><br><span class="line">alert(re1.exec(<span class="string">"abbbaabbbaaabbbb1234"</span>)+<span class="string">""</span>);<span class="comment">//null</span></span><br><span class="line">alert(<span class="string">"abbbaabbbaaabbbb1234"</span>.match(re1)+<span class="string">""</span>);<span class="comment">//abbbaabbbaaabbbb</span></span><br><span class="line"></span><br><span class="line">alert(re2.test(<span class="string">"abbbaabbbaaabbbb1234"</span>)+<span class="string">""</span>);<span class="comment">//true</span></span><br><span class="line">alert(re2.exec(<span class="string">"abbbaabbbaaabbbb1234"</span>)+<span class="string">""</span>);<span class="comment">//aabbb</span></span><br><span class="line">alert(<span class="string">"abbbaabbbaaabbbb1234"</span>.match(re2)+<span class="string">""</span>);<span class="comment">//abbb,aabbb,aaabbb</span></span><br></pre></td></tr></table></figure><h2 id="åˆ†ç»„"><a href="#åˆ†ç»„" class="headerlink" title="åˆ†ç»„"></a>åˆ†ç»„</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªèƒ½ä¸€ä¸ªå­—ç¬¦deåŒ¹é…ï¼Œè™½ç„¶é‡è¯çš„å‡ºç°ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬å¤„ç†ä¸€æ’å¯†ç´§å¯†ç›¸è¿çš„åŒç±»å‹å­—ç¬¦ã€‚ä½†è¿™æ˜¯ä¸å¤Ÿçš„ï¼Œä¸‹é¢è¯¥è½®åˆ°å°æ‹¬å·å‡ºåœºäº†ï¼Œä¸­æ‹¬å·è¡¨ç¤ºèŒƒå›´å†…é€‰æ‹©ï¼Œå¤§æ‹¬å·è¡¨ç¤ºé‡å¤æ¬¡æ•°ã€‚å°æ‹¬å·å…è®¸æˆ‘ä»¬é‡å¤å¤šä¸ªå­—ç¬¦ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ†ç»„+é‡è¯</span></span><br><span class="line">alert(<span class="regexp">/(dog)&#123;2&#125;/</span>.test(<span class="string">"dogdog"</span>))<span class="comment">//true</span></span><br><span class="line"><span class="comment">//åˆ†ç»„+èŒƒå›´</span></span><br><span class="line">alert(<span class="string">"baddad"</span>.match(<span class="regexp">/([bd]ad?)*/</span>))<span class="comment">//baddad,dad</span></span><br><span class="line"><span class="comment">//åˆ†ç»„+åˆ†ç»„</span></span><br><span class="line">alert(<span class="string">"mon and dad"</span>.match(<span class="regexp">/(mon( and dad)?)/</span>))<span class="comment">//mon and dad,mon and dad, and dad</span></span><br></pre></td></tr></table></figure></p><h2 id="åå‘å¼•ç”¨"><a href="#åå‘å¼•ç”¨" class="headerlink" title="åå‘å¼•ç”¨"></a>åå‘å¼•ç”¨</h2><p>åå‘å¼•ç”¨æ ‡è¯†ç”±æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„åŒ¹é…ç»„æ•è·çš„å­å­—ç¬¦ä¸²ã€‚æ¯ä¸ªåå‘å¼•ç”¨éƒ½ç”±ä¸€ä¸ªç¼–å·æˆ–åç§°æ¥æ ‡è¯†ï¼Œå¹¶é€šè¿‡â€œ\ç¼–å·â€è¡¨ç¤ºæ³•è¿›è¡Œå¼•ç”¨ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> color = <span class="string">"#990000"</span>;</span><br><span class="line">/#(\d+)/.test(color);</span><br><span class="line">alert(<span class="built_in">RegExp</span>.$<span class="number">1</span>);<span class="comment">//990000</span></span><br><span class="line"></span><br><span class="line">alert(<span class="regexp">/(dog)\1/</span>.test(<span class="string">"dogdog"</span>))<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num = <span class="string">"1234 5678"</span>;</span><br><span class="line"><span class="keyword">var</span> newNum = num.replace(<span class="regexp">/(\d&#123;4&#125;) (\d&#123;4&#125;)/</span>,<span class="string">"$2 $1"</span>);</span><br><span class="line">alert(newNum)</span><br></pre></td></tr></table></figure></p><h2 id="å€™é€‰"><a href="#å€™é€‰" class="headerlink" title="å€™é€‰"></a>å€™é€‰</h2><p>ç»§ç»­åœ¨åˆ†ç»„ä¸Šåšæ–‡ç« ã€‚åœ¨åˆ†ç»„ä¸­æ’å…¥ç®¡é“ç¬¦ï¼ˆâ€œ|â€ï¼‰ï¼ŒæŠŠå®ƒåˆ’åˆ†ä¸ºä¸¤ä¸ªæˆ–å¤šä¸ªå€™å¤šé¡¹ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(red|black|yellow)!!/</span>;</span><br><span class="line">alert(reg.test(<span class="string">"red!!"</span>))<span class="comment">//true</span></span><br><span class="line">alert(reg.test(<span class="string">"black!!"</span>))<span class="comment">//true</span></span><br><span class="line">alert(reg.test(<span class="string">"yellow!!"</span>))<span class="comment">//true</span></span><br></pre></td></tr></table></figure></p><h2 id="éæ•è·æ€§åˆ†ç»„"><a href="#éæ•è·æ€§åˆ†ç»„" class="headerlink" title="éæ•è·æ€§åˆ†ç»„"></a>éæ•è·æ€§åˆ†ç»„</h2><p>å¹¶ä¸æ˜¯æ‰€æœ‰åˆ†ç»„éƒ½èƒ½åˆ›å»ºåå‘å¼•ç”¨ï¼Œæœ‰ä¸€ç§ç‰¹åˆ«çš„åˆ†ç»„ç§°ä¹‹ä¸ºéæ•è·æ€§åˆ†ç»„ï¼Œå®ƒæ˜¯ä¸ä¼šåˆ›å»ºåå‘å¼•ç”¨ã€‚åä¹‹ï¼Œå°±æ˜¯æ•è·æ€§åˆ†ç»„ã€‚è¦åˆ›å»ºä¸€ä¸ªéæ•è·æ€§åˆ†ç»„ï¼Œåªè¦åœ¨åˆ†ç»„çš„å·¦æ‹¬å·çš„åé¢ç´§è·Ÿä¸€ä¸ªé—®å·ä¸å†’å·å°±è¡Œäº†ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> color = <span class="string">"#990000"</span>;</span><br><span class="line">/#(?:\d+)/.test(color);</span><br><span class="line">alert(<span class="built_in">RegExp</span>.$<span class="number">1</span>);<span class="comment">//""</span></span><br></pre></td></tr></table></figure></p><p>é¢˜ç›®ï¼Œç§»é™¤æ‰€æœ‰æ ‡ç­¾ï¼Œåªç•™ä¸‹innerText!<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> html = <span class="string">"&lt;p&gt;&lt;a href='http://www.cnblogs.com/rubylouvre/'&gt;Ruby Louvre&lt;/a&gt;by &lt;em&gt;å¸å¾’æ­£ç¾&lt;/em&gt;&lt;/p&gt;"</span>;</span><br><span class="line"><span class="keyword">var</span> text = html.replace(<span class="regexp">/&lt;(?:.|\s)*?&gt;/g</span>, <span class="string">""</span>);</span><br><span class="line">alert(text)</span><br></pre></td></tr></table></figure></p><p>æ³¨æ„ï¼šjavascriptä¸å­˜åœ¨å‘½ååˆ†ç»„<br><strong>å‰ç»</strong></p><p>ç»§ç»­åœ¨åˆ†ç»„å†…åšæ–‡ç« ã€‚å‰ç»ä¸åç»å…¶å®éƒ½å±äºé›¶å®½æ–­è¨€ï¼Œä½†javascriptä¸æ”¯æŒåç»ã€‚</p><p><em>é›¶å®½æ–­è¨€</em><br>| æ­£åˆ™       | åç§°   | æè¿°              |<br>|â€”â€”â€”-|â€”â€”|â€”â€”â€”â€”â€”â€“|<br>| (?=exp)  | æ­£å‘å‰ç» | åŒ¹é…expå‰é¢çš„ä½ç½®      |<br>| (?!exp)  | è´Ÿå‘å‰ç» | åŒ¹é…åé¢ä¸æ˜¯expçš„ä½ç½®    |<br>| (?&lt;=exp) | æ­£å‘åç» | åŒ¹é…expåé¢çš„ä½ç½®ä¸æ”¯æŒ   |<br>| (?&lt;!exp) | è´Ÿå‘åç» | åŒ¹é…å‰é¢ä¸æ˜¯expçš„ä½ç½®ä¸æ”¯æŒ |</p><p>æ­£å‘å‰ç»ç”¨æ¥æ£€æŸ¥æ¥ä¸‹æ¥çš„å‡ºç°çš„æ˜¯ä¸æ˜¯æŸä¸ªç‰¹å®šçš„å­—ç¬¦é›†ã€‚è€Œè´Ÿå‘å‰ç»åˆ™æ˜¯æ£€æŸ¥æ¥ä¸‹æ¥çš„ä¸åº”è¯¥å‡ºç°çš„ç‰¹å®šå­—ç¬¦ä¸²é›†ã€‚é›¶å®½æ–­è¨€æ˜¯ä¸ä¼šè¢«æ•è·çš„ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="string">"bedroom"</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">"bedding"</span>;</span><br><span class="line"><span class="keyword">var</span> reBed = <span class="regexp">/(bed(?=room))/</span><span class="comment">//åœ¨æˆ‘ä»¬æ•è·bedè¿™ä¸ªå­—ç¬¦ä¸²æ—¶ï¼ŒæŠ¢å…ˆå»çœ‹æ¥ä¸‹æ¥çš„å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯room</span></span><br><span class="line">alert(reBed.test(str1));<span class="comment">//true</span></span><br><span class="line">alert(<span class="built_in">RegExp</span>.$<span class="number">1</span>)<span class="comment">//bed</span></span><br><span class="line">alert(<span class="built_in">RegExp</span>.$<span class="number">2</span> === <span class="string">""</span>)<span class="comment">//true</span></span><br><span class="line">alert(reBed.test(str2))<span class="comment">//false</span></span><br><span class="line"><span class="keyword">var</span> str1 = <span class="string">"bedroom"</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">"bedding"</span>;</span><br><span class="line"><span class="keyword">var</span> reBed = <span class="regexp">/(bed(?!room))/</span><span class="comment">//è¦æ¥å®ƒåé¢ä¸èƒ½æ˜¯room</span></span><br><span class="line">alert(reBed.test(str1))<span class="comment">//false</span></span><br><span class="line">alert(reBed.test(str2))<span class="comment">//true</span></span><br></pre></td></tr></table></figure></p><p>é¢˜ç›®ï¼Œç§»é™¤hrä»¥å¤–çš„æ‰€æœ‰æ ‡ç­¾ï¼Œåªç•™ä¸‹innerText!<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> html = <span class="string">"&lt;p&gt;&lt;a href='http://www.cnblogs.com/rubylouvre/'&gt;Ruby Louvre&lt;/a&gt;&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;by &lt;em&gt;å¸å¾’æ­£ç¾&lt;/em&gt;&lt;/p&gt;"</span>;</span><br><span class="line"><span class="keyword">var</span> text = html.replace(<span class="regexp">/&lt;(?!hr)(?:.|\s)*?&gt;/ig</span>,<span class="string">""</span>)</span><br><span class="line">alert(text)<span class="comment">//Ruby Louvre&lt;hr/&gt;by å¸å¾’æ­£ç¾</span></span><br></pre></td></tr></table></figure></p><p><strong>è¾¹ç•Œ</strong></p><p>ä¸€ä¸ªè¦ä¸å­—ç¬¦ç±»åˆç”¨çš„ä¸œè¥¿ã€‚<br>| æ­£åˆ™  | åç§°    | æè¿°                 |<br>|â€”â€“|â€”â€”-|â€”â€”â€”â€”â€”â€”â€“|<br>| ^   | å¼€å¤´    | æ³¨æ„ä¸èƒ½ç´§è·Ÿäºå·¦ä¸­æ‹¬å·çš„åé¢     |<br>| $   | ç»“å°¾    |                    |<br>| \b  | å•è¯è¾¹ç•Œ  | æŒ‡[a-zA-Z_0-9]ä¹‹å¤–çš„å­—ç¬¦ |<br>| \B  | éå•è¯è¾¹ç•Œ |                    |</p><p>é¢˜ç›®ï¼Œè®¾è®¡ä¸€ä¸ªå­—ç¬¦ä¸²åŸå‹æ–¹æ³•ï¼Œå®ç°é¦–å­—æ¯å¤§å†™ï¼<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"ruby"</span>;</span><br><span class="line"><span class="built_in">String</span>.prototype.capitalize =  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span><span class="keyword">this</span>.replace(<span class="regexp">/^\w/</span>, <span class="function"><span class="keyword">function</span> (<span class="params">s</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> s.toUpperCase();</span><br><span class="line">     &#125;);</span><br><span class="line"> &#125;</span><br><span class="line">alert(a.capitalize())<span class="comment">//Ruby</span></span><br></pre></td></tr></table></figure></p><p>å•è¯è¾¹ç•Œä¸¾ä¾‹ã€‚è¦åŒ¹é…çš„ä¸œè¥¿çš„å‰ç«¯æˆ–æœªç«¯ä¸èƒ½ä¸ºè‹±æ–‡å­—æ¯é˜¿æ‹‰ä¼¯å­—æ•°å­—æˆ–ä¸‹æ¨ªçº¿ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"12w-eefd&amp;efrew"</span>;</span><br><span class="line">alert(str.match(<span class="regexp">/\b\w+\b/g</span>))<span class="comment">//12w,eefd,efrew</span></span><br></pre></td></tr></table></figure></p><table><thead><tr><th>å®ä¾‹å±æ€§</th><th>æè¿°</th></tr></thead><tbody><tr><td>global</td><td>æ˜¯å½“å‰è¡¨è¾¾å¼æ¨¡å¼é¦–æ¬¡åŒ¹é…å†…å®¹çš„å¼€å§‹ä½ç½®ï¼Œä»0å¼€å§‹è®¡æ•°ã€‚å…¶åˆå§‹å€¼ä¸º-1ï¼Œæ¯æ¬¡æˆåŠŸåŒ¹é…æ—¶ï¼Œindexå±æ€§éƒ½ä¼šéšä¹‹æ”¹å˜ã€‚</td></tr><tr><td>ignoreCase</td><td>è¿”å›åˆ›å»ºRegExpå¯¹è±¡å®ä¾‹æ—¶æŒ‡å®šçš„ignoreCaseæ ‡å¿—ï¼ˆiï¼‰çš„çŠ¶æ€ã€‚å¦‚æœåˆ›å»ºRegExpå¯¹è±¡å®ä¾‹æ—¶è®¾ç½®äº†iæ ‡å¿—ï¼Œè¯¥å±æ€§è¿”å›Trueï¼Œå¦åˆ™è¿”å›Falseï¼Œé»˜è®¤å€¼ä¸ºFalseã€‚</td></tr><tr><td>lastIndex</td><td>æ˜¯å½“å‰è¡¨è¾¾å¼æ¨¡å¼é¦–æ¬¡åŒ¹é…å†…å®¹ä¸­æœ€åä¸€ä¸ªå­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œä»0å¼€å§‹è®¡æ•°ï¼Œå¸¸è¢«ä½œä¸ºç»§ç»­æœç´¢æ—¶çš„èµ·å§‹ä½ç½®ï¼Œåˆå§‹å€¼ä¸º-1ï¼Œ è¡¨ç¤ºä»èµ·å§‹ä½ç½®å¼€å§‹æœç´¢ï¼Œæ¯æ¬¡æˆåŠŸåŒ¹é…æ—¶ï¼ŒlastIndexå±æ€§å€¼éƒ½ä¼šéšä¹‹æ”¹å˜ã€‚(åªæœ‰ä½¿ç”¨exec()æˆ–test()æ–¹æ³•æ‰ä¼šå¡«å…¥ï¼Œå¦åˆ™ä¸º0)</td></tr><tr><td>multiLine</td><td>è¿”å›åˆ›å»ºRegExpå¯¹è±¡å®ä¾‹æ—¶æŒ‡å®šçš„multiLineæ ‡å¿—ï¼ˆmï¼‰çš„çŠ¶æ€ã€‚å¦‚æœåˆ›å»ºRegExpå¯¹è±¡å®ä¾‹æ—¶è®¾ç½®äº†mæ ‡å¿—ï¼Œè¯¥å±æ€§è¿”å›Trueï¼Œå¦åˆ™è¿”å›Falseï¼Œé»˜è®¤å€¼ä¸ºFalseã€‚</td></tr><tr><td>source</td><td>è¿”å›åˆ›å»ºRegExpå¯¹è±¡å®ä¾‹æ—¶æŒ‡å®šçš„è¡¨è¾¾å¼æ–‡æœ¬å­—ç¬¦ä¸²ã€‚</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"JS's Louvre"</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\w/g</span>;</span><br><span class="line">alert(reg.exec(str));<span class="comment">//J</span></span><br><span class="line">alert(reg.lastIndex);<span class="comment">//1</span></span><br><span class="line">alert(reg.exec(str));<span class="comment">//S</span></span><br><span class="line">alert(reg.lastIndex);<span class="comment">//2</span></span><br><span class="line">alert(reg.exec(str));<span class="comment">//s</span></span><br><span class="line">alert(reg.lastIndex);<span class="comment">//4</span></span><br><span class="line">alert(reg.exec(str));<span class="comment">//L</span></span><br><span class="line">alert(reg.lastIndex);<span class="comment">//6</span></span><br></pre></td></tr></table></figure>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> æ­£åˆ™è¡¨è¾¾å¼ </tag></tags></entry><entry><title>DOMæ“ä½œæ€»ç»“</title><link href="/DOM-operate-note.html"/><url>/DOM-operate-note.html</url><content type="html"><![CDATA[<p>æ–‡æ¡£å¯¹è±¡æ¨¡å‹ (DOM) æ˜¯HTMLå’ŒXMLæ–‡æ¡£çš„ç¼–ç¨‹æ¥å£ã€‚å®ƒç»™æ–‡æ¡£ï¼ˆç»“æ„æ ‘ï¼‰æä¾›äº†ä¸€ä¸ªç»“æ„åŒ–çš„è¡¨è¿°å¹¶ä¸”å®šä¹‰äº†ä¸€ç§æ–¹å¼â€”ç¨‹åºå¯ä»¥å¯¹ç»“æ„æ ‘è¿›è¡Œè®¿é—®ï¼Œä»¥æ”¹å˜æ–‡æ¡£çš„ç»“æ„ï¼Œæ ·å¼å’Œå†…å®¹ã€‚</p><p>DOM æä¾›äº†ä¸€ç§è¡¨è¿°å½¢å¼å°†æ–‡æ¡£ä½œä¸ºä¸€ä¸ªç»“æ„åŒ–çš„èŠ‚ç‚¹ç»„ä»¥åŠåŒ…å«å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡ã€‚ä»æœ¬è´¨ä¸Šè¯´ï¼Œå®ƒå°†web é¡µé¢å’Œè„šæœ¬æˆ–ç¼–ç¨‹è¯­è¨€è¿æ¥èµ·æ¥äº†ã€‚</p><a id="more"></a><p><img src="http://www.w3school.com.cn/i/ct_htmltree.gif" alt="DOM"></p><p>è¦æ”¹å˜é¡µé¢çš„æŸä¸ªä¸œè¥¿ï¼ŒJavaScriptå°±éœ€è¦è·å¾—å¯¹HTMLæ–‡æ¡£ä¸­æ‰€æœ‰å…ƒç´ è¿›è¡Œè®¿é—®çš„å…¥å£ã€‚è¿™ä¸ªå…¥å£ï¼Œè¿åŒå¯¹ HTML å…ƒç´ è¿›è¡Œæ·»åŠ ã€ç§»åŠ¨ã€æ”¹å˜æˆ–ç§»é™¤çš„æ–¹æ³•å’Œå±æ€§ï¼Œéƒ½æ˜¯é€šè¿‡DOMæ¥è·å¾—çš„</p><h2 id="document-å¯¹è±¡"><a href="#document-å¯¹è±¡" class="headerlink" title="document å¯¹è±¡"></a>document å¯¹è±¡</h2><p>æ¯ä¸ªè½½å…¥æµè§ˆå™¨çš„HTMLæ–‡æ¡£éƒ½ä¼šæˆä¸ºdocumentå¯¹è±¡ã€‚documentå¯¹è±¡åŒ…å«äº†æ–‡æ¡£çš„åŸºæœ¬ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡JavaScriptå¯¹HTMLé¡µé¢ä¸­çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œè®¿é—®ã€ä¿®æ”¹ã€‚</p><h3 id="documentå¯¹è±¡å¸¸ç”¨å±æ€§"><a href="#documentå¯¹è±¡å¸¸ç”¨å±æ€§" class="headerlink" title="documentå¯¹è±¡å¸¸ç”¨å±æ€§"></a>documentå¯¹è±¡å¸¸ç”¨å±æ€§</h3><p>documentå¯¹è±¡æœ‰å¾ˆå¤šå±æ€§æ¥æè¿°æ–‡æ¡£ä¿¡æ¯ï¼Œä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„</p><p><strong>doctype</strong></p><p>åœ¨ä¹¦å†™HTMLæ–‡æ¡£çš„æ—¶å€™ç¬¬ä¸€å¥ä¸€èˆ¬éƒ½æ˜¯doctypeå£°æ˜ï¼Œå¯ä»¥é€šè¿‡documentå¯¹è±¡è·å–ï¼Œæ²¡æœ‰åˆ™è¿”å›null<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">document.doctype; // <span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line">document.doctype.name; // "html"</span><br></pre></td></tr></table></figure></p><p><strong>headã€body</strong><br><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">document.head<span class="comment">;</span></span><br><span class="line">document.body<span class="comment">;</span></span><br></pre></td></tr></table></figure></p><p>é€šè¿‡è¿™ä¸¤ä¸ªå±æ€§ä½•ä»¥åˆ†åˆ«è·å–æ–‡æ¡£çš„headï¼ŒbodyèŠ‚ç‚¹</p><p><strong>activeElement</strong><br>activeElementå±æ€§è¿”å›å½“å‰æ–‡æ¡£ä¸­è·å¾—ç„¦ç‚¹çš„é‚£ä¸ªå…ƒç´ ã€‚</p><p>ç”¨æˆ·é€šå¸¸å¯ä»¥ä½¿ç”¨tabé”®ç§»åŠ¨ç„¦ç‚¹ï¼Œä½¿ç”¨ç©ºæ ¼é”®æ¿€æ´»ç„¦ç‚¹ï¼Œæ¯”å¦‚å¦‚æœç„¦ç‚¹åœ¨ä¸€ä¸ªé“¾æ¥ä¸Šï¼Œæ­¤æ—¶æŒ‰ä¸€ä¸‹ç©ºæ ¼é”®ï¼Œå°±ä¼šè·³è½¬åˆ°è¯¥é“¾æ¥<br>documentURIã€domainã€lastModified</p><pre><code>- documentURIå±æ€§è¿”å›å½“å‰æ–‡æ¡£çš„ç½‘å€- domainå±æ€§è¿”å›æ–‡æ¡£åŸŸå- lastModifiedè¿”å›å½“å‰æ–‡æ¡£çš„æœ€åä¿®æ”¹æ—¶é—´</code></pre><p><strong>location</strong></p><p>locationå±æ€§è¿”å›ä¸€ä¸ªåªè¯»å¯¹è±¡ï¼Œæä¾›äº†å½“å‰æ–‡æ¡£çš„URLä¿¡æ¯<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡å®šå½“å‰ç½‘å€ä¸ºhttp://user:passwd@www.example.com:4097/path/a.html?x=111#part1</span></span><br><span class="line"></span><br><span class="line">document<span class="selector-class">.location</span><span class="selector-class">.href</span><span class="comment">// "http://user:passwd@www.example.com:4097/path/a.html?x=111#part1"</span></span><br><span class="line">document<span class="selector-class">.location</span><span class="selector-class">.protocol</span><span class="comment">// "http:"</span></span><br><span class="line">document<span class="selector-class">.location</span><span class="selector-class">.host</span><span class="comment">// "www.example.com:4097"</span></span><br><span class="line">document<span class="selector-class">.location</span><span class="selector-class">.hostname</span><span class="comment">// "www.example.com"</span></span><br><span class="line">document<span class="selector-class">.location</span><span class="selector-class">.port</span><span class="comment">// "4097"</span></span><br><span class="line">document<span class="selector-class">.location</span><span class="selector-class">.pathname</span><span class="comment">// "/path/a.html"</span></span><br><span class="line">document<span class="selector-class">.location</span><span class="selector-class">.search</span><span class="comment">// "?x=111"</span></span><br><span class="line">document<span class="selector-class">.location</span><span class="selector-class">.hash</span><span class="comment">// "#part1"</span></span><br><span class="line">document<span class="selector-class">.location</span><span class="selector-class">.user</span><span class="comment">// "user"</span></span><br><span class="line">document<span class="selector-class">.location</span><span class="selector-class">.password</span><span class="comment">// "passed"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·³è½¬åˆ°å¦ä¸€ä¸ªç½‘å€</span></span><br><span class="line">document<span class="selector-class">.location</span>.assign(<span class="string">'http://www.google.com'</span>)</span><br><span class="line"><span class="comment">// ä¼˜å…ˆä»æœåŠ¡å™¨é‡æ–°åŠ è½½</span></span><br><span class="line">document<span class="selector-class">.location</span>.reload(true)</span><br><span class="line"><span class="comment">// ä¼˜å…ˆä»æœ¬åœ°ç¼“å­˜é‡æ–°åŠ è½½ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class="line">document<span class="selector-class">.location</span>.reload(false)</span><br><span class="line"><span class="comment">// è·³è½¬åˆ°å¦ä¸€ä¸ªç½‘å€ï¼Œä½†å½“å‰æ–‡æ¡£ä¸ä¿ç•™åœ¨historyå¯¹è±¡ä¸­ï¼Œ</span></span><br><span class="line"><span class="comment">// å³æ— æ³•ç”¨åé€€æŒ‰é’®ï¼Œå›åˆ°å½“å‰æ–‡æ¡£</span></span><br><span class="line">document<span class="selector-class">.location</span>.assign(<span class="string">'http://www.google.com'</span>)</span><br><span class="line"><span class="comment">// å°†locationå¯¹è±¡è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œç­‰ä»·äºdocument.location.href</span></span><br><span class="line">document<span class="selector-class">.location</span>.toString()</span><br></pre></td></tr></table></figure></p><p>è™½ç„¶locationå±æ€§è¿”å›çš„å¯¹è±¡æ˜¯åªè¯»çš„ï¼Œä½†æ˜¯å¯ä»¥å°†URLèµ‹å€¼ç»™è¿™ä¸ªå±æ€§ï¼Œç½‘é¡µå°±ä¼šè‡ªåŠ¨è·³è½¬åˆ°æŒ‡å®šç½‘å€ã€‚</p><p>document.location = â€˜<a href="http://www.example.com&#39;" target="_blank" rel="noopener">http://www.example.com&#39;</a>;<br>// ç­‰ä»·äº<br>document.location.href = â€˜<a href="http://www.example.com&#39;" target="_blank" rel="noopener">http://www.example.com&#39;</a>;</p><p><strong>titleã€characterSet</strong></p><pre><code>titleå±æ€§è¿”å›å½“å‰æ–‡æ¡£çš„æ ‡é¢˜ï¼Œè¯¥å±æ€§æ˜¯å¯å†™çš„characterSetå±æ€§è¿”å›æ¸²æŸ“å½“å‰æ–‡æ¡£çš„å­—ç¬¦é›†</code></pre><p><strong>readyState</strong></p><p>readyStateå±æ€§è¿”å›å½“å‰æ–‡æ¡£çš„çŠ¶æ€ï¼Œå…±æœ‰ä¸‰ç§å¯èƒ½çš„å€¼</p><pre><code>loadingï¼šåŠ è½½HTMLä»£ç é˜¶æ®µï¼Œå°šæœªå®Œæˆè§£æinteractiveï¼šåŠ è½½å¤–éƒ¨èµ„æºé˜¶æ®µcompleteï¼šå…¨éƒ¨åŠ è½½å®Œæˆ</code></pre><p><strong>compatMode</strong></p><p>compatModeå±æ€§è¿”å›æµè§ˆå™¨å¤„ç†æ–‡æ¡£çš„æ¨¡å¼ï¼Œå¯èƒ½çš„å€¼ä¸º</p><pre><code>BackCompatï¼šå‘åå…¼å®¹æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æ·»åŠ DOCTYPECSS1Compatï¼šä¸¥æ ¼æ¨¡å¼ï¼Œæ·»åŠ äº†DOCTYPE</code></pre><p><strong>cookie</strong></p><p>cookieæ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„æ–‡æœ¬ï¼Œåç»­åœ¨å®¢æˆ·ç«¯å­˜å‚¨ç« èŠ‚ä¼šä»‹ç»åˆ°</p><p><strong>innerText</strong></p><p>innerTextæ˜¯ä¸€ä¸ªå¯å†™å±æ€§ï¼Œè¿”å›å…ƒç´ å†…åŒ…å«çš„æ–‡æœ¬å†…å®¹ï¼Œåœ¨å¤šå±‚æ¬¡çš„æ—¶å€™ä¼šæŒ‰ç…§å…ƒç´ ç”±æµ…åˆ°æ·±çš„é¡ºåºæ‹¼æ¥å…¶å†…å®¹<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        123</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>456<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>å¤–å±‚divçš„innerTextè¿”å›å†…å®¹æ˜¯  <code>&quot;123456&quot;</code></p><p><strong>innerHTMLã€outerHTML</strong><br>innerHTMLå±æ€§ä½œç”¨å’ŒinnerTextç±»ä¼¼ï¼Œä½†æ˜¯ä¸æ˜¯è¿”å›å…ƒç´ çš„æ–‡æœ¬å†…å®¹ï¼Œè€Œæ˜¯è¿”å›å…ƒç´ çš„HTMLç»“æ„ï¼Œåœ¨å†™å…¥çš„æ—¶å€™ä¹Ÿä¼šè‡ªåŠ¨æ„å»ºDOM<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        123</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>456<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>å¤–å±‚divçš„innerHTMLè¿”å›å†…å®¹æ˜¯ <code>&quot;&lt;p&gt;123&lt;span&gt;456&lt;/span&gt;&lt;/p&gt;&quot;</code><br>outerHTML è¿”å›å†…å®¹è¿˜åŒ…æ‹¬æœ¬èº«</p><h3 id="documentå¯¹è±¡å¸¸ç”¨æ–¹æ³•"><a href="#documentå¯¹è±¡å¸¸ç”¨æ–¹æ³•" class="headerlink" title="documentå¯¹è±¡å¸¸ç”¨æ–¹æ³•"></a>documentå¯¹è±¡å¸¸ç”¨æ–¹æ³•</h3><p><strong>open()ã€close()</strong><br>document.openæ–¹æ³•ç”¨äºæ–°å»ºä¸€ä¸ªæ–‡æ¡£ï¼Œä¾›writeæ–¹æ³•å†™å…¥å†…å®¹ã€‚å®ƒå®é™…ä¸Šç­‰äºæ¸…é™¤å½“å‰æ–‡æ¡£ï¼Œé‡æ–°å†™å…¥å†…å®¹<br>document.closeæ–¹æ³•ç”¨äºå…³é—­openæ–¹æ³•æ‰€æ–°å»ºçš„æ–‡æ¡£ã€‚ä¸€æ—¦å…³é—­ï¼Œwriteæ–¹æ³•å°±æ— æ³•å†™å…¥å†…å®¹äº†ã€‚<br><strong>write()</strong><br>document.writeæ–¹æ³•ç”¨äºå‘å½“å‰æ–‡æ¡£å†™å…¥å†…å®¹ã€‚åªè¦å½“å‰æ–‡æ¡£è¿˜æ²¡æœ‰ç”¨closeæ–¹æ³•å…³é—­ï¼Œå®ƒæ‰€å†™å…¥çš„å†…å®¹å°±ä¼šè¿½åŠ åœ¨å·²æœ‰å†…å®¹çš„åé¢ã€‚<br><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">document.open()<span class="comment">;</span></span><br><span class="line">document.write(<span class="string">"hello"</span>)<span class="comment">;</span></span><br><span class="line">document.write(<span class="string">"world"</span>)<span class="comment">;</span></span><br><span class="line">document.close()<span class="comment">;</span></span><br></pre></td></tr></table></figure></p><blockquote><p>å¦‚æœé¡µé¢å·²ç»æ¸²æŸ“å®Œæˆå†è°ƒç”¨writeæ–¹æ³•ï¼Œå®ƒä¼šå…ˆè°ƒç”¨openæ–¹æ³•ï¼Œæ“¦é™¤å½“å‰æ–‡æ¡£æ‰€æœ‰å†…å®¹ï¼Œç„¶åå†å†™å…¥ã€‚<br>å¦‚æœåœ¨é¡µé¢æ¸²æŸ“è¿‡ç¨‹ä¸­è°ƒç”¨writeæ–¹æ³•ï¼Œå¹¶ä¸ä¼šè°ƒç”¨openæ–¹æ³•ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶è°ƒç”¨closeæ–¹æ³•ä¹‹åï¼Œæ— æ³•å†ç”¨writeæ–¹æ³•å†™å…¥å†…å®¹ï¼Œä½†è¿™æ—¶å½“å‰é¡µé¢çš„å…¶ä»–DOMèŠ‚ç‚¹è¿˜æ˜¯ä¼šç»§ç»­åŠ è½½ã€‚<br>é™¤äº†æŸäº›ç‰¹æ®Šæƒ…å†µï¼Œåº”è¯¥å°½é‡é¿å…ä½¿ç”¨document.writeè¿™ä¸ªæ–¹æ³•ã€‚</p></blockquote><h2 id="Element"><a href="#Element" class="headerlink" title="Element"></a>Element</h2><p>é™¤äº†documentå¯¹è±¡ï¼Œåœ¨DOMä¸­æœ€å¸¸ç”¨çš„å°±æ˜¯Elementå¯¹è±¡äº†ï¼ŒElementå¯¹è±¡è¡¨ç¤ºHTMLå…ƒç´ ã€‚</p><p>Element å¯¹è±¡å¯ä»¥æ‹¥æœ‰ç±»å‹ä¸ºå…ƒç´ èŠ‚ç‚¹ã€æ–‡æœ¬èŠ‚ç‚¹ã€æ³¨é‡ŠèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼ŒDOMæä¾›äº†ä¸€ç³»åˆ—çš„æ–¹æ³•å¯ä»¥è¿›è¡Œå…ƒç´ çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œ</p><p><strong>Elementæœ‰å‡ ä¸ªé‡è¦å±æ€§</strong></p><blockquote><ul><li>nodeNameï¼šå…ƒç´ æ ‡ç­¾åï¼Œè¿˜æœ‰ä¸ªç±»ä¼¼çš„tagName</li><li>nodeTypeï¼šå…ƒç´ ç±»å‹</li><li>classNameï¼šç±»å</li><li>idï¼šå…ƒç´ id</li><li>childrenï¼šå­å…ƒç´ åˆ—è¡¨ï¼ˆHTMLCollectionï¼‰</li><li>childNodesï¼šå­å…ƒç´ åˆ—è¡¨ï¼ˆNodeListï¼‰</li><li>firstChildï¼šç¬¬ä¸€ä¸ªå­å…ƒç´ </li><li>lastChildï¼šæœ€åä¸€ä¸ªå­å…ƒç´ </li><li>nextSiblingï¼šä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´ </li><li>previousSiblingï¼šä¸Šä¸€ä¸ªå…„å¼Ÿå…ƒç´ </li><li>parentNodeã€parentElementï¼šçˆ¶å…ƒç´ </li></ul></blockquote><p><strong>æŸ¥è¯¢å…ƒç´ </strong></p><ul><li>getElementById()</li></ul><p>getElementByIdæ–¹æ³•è¿”å›åŒ¹é…æŒ‡å®šIDå±æ€§çš„å…ƒç´ èŠ‚ç‚¹ã€‚å¦‚æœæ²¡æœ‰å‘ç°åŒ¹é…çš„èŠ‚ç‚¹ï¼Œåˆ™è¿”å›nullã€‚è¿™ä¹Ÿæ˜¯è·å–ä¸€ä¸ªå…ƒç´ æœ€å¿«çš„æ–¹æ³•<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elem = <span class="built_in">document</span>.getElementById(<span class="string">"test"</span>);</span><br></pre></td></tr></table></figure></p><ul><li>getElementsByClassName()</li></ul><p>getElementsByClassNameæ–¹æ³•è¿”å›ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆHTMLCollectionç±»å‹çš„å¯¹è±¡ï¼‰ï¼ŒåŒ…æ‹¬äº†æ‰€æœ‰classåå­—ç¬¦åˆæŒ‡å®šæ¡ä»¶çš„å…ƒç´ ï¼ˆæœç´¢èŒƒå›´åŒ…æ‹¬æœ¬èº«ï¼‰ï¼Œå…ƒç´ çš„å˜åŒ–å®æ—¶åæ˜ åœ¨è¿”å›ç»“æœä¸­ã€‚è¿™ä¸ªæ–¹æ³•ä¸ä»…å¯ä»¥åœ¨documentå¯¹è±¡ä¸Šè°ƒç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨ä»»ä½•å…ƒç´ èŠ‚ç‚¹ä¸Šè°ƒç”¨ã€‚<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elements = <span class="built_in">document</span>.getElementsByClassName(names);</span><br><span class="line"></span><br><span class="line">getElementsByClassNameæ–¹æ³•çš„å‚æ•°ï¼Œå¯ä»¥æ˜¯å¤šä¸ªç©ºæ ¼åˆ†éš”çš„<span class="class"><span class="keyword">class</span>åå­—ï¼Œè¿”å›åŒæ—¶å…·æœ‰è¿™äº›èŠ‚ç‚¹çš„å…ƒç´ ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.getElementsByClassName(<span class="string">'red test'</span>);</span><br></pre></td></tr></table></figure></p><ul><li>getElementsByTagName()</li></ul><p>getElementsByTagNameæ–¹æ³•è¿”å›æ‰€æœ‰æŒ‡å®šæ ‡ç­¾çš„å…ƒç´ ï¼ˆæœç´¢èŒƒå›´åŒ…æ‹¬æœ¬èº«ï¼‰ã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªHTMLCollectionå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœç´¢ç»“æœæ˜¯ä¸€ä¸ªåŠ¨æ€é›†åˆï¼Œä»»ä½•å…ƒç´ çš„å˜åŒ–éƒ½ä¼šå®æ—¶åæ˜ åœ¨è¿”å›çš„é›†åˆä¸­ã€‚è¿™ä¸ªæ–¹æ³•ä¸ä»…å¯ä»¥åœ¨documentå¯¹è±¡ä¸Šè°ƒç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨ä»»ä½•å…ƒç´ èŠ‚ç‚¹ä¸Šè°ƒç”¨ã€‚<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> paras = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"p"</span>);</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç è¿”å›å½“å‰æ–‡æ¡£çš„æ‰€æœ‰på…ƒç´ èŠ‚ç‚¹ã€‚æ³¨æ„ï¼ŒgetElementsByTagNameæ–¹æ³•ä¼šå°†å‚æ•°è½¬ä¸ºå°å†™åï¼Œå†è¿›è¡Œæœç´¢ã€‚</p><ul><li>getElementsByName()</li></ul><p>getElementsByNameæ–¹æ³•ç”¨äºé€‰æ‹©æ‹¥æœ‰nameå±æ€§çš„HTMLå…ƒç´ ï¼Œæ¯”å¦‚formã€imgã€frameã€embedå’Œobjectï¼Œè¿”å›ä¸€ä¸ªNodeListæ ¼å¼çš„å¯¹è±¡ï¼Œä¸ä¼šå®æ—¶åæ˜ å…ƒç´ çš„å˜åŒ–ã€‚<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> å‡å®šæœ‰ä¸€ä¸ªè¡¨å•æ˜¯&lt;form name=<span class="string">"x"</span>&gt;&lt;<span class="string">/form</span>&gt;</span><br><span class="line">var forms = document.getElementsByName<span class="params">("x")</span>;</span><br><span class="line">forms[0]<span class="string">.tagName</span><span class="string">//</span><span class="string">"FORM"</span></span><br></pre></td></tr></table></figure></p><p>æ³¨æ„ï¼Œåœ¨IEæµè§ˆå™¨ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¼šå°†æ²¡æœ‰nameå±æ€§ã€ä½†æœ‰åŒåidå±æ€§çš„å…ƒç´ ä¹Ÿè¿”å›ï¼Œæ‰€ä»¥nameå’Œidå±æ€§æœ€å¥½è®¾ä¸ºä¸ä¸€æ ·çš„å€¼ã€‚</p><ul><li>querySelector()</li></ul><p>querySelectoræ–¹æ³•è¿”å›åŒ¹é…æŒ‡å®šçš„CSSé€‰æ‹©å™¨çš„å…ƒç´ èŠ‚ç‚¹ã€‚å¦‚æœæœ‰å¤šä¸ªèŠ‚ç‚¹æ»¡è¶³åŒ¹é…æ¡ä»¶ï¼Œåˆ™è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„èŠ‚ç‚¹ã€‚å¦‚æœæ²¡æœ‰å‘ç°åŒ¹é…çš„èŠ‚ç‚¹ï¼Œåˆ™è¿”å›nullã€‚<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> el1 = <span class="built_in">document</span>.<span class="built_in">querySelector</span>(<span class="string">".myclass"</span>);</span><br><span class="line"><span class="keyword">var</span> el2 = <span class="built_in">document</span>.<span class="built_in">querySelector</span>(<span class="string">'#myParent &gt; [ng-click]'</span>);</span><br></pre></td></tr></table></figure></p><p>querySelectoræ–¹æ³•æ— æ³•é€‰ä¸­CSSä¼ªå…ƒç´ ã€‚</p><ul><li>querySelectorAll()</li></ul><p>querySelectorAllæ–¹æ³•è¿”å›åŒ¹é…æŒ‡å®šçš„CSSé€‰æ‹©å™¨çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿”å›çš„æ˜¯NodeListç±»å‹çš„å¯¹è±¡ã€‚NodeListå¯¹è±¡ä¸æ˜¯åŠ¨æ€é›†åˆï¼Œæ‰€ä»¥å…ƒç´ èŠ‚ç‚¹çš„å˜åŒ–æ— æ³•å®æ—¶åæ˜ åœ¨è¿”å›ç»“æœä¸­ã€‚<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">elementList</span> = document.querySelectorAll(selectors)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p><p>querySelectorAllæ–¹æ³•çš„å‚æ•°ï¼Œå¯ä»¥æ˜¯é€—å·åˆ†éš”çš„å¤šä¸ªCSSé€‰æ‹©å™¨ï¼Œè¿”å›æ‰€æœ‰åŒ¹é…å…¶ä¸­ä¸€ä¸ªé€‰æ‹©å™¨çš„å…ƒç´ ã€‚<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> matches = <span class="built_in">document</span>.<span class="built_in">querySelectorAll</span>(<span class="string">"div.note, div.alert"</span>);</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç è¿”å›classå±æ€§æ˜¯noteæˆ–alertçš„divå…ƒç´ ã€‚</p><ul><li>elementFromPoint()</li></ul><p>elementFromPointæ–¹æ³•è¿”å›ä½äºé¡µé¢æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚<br><figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> element = document.elementFromPoint(<span class="symbol">x</span>, <span class="symbol">y</span>);</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç ä¸­ï¼ŒelementFromPointæ–¹æ³•çš„å‚æ•°xå’Œyï¼Œåˆ†åˆ«æ˜¯ç›¸å¯¹äºå½“å‰çª—å£å·¦ä¸Šè§’çš„æ¨ªåæ ‡å’Œçºµåæ ‡ï¼Œå•ä½æ˜¯CSSåƒç´ ã€‚</p><p>elementFromPointæ–¹æ³•è¿”å›ä½äºè¿™ä¸ªä½ç½®çš„DOMå…ƒç´ ï¼Œå¦‚æœè¯¥å…ƒç´ ä¸å¯è¿”å›ï¼ˆæ¯”å¦‚æ–‡æœ¬æ¡†çš„æ»šåŠ¨æ¡ï¼‰ï¼Œåˆ™è¿”å›å®ƒçš„çˆ¶å…ƒç´ ï¼ˆæ¯”å¦‚æ–‡æœ¬æ¡†ï¼‰ã€‚å¦‚æœåæ ‡å€¼æ— æ„ä¹‰ï¼ˆæ¯”å¦‚è´Ÿå€¼ï¼‰ï¼Œåˆ™è¿”å›nullã€‚</p><p><strong>åˆ›å»ºå…ƒç´ </strong></p><ul><li>createElement()</li></ul><p>createElementæ–¹æ³•ç”¨æ¥ç”ŸæˆHTMLå…ƒç´ èŠ‚ç‚¹ã€‚<br><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span><span class="keyword">new</span><span class="type">Div</span> = document.createElement(<span class="string">"div"</span>);</span><br></pre></td></tr></table></figure></p><p>createElementæ–¹æ³•çš„å‚æ•°ä¸ºå…ƒç´ çš„æ ‡ç­¾åï¼Œå³å…ƒç´ èŠ‚ç‚¹çš„tagNameå±æ€§ã€‚å¦‚æœä¼ å…¥å¤§å†™çš„æ ‡ç­¾åï¼Œä¼šè¢«è½¬ä¸ºå°å†™ã€‚å¦‚æœå‚æ•°å¸¦æœ‰å°–æ‹¬å·ï¼ˆå³&lt;å’Œ&gt;ï¼‰æˆ–è€…æ˜¯nullï¼Œä¼šæŠ¥é”™ã€‚</p><ul><li>createTextNode()</li></ul><p>createTextNodeæ–¹æ³•ç”¨æ¥ç”Ÿæˆæ–‡æœ¬èŠ‚ç‚¹ï¼Œå‚æ•°ä¸ºæ‰€è¦ç”Ÿæˆçš„æ–‡æœ¬èŠ‚ç‚¹çš„å†…å®¹ã€‚<br><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span><span class="keyword">new</span><span class="type">Div</span> = document.createElement(<span class="string">"div"</span>);</span><br><span class="line"><span class="keyword">var</span><span class="keyword">new</span><span class="type">Content</span> = document.createTextNode(<span class="string">"Hello"</span>);</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç æ–°å»ºä¸€ä¸ªdivèŠ‚ç‚¹å’Œä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹</p><ul><li>createDocumentFragment()</li></ul><p>createDocumentFragmentæ–¹æ³•ç”Ÿæˆä¸€ä¸ªDocumentFragmentå¯¹è±¡ã€‚<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> docFragment = <span class="built_in">document</span>.createDocumentFragment();</span><br></pre></td></tr></table></figure></p><p>DocumentFragmentå¯¹è±¡æ˜¯ä¸€ä¸ªå­˜åœ¨äºå†…å­˜çš„DOMç‰‡æ®µï¼Œä½†æ˜¯ä¸å±äºå½“å‰æ–‡æ¡£ï¼Œå¸¸å¸¸ç”¨æ¥ç”Ÿæˆè¾ƒå¤æ‚çš„DOMç»“æ„ï¼Œç„¶åæ’å…¥å½“å‰æ–‡æ¡£ã€‚è¿™æ ·åšçš„å¥½å¤„åœ¨äºï¼Œå› ä¸ºDocumentFragmentä¸å±äºå½“å‰æ–‡æ¡£ï¼Œå¯¹å®ƒçš„ä»»ä½•æ”¹åŠ¨ï¼Œéƒ½ä¸ä¼šå¼•å‘ç½‘é¡µçš„é‡æ–°æ¸²æŸ“ï¼Œæ¯”ç›´æ¥ä¿®æ”¹å½“å‰æ–‡æ¡£çš„DOMæœ‰æ›´å¥½çš„æ€§èƒ½è¡¨ç°ã€‚<br>ä¿®æ”¹å…ƒç´ </p><ul><li>appendChild()</li></ul><p><strong>åœ¨å…ƒç´ æœ«å°¾æ·»åŠ å…ƒç´ </strong><br><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span><span class="keyword">new</span><span class="type">Div</span> = document.createElement(<span class="string">"div"</span>);</span><br><span class="line"><span class="keyword">var</span><span class="keyword">new</span><span class="type">Content</span> = document.createTextNode(<span class="string">"Hello"</span>);</span><br><span class="line"><span class="keyword">new</span><span class="type">Div</span>.appendChild(<span class="keyword">new</span><span class="type">Content</span>);</span><br></pre></td></tr></table></figure></p><ul><li>insertBefore()</li></ul><p>åœ¨æŸä¸ªå…ƒç´ ä¹‹å‰æ’å…¥å…ƒç´ <br><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span><span class="keyword">new</span><span class="type">Div</span> = document.createElement(<span class="string">"div"</span>);</span><br><span class="line"><span class="keyword">var</span><span class="keyword">new</span><span class="type">Content</span> = document.createTextNode(<span class="string">"Hello"</span>);</span><br><span class="line"><span class="keyword">new</span><span class="type">Div</span>.insertBefore(<span class="keyword">new</span><span class="type">Content</span>, <span class="keyword">new</span><span class="type">Div</span>.firstChild);</span><br></pre></td></tr></table></figure></p><ul><li>replaceChild()</li></ul><p>replaceChild()æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šè¦æ’å…¥çš„å…ƒç´ å’Œè¦æ›¿æ¢çš„å…ƒç´ <br><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span><span class="type">Div</span>.replaceChild(<span class="keyword">new</span><span class="type">Element</span>, oldElement);</span><br></pre></td></tr></table></figure></p><p><strong>åˆ é™¤å…ƒç´ </strong></p><p>åˆ é™¤å…ƒç´ ä½¿ç”¨removeChild()æ–¹æ³•å³å¯<br><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parentNode.remove<span class="constructor">Child(<span class="params">childNode</span>)</span>;</span><br></pre></td></tr></table></figure></p><p><strong>cloneå…ƒç´ </strong></p><p>cloneNode()æ–¹æ³•ç”¨äºå…‹éš†å…ƒç´ ï¼Œæ–¹æ³•æœ‰ä¸€ä¸ªå¸ƒå°”å€¼å‚æ•°ï¼Œä¼ å…¥trueçš„æ—¶å€™ä¼šæ·±å¤åˆ¶ï¼Œä¹Ÿå°±æ˜¯ä¼šå¤åˆ¶å…ƒç´ åŠå…¶å­å…ƒç´ ï¼ˆIEè¿˜ä¼šå¤åˆ¶å…¶äº‹ä»¶ï¼‰ï¼Œfalseçš„æ—¶å€™åªå¤åˆ¶å…ƒç´ æœ¬èº«<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">node</span>.<span class="title">cloneNode</span>(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure></p><p><strong>å±æ€§æ“ä½œ</strong></p><ul><li>getAttribute()</li></ul><p>getAttribute()ç”¨äºè·å–å…ƒç´ çš„attributeå€¼<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">node</span>.<span class="title">getAttribute</span>('id');</span><br></pre></td></tr></table></figure></p><ul><li>createAttribute()</li></ul><p>createAttribute()æ–¹æ³•ç”Ÿæˆä¸€ä¸ªæ–°çš„å±æ€§å¯¹è±¡èŠ‚ç‚¹ï¼Œå¹¶è¿”å›å®ƒã€‚<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">attribute</span> = document.createAttribute(name)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p><p>createAttributeæ–¹æ³•çš„å‚æ•°nameï¼Œæ˜¯å±æ€§çš„åç§°ã€‚</p><ul><li>setAttribute()</li></ul><p>setAttribute()æ–¹æ³•ç”¨äºè®¾ç½®å…ƒç´ å±æ€§<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var <span class="keyword">node</span><span class="title">= document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line"><span class="keyword">node</span>.<span class="title">setAttribute</span>(<span class="string">"my_attrib"</span>, <span class="string">"newVal"</span>);</span><br></pre></td></tr></table></figure></p><p>ç­‰åŒäº<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var <span class="keyword">node</span><span class="title">= document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line">var a = document.createAttribute(<span class="string">"my_attrib"</span>);</span><br><span class="line">a.value = <span class="string">"newVal"</span>;</span><br><span class="line"><span class="keyword">node</span>.<span class="title">setAttributeNode</span>(a);</span><br></pre></td></tr></table></figure></p><ul><li>romoveAttribute()</li></ul><p>removeAttribute()ç”¨äºåˆ é™¤å…ƒç´ å±æ€§<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">node</span>.<span class="title">removeAttribute</span>('id');</span><br></pre></td></tr></table></figure></p><ul><li>element.attributes</li></ul><p>å½“ç„¶ä¸Šé¢çš„æ–¹æ³•åšçš„äº‹æƒ…ä¹Ÿå¯ä»¥é€šè¿‡ç±»æ“ä½œæ•°ç»„å±æ€§element.attributesæ¥å®ç°</p><h3 id="å¸¸è§ä½¿ç”¨æ–¹å¼"><a href="#å¸¸è§ä½¿ç”¨æ–¹å¼" class="headerlink" title="å¸¸è§ä½¿ç”¨æ–¹å¼"></a>å¸¸è§ä½¿ç”¨æ–¹å¼</h3><p><strong>ä¿®æ”¹æ ·å¼</strong></p><p>å¯ä¿®æ”¹å…ƒç´ çš„ style å±æ€§ï¼Œä¿®æ”¹ç»“æœç›´æ¥åæ˜ åˆ°é¡µé¢å…ƒç´ <br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.<span class="built_in">querySelector</span>(<span class="string">'p'</span>).style.color = <span class="string">'red'</span></span><br><span class="line"><span class="built_in">document</span>.<span class="built_in">querySelector</span>(<span class="string">'.box'</span>).style.backgroundColor = <span class="string">'#ccc'</span></span><br></pre></td></tr></table></figure></p><p><strong>è·å–æ ·å¼ getComputedStyle</strong></p><p>ä½¿ç”¨getComputedStyleè·å–å…ƒç´ è®¡ç®—åçš„æ ·å¼ï¼Œä¸è¦é€šè¿‡ node.style.å±æ€§ è·å–<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var <span class="keyword">node</span><span class="title">= document</span>.querySelector('p')</span><br><span class="line">var color = window.getComputedStyle(<span class="keyword">node</span><span class="title">).color</span></span><br><span class="line">console.log(color)</span><br></pre></td></tr></table></figure></p><p><strong>class æ“ä½œ</strong><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">var</span> nodeBox = document.querySelector(<span class="string">'.box'</span>)</span><br><span class="line">console.log( nodeBox<span class="selector-class">.classList</span> )</span><br><span class="line">nodeBox<span class="selector-class">.classList</span>.add(<span class="string">'active'</span>)   <span class="comment">//æ–°å¢ class</span></span><br><span class="line">nodeBox<span class="selector-class">.classList</span>.remove(<span class="string">'active'</span>)  <span class="comment">//åˆ é™¤ class</span></span><br><span class="line">nodeBox<span class="selector-class">.classList</span>.toggle(<span class="string">'active'</span>)   <span class="comment">//æ–°å¢/åˆ é™¤åˆ‡æ¢</span></span><br><span class="line">node<span class="selector-class">.classList</span>.contains(<span class="string">'active'</span>)   <span class="comment">// åˆ¤æ–­æ˜¯å¦æ‹¥æœ‰ class</span></span><br></pre></td></tr></table></figure></p><p>æ ·å¼çš„æ”¹å˜å°½é‡ä½¿ç”¨ class çš„æ–°å¢åˆ é™¤æ¥å®ç°</p><p><strong>é¡µé¢å®½é«˜</strong></p><p><img src="https://ww1.sinaimg.cn/large/005M7QYPly1fj8v93smtqj30bf06vgm6.jpg" alt="element.clientHeight"></p><p><img src="https://ww1.sinaimg.cn/large/005M7QYPly1fj8v8kad8yj30bf06vaan.jpg" alt="element.offsetHeight"><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">document<span class="selector-class">.body</span>.clientHeight</span><br><span class="line">document<span class="selector-class">.body</span>.offsetHeight</span><br><span class="line"></span><br><span class="line">docuemnt<span class="selector-class">.body</span><span class="selector-class">.style</span><span class="selector-class">.border</span> = <span class="string">"10px solid red"</span></span><br><span class="line">docuemnt<span class="selector-class">.body</span><span class="selector-class">.clientHeight</span><span class="comment">//å˜å°äº†</span></span><br><span class="line">document<span class="selector-class">.body</span>.offsetHeight</span><br></pre></td></tr></table></figure></p><p><strong>element.scrollHeight</strong> å…ƒç´ æ»šåŠ¨å†…å®¹çš„æ€»é•¿åº¦ã€‚å¦‚æœå…ƒç´ æ²¡å‡ºç°æ»šåŠ¨æ¡ï¼Œ scrollHeightç­‰äº clientHeight<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">document</span><span class="selector-class">.body</span><span class="selector-class">.scrollHeight</span></span><br></pre></td></tr></table></figure></p><p><strong>element.scrollTop</strong> æ»šåŠ¨çš„é«˜åº¦<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">document</span><span class="selector-class">.body</span><span class="selector-class">.scrollTop</span></span><br></pre></td></tr></table></figure></p><p><strong>window.innerHeight</strong> çª—å£çš„é«˜åº¦<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.innerHeigh</span><br></pre></td></tr></table></figure></p><p>é—®é¢˜1ï¼šå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å‡ºç°åœ¨çª—å£è§†é‡ä¸­</p><p>é—®é¢˜2ï¼šå¦‚æœåˆ¤æ–­é¡µé¢æ»šåŠ¨åˆ°åº•éƒ¨</p><h2 id="HTMLCollectionå’ŒNodeList"><a href="#HTMLCollectionå’ŒNodeList" class="headerlink" title="HTMLCollectionå’ŒNodeList"></a>HTMLCollectionå’ŒNodeList</h2><p>æˆ‘ä»¬çŸ¥é“Elementå¯¹è±¡è¡¨ç¤ºå…ƒç´ ï¼Œé‚£ä¹ˆå¤šä¸ªå…ƒç´ çš„é›†åˆä¸€èˆ¬æœ‰ä¸¤ç§æ•°æ®ç±»å‹</p><p>NodeList å¯¹è±¡ä»£è¡¨ä¸€ä¸ªæœ‰é¡ºåºçš„èŠ‚ç‚¹åˆ—è¡¨ï¼ŒHTMLCollection æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè¡¨ç¤º HTML å…ƒç´ çš„é›†åˆï¼Œå®ƒæä¾›äº†å¯ä»¥éå†åˆ—è¡¨çš„æ–¹æ³•å’Œå±æ€§</p><p>ä»¥ä¸‹æ–¹æ³•è·å–çš„ä¸ºHTMLCollectionå¯¹è±¡</p><blockquote><p>document.images //æ‰€æœ‰imgå…ƒç´ <br>document.links //æ‰€æœ‰å¸¦hrefå±æ€§çš„aå…ƒç´ å’Œareaå…ƒç´ <br>document.anchors //æ‰€æœ‰å¸¦nameå±æ€§çš„aå…ƒç´ <br>document.forms //æ‰€æœ‰formå…ƒç´ <br>document.scripts //æ‰€æœ‰scriptå…ƒç´ <br>document.applets //æ‰€æœ‰appletå…ƒç´ <br>document.embeds //æ‰€æœ‰embedå…ƒç´ <br>document.plugins //document.ä¸embedsç›¸åŒ<br>document.getElementById(â€œtableâ€).children<br>document.getElementById(â€œtableâ€).tBodies<br>document.getElementById(â€œtableâ€).rows<br>document.getElementById(â€œrowâ€).cells<br>document.getElementById(â€œMapâ€).areas<br>document.getElementById(â€œf2â€).elements //HTMLFormControlsCollection extends HTMLCollection<br>document.getElementById(â€œsâ€).options //HTMLOptionsCollection extends HTMLCollection</p></blockquote><p>ä»¥ä¸‹æ–¹æ³•è·å–çš„ä¸ºNodeListå¯¹è±¡</p><blockquote><p>document.getElementsByName(â€œname1â€)<br>document.getElementsByClassName(â€œclass1â€)<br>document.getElementsByTagName(â€œaâ€)<br>document.querySelectorAll(â€œaâ€)<br>document.getElementById(â€œtableâ€).childNodes<br>document.styleSheets //StyleSheetListï¼Œä¸NodeListç±»ä¼¼</p></blockquote><p>HTMLCollectionä¸NodeListæœ‰å¾ˆå¤§éƒ¨åˆ†ç›¸ä¼¼æ€§</p><blockquote><ul><li>éƒ½æ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Œéƒ½æœ‰lengthå±æ€§ï¼Œå¯ä»¥é€šè¿‡forå¾ªç¯è¿­ä»£</li><li>éƒ½æ˜¯åªè¯»çš„</li><li>éƒ½æ˜¯å®æ—¶çš„ï¼Œå³æ–‡æ¡£çš„æ›´æ”¹ä¼šç«‹å³åæ˜ åˆ°ç›¸å…³å¯¹è±¡ä¸Šé¢(æœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œdocument.querySelectorAllè¿”å›çš„NodeListä¸æ˜¯å®æ—¶çš„)</li><li>éƒ½æœ‰item()æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡item(index)æˆ–item(â€œidâ€)è·å–å…ƒç´ </li></ul></blockquote><p>ä¸åŒç‚¹åœ¨äº</p><blockquote><ul><li>HTMLCollectionå¯¹è±¡å…·æœ‰namedItem()æ–¹æ³•ï¼Œå¯ä»¥ä¼ é€’idæˆ–nameè·å¾—å…ƒç´ </li></ul></blockquote><blockquote><ul><li>HTMLCollectionçš„item()æ–¹æ³•å’Œé€šè¿‡å±æ€§è·å–å…ƒç´ (document.forms.f1)å¯ä»¥æ”¯æŒidå’Œnameï¼Œè€ŒNodeListå¯¹è±¡åªæ”¯æŒid</li></ul></blockquote>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> javascript </tag><tag> DOM </tag></tags></entry><entry><title>metaæ ‡ç­¾æ€»ç»“ä¸å±æ€§ä½¿ç”¨ä»‹ç»</title><link href="/html5-meta-properties.html"/><url>/html5-meta-properties.html</url><content type="html"><![CDATA[<p>è‹±æ–‡ç‰ˆw3schoolä¸­,metaçš„è§£é‡Šä¸ºâ€œå…ƒæ•°æ®â€ï¼Œå…ƒæ•°æ®åœ¨Googleå°±æœ‰è¯¦ç»†è§£é‡Šã€‚</p><blockquote><p>The <code>&lt;meta&gt;</code> tag provides metadata about the HTML document. Metadata will not be displayed on the page, but will be machine parsable.</p></blockquote><p>ä¸éš¾çœ‹å‡ºï¼Œå…¶ä¸­çš„å…³é”®æ˜¯metadataï¼Œä¸­æ–‡åå«å…ƒæ•°æ®ï¼Œæ˜¯ç”¨äºæè¿°æ•°æ®çš„æ•°æ®ã€‚å®ƒä¸ä¼šæ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œä½†æ˜¯æœºå™¨å´å¯ä»¥è¯†åˆ«ã€‚è¿™ä¹ˆä¸€æ¥metaæ ‡ç­¾çš„ä½œç”¨æ–¹å¼å°±å¾ˆå¥½ç†è§£äº†ã€‚<br><a id="more"></a></p><h3 id="ç”¨å¤„"><a href="#ç”¨å¤„" class="headerlink" title="ç”¨å¤„"></a>ç”¨å¤„</h3><blockquote><ul><li>Meta elements are typically used to specify page description, keywords, author of the document, last modified, and other metadata.</li><li>The metadata can be used by browsers (how to display content or reload page), search engines (keywords), or other web services</li></ul></blockquote><p>è¿™å¥è¯å¯¹metaæ ‡ç­¾ç”¨å¤„çš„ä»‹ç»ï¼Œç®€æ´æ˜äº†ã€‚<br>ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼šmetaå¸¸ç”¨äºå®šä¹‰é¡µé¢çš„è¯´æ˜ï¼Œå…³é”®å­—ï¼Œæœ€åä¿®æ”¹æ—¥æœŸï¼Œå’Œå…¶å®ƒçš„å…ƒæ•°æ®ã€‚è¿™äº›å…ƒæ•°æ®å°†æœåŠ¡äºæµè§ˆå™¨ï¼ˆå¦‚ä½•å¸ƒå±€æˆ–é‡è½½é¡µé¢ï¼‰ï¼Œæœç´¢å¼•æ“å’Œå…¶å®ƒç½‘ç»œæœåŠ¡ã€‚</p><h3 id="ç»„æˆ"><a href="#ç»„æˆ" class="headerlink" title="ç»„æˆ"></a>ç»„æˆ</h3><p>metaæ ‡ç­¾å…±æœ‰ä¸¤ä¸ªå±æ€§ï¼Œåˆ†åˆ«æ˜¯http-equivå±æ€§å’Œnameå±æ€§ã€‚</p><h4 id="1-nameå±æ€§"><a href="#1-nameå±æ€§" class="headerlink" title="1. nameå±æ€§"></a>1. nameå±æ€§</h4><p>nameå±æ€§ä¸»è¦ç”¨äºæè¿°ç½‘é¡µï¼Œæ¯”å¦‚ç½‘é¡µçš„å…³é”®è¯ï¼Œå™è¿°ç­‰ã€‚ä¸ä¹‹å¯¹åº”çš„å±æ€§å€¼ä¸ºcontentï¼Œcontentä¸­çš„å†…å®¹æ˜¯å¯¹nameå¡«å…¥ç±»å‹çš„å…·ä½“æè¿°ï¼Œä¾¿äºæœç´¢å¼•æ“æŠ“å–ã€‚<br>metaæ ‡ç­¾ä¸­nameå±æ€§è¯­æ³•æ ¼å¼æ˜¯ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"å‚æ•°"</span><span class="attr">content</span>=<span class="string">"å…·ä½“çš„æè¿°"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>å…¶ä¸­nameå±æ€§å…±æœ‰ä»¥ä¸‹å‡ ç§å‚æ•°ã€‚(A-Cä¸ºå¸¸ç”¨å±æ€§)</p><h4 id="A-keywords-å…³é”®å­—"><a href="#A-keywords-å…³é”®å­—" class="headerlink" title="A. keywords(å…³é”®å­—)"></a>A. keywords(å…³é”®å­—)</h4><p>è¯´æ˜ï¼šç”¨äºå‘Šè¯‰æœç´¢å¼•æ“ï¼Œä½ ç½‘é¡µçš„å…³é”®å­—ã€‚<br>ä¸¾ä¾‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"keywords"</span><span class="attr">content</span>=<span class="string">"åšå®¢ï¼Œå‰ç«¯"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="B-description-ç½‘ç«™å†…å®¹çš„æè¿°"><a href="#B-description-ç½‘ç«™å†…å®¹çš„æè¿°" class="headerlink" title="B. description(ç½‘ç«™å†…å®¹çš„æè¿°)"></a>B. description(ç½‘ç«™å†…å®¹çš„æè¿°)</h4><p>è¯´æ˜ï¼šç”¨äºå‘Šè¯‰æœç´¢å¼•æ“ï¼Œä½ ç½‘ç«™çš„ä¸»è¦å†…å®¹ã€‚<br>ä¸¾ä¾‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"description"</span><span class="attr">content</span>=<span class="string">"è¿™æ˜¯æˆ‘çš„åšå®¢"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h5 id="C-viewport-ç§»åŠ¨ç«¯çš„çª—å£"><a href="#C-viewport-ç§»åŠ¨ç«¯çš„çª—å£" class="headerlink" title="C. viewport(ç§»åŠ¨ç«¯çš„çª—å£)"></a>C. viewport(ç§»åŠ¨ç«¯çš„çª—å£)</h5><p>è¯´æ˜ï¼šè¿™ä¸ªæ¦‚å¿µè¾ƒä¸ºå¤æ‚,è¿™ä¸ªå±æ€§å¸¸ç”¨äºè®¾è®¡ç§»åŠ¨ç«¯ç½‘é¡µã€‚åœ¨ç”¨bootstrap,AmazeUIç­‰æ¡†æ¶æ—¶å€™éƒ½æœ‰ç”¨è¿‡viewportã€‚</p><p>ä¸¾ä¾‹ï¼ˆå¸¸ç”¨èŒƒä¾‹ï¼‰ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"viewport"</span><span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h5 id="D-robots-å®šä¹‰æœç´¢å¼•æ“çˆ¬è™«çš„ç´¢å¼•æ–¹å¼"><a href="#D-robots-å®šä¹‰æœç´¢å¼•æ“çˆ¬è™«çš„ç´¢å¼•æ–¹å¼" class="headerlink" title="D. robots(å®šä¹‰æœç´¢å¼•æ“çˆ¬è™«çš„ç´¢å¼•æ–¹å¼)"></a>D. robots(å®šä¹‰æœç´¢å¼•æ“çˆ¬è™«çš„ç´¢å¼•æ–¹å¼)</h5><p>è¯´æ˜ï¼šrobotsç”¨æ¥å‘Šè¯‰çˆ¬è™«å“ªäº›é¡µé¢éœ€è¦ç´¢å¼•ï¼Œå“ªäº›é¡µé¢ä¸éœ€è¦ç´¢å¼•ã€‚<br>contentçš„å‚æ•°æœ‰all,none,index,noindex,follow,nofollowã€‚é»˜è®¤æ˜¯allã€‚</p><p>ä¸¾ä¾‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"robots"</span><span class="attr">content</span>=<span class="string">"none"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>å…·ä½“å‚æ•°å¦‚ä¸‹ï¼š</p><ol><li>none : æœç´¢å¼•æ“å°†å¿½ç•¥æ­¤ç½‘é¡µï¼Œç­‰ä»·äºnoindexï¼Œnofollowã€‚</li><li>noindex : æœç´¢å¼•æ“ä¸ç´¢å¼•æ­¤ç½‘é¡µã€‚</li><li>nofollow: æœç´¢å¼•æ“ä¸ç»§ç»­é€šè¿‡æ­¤ç½‘é¡µçš„é“¾æ¥ç´¢å¼•æœç´¢å…¶å®ƒçš„ç½‘é¡µã€‚</li><li>all : æœç´¢å¼•æ“å°†ç´¢å¼•æ­¤ç½‘é¡µä¸ç»§ç»­é€šè¿‡æ­¤ç½‘é¡µçš„é“¾æ¥ç´¢å¼•ï¼Œç­‰ä»·äºindexï¼Œfollowã€‚</li><li>index : æœç´¢å¼•æ“ç´¢å¼•æ­¤ç½‘é¡µã€‚</li><li>follow : æœç´¢å¼•æ“ç»§ç»­é€šè¿‡æ­¤ç½‘é¡µçš„é“¾æ¥ç´¢å¼•æœç´¢å…¶å®ƒçš„ç½‘é¡µã€‚</li><li>author(ä½œè€…)</li></ol><p>è¯´æ˜ï¼šç”¨äºæ ‡æ³¨ç½‘é¡µä½œè€…<br>ä¸¾ä¾‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"author"</span><span class="attr">content</span>=<span class="string">"mhy, dsz9258@163.com"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h5 id="F-generator-ç½‘é¡µåˆ¶ä½œè½¯ä»¶"><a href="#F-generator-ç½‘é¡µåˆ¶ä½œè½¯ä»¶" class="headerlink" title="F. generator(ç½‘é¡µåˆ¶ä½œè½¯ä»¶)"></a>F. generator(ç½‘é¡µåˆ¶ä½œè½¯ä»¶)</h5><p>è¯´æ˜ï¼šç”¨äºæ ‡æ˜ç½‘é¡µæ˜¯ä»€ä¹ˆè½¯ä»¶åšçš„<br>ä¸¾ä¾‹: (ä¸çŸ¥é“èƒ½ä¸èƒ½è¿™æ ·å†™)ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"generator"</span><span class="attr">content</span>=<span class="string">"Sublime Text3"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h5 id="G-copyright-ç‰ˆæƒ"><a href="#G-copyright-ç‰ˆæƒ" class="headerlink" title="G. copyright(ç‰ˆæƒ)"></a>G. copyright(ç‰ˆæƒ)</h5><p>è¯´æ˜ï¼šç”¨äºæ ‡æ³¨ç‰ˆæƒä¿¡æ¯<br>ä¸¾ä¾‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä»£è¡¨è¯¥ç½‘ç«™ä¸ºmhyä¸ªäººç‰ˆæƒæ‰€æœ‰ã€‚ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"copyright"</span><span class="attr">content</span>=<span class="string">"mhy"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h5 id="H-revisit-after-æœç´¢å¼•æ“çˆ¬è™«é‡è®¿æ—¶é—´"><a href="#H-revisit-after-æœç´¢å¼•æ“çˆ¬è™«é‡è®¿æ—¶é—´" class="headerlink" title="H. revisit-after(æœç´¢å¼•æ“çˆ¬è™«é‡è®¿æ—¶é—´)"></a>H. revisit-after(æœç´¢å¼•æ“çˆ¬è™«é‡è®¿æ—¶é—´)</h5><p>è¯´æ˜ï¼šå¦‚æœé¡µé¢ä¸æ˜¯ç»å¸¸æ›´æ–°ï¼Œä¸ºäº†å‡è½»æœç´¢å¼•æ“çˆ¬è™«å¯¹æœåŠ¡å™¨å¸¦æ¥çš„å‹åŠ›ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªçˆ¬è™«çš„é‡è®¿æ—¶é—´ã€‚å¦‚æœé‡è®¿æ—¶é—´è¿‡çŸ­ï¼Œçˆ¬è™«å°†æŒ‰å®ƒä»¬å®šä¹‰çš„é»˜è®¤æ—¶é—´æ¥è®¿é—®ã€‚<br>ä¸¾ä¾‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"revisit-after"</span><span class="attr">content</span>=<span class="string">"7 days"</span> &gt;</span></span><br></pre></td></tr></table></figure></p><h5 id="I-renderer-åŒæ ¸æµè§ˆå™¨æ¸²æŸ“æ–¹å¼"><a href="#I-renderer-åŒæ ¸æµè§ˆå™¨æ¸²æŸ“æ–¹å¼" class="headerlink" title="I. renderer(åŒæ ¸æµè§ˆå™¨æ¸²æŸ“æ–¹å¼)"></a>I. renderer(åŒæ ¸æµè§ˆå™¨æ¸²æŸ“æ–¹å¼)</h5><p>è¯´æ˜ï¼šrendereræ˜¯ä¸ºåŒæ ¸æµè§ˆå™¨å‡†å¤‡çš„ï¼Œç”¨äºæŒ‡å®šåŒæ ¸æµè§ˆå™¨é»˜è®¤ä»¥ä½•ç§æ–¹å¼æ¸²æŸ“é¡µé¢ã€‚æ¯”å¦‚è¯´360æµè§ˆå™¨ã€‚<br>ä¸¾ä¾‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é»˜è®¤webkitå†…æ ¸ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"renderer"</span><span class="attr">content</span>=<span class="string">"webkit"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é»˜è®¤IEå…¼å®¹æ¨¡å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"renderer"</span><span class="attr">content</span>=<span class="string">"ie-comp"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é»˜è®¤IEæ ‡å‡†æ¨¡å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"renderer"</span><span class="attr">content</span>=<span class="string">"ie-stand"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="2-http-equivå±æ€§"><a href="#2-http-equivå±æ€§" class="headerlink" title="2. http-equivå±æ€§"></a>2. http-equivå±æ€§</h4><p>ä»‹ç»ä¹‹å‰ï¼Œå…ˆè¯´ä¸ªå°æ’æ›²ã€‚çœ‹æ–‡æ¡£å’Œåšå®¢å…³äºhttp-equivçš„ä»‹ç»æ—¶ï¼Œæœ‰è¿™ä¹ˆä¸€å¥ã€‚</p><blockquote><p>http-equivé¡¾åæ€ä¹‰ï¼Œç›¸å½“äºhttpçš„æ–‡ä»¶å¤´ä½œç”¨ã€‚</p></blockquote><p>ä¸€å¼€å§‹çœ‹åˆ°è¿™å¥è¯çš„æ—¶å€™ï¼Œæˆ‘æ˜¯è¿·ç³Šçš„ã€‚å› ä¸ºæˆ‘çœ‹å„ç±»æŠ€æœ¯åè¯ï¼Œéƒ½ä¼šä¹ æƒ¯æ€§çš„å»è®°ä½å®ƒçš„è‹±æ–‡å…¨ç§°ã€‚equivçš„å…¨ç§°æ˜¯â€equivalentâ€ï¼Œæ„æ€æ˜¯ç›¸ç­‰ï¼Œç›¸å½“äºã€‚ç„¶åæˆ‘è„‘å­é‡Œå‡ºç°äº†å¤§å¤§çš„è¿·æƒ‘ï¼šâ€œHTTPç›¸ç­‰ï¼Ÿâ€</p><p>åæ¥è¿˜å‡†å¤‡å»Segmentfaultæé—®æ¥ç€ã€‚ç»“æœåœ¨å†™é—®é¢˜çš„æ—¶å€™ï¼Œçªç„¶ååº”å‡ºequivalentè¿˜æœ‰ç›¸å½“äºçš„æ„æ€ã€‚æ„æ€å°±æ˜¯ç›¸å½“äºhttpçš„ä½œç”¨ã€‚è‡³äºæ–‡ä»¶å¤´æ˜¯å“ªå„¿å‡ºæ¥çš„ï¼Œä¼°è®¡æ˜¯ä»å…¶ä½œç”¨æ¥åˆ†æçš„ã€‚æˆ‘è®¤ä¸ºé¡¾åæ€ä¹‰å¹¶ä¸èƒ½å¾—å‡ºâ€ç›¸å½“äºhttpçš„æ–‡ä»¶å¤´ä½œç”¨â€è¿™ä¸ªè®ºæ–­ã€‚</p><p>è¿™ä¸ªæˆ‘æ‰€è®¤ä¸ºçš„http-equivæ„æ€çš„ç®€ä»‹ã€‚<br><strong>ç›¸å½“äºHTTPçš„ä½œç”¨ï¼Œæ¯”å¦‚è¯´å®šä¹‰äº›HTTPå‚æ•°å•¥çš„ã€‚</strong></p><p>metaæ ‡ç­¾ä¸­http-equivå±æ€§è¯­æ³•æ ¼å¼æ˜¯ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">http-equiv</span>=<span class="string">"å‚æ•°"</span><span class="attr">content</span>=<span class="string">"å…·ä½“çš„æè¿°"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>å…¶ä¸­http-equivå±æ€§ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§å‚æ•°ï¼š</p><h5 id="A-content-Type-è®¾å®šç½‘é¡µå­—ç¬¦é›†-æ¨èä½¿ç”¨HTML5çš„æ–¹å¼"><a href="#A-content-Type-è®¾å®šç½‘é¡µå­—ç¬¦é›†-æ¨èä½¿ç”¨HTML5çš„æ–¹å¼" class="headerlink" title="A. content-Type(è®¾å®šç½‘é¡µå­—ç¬¦é›†)(æ¨èä½¿ç”¨HTML5çš„æ–¹å¼)"></a>A. content-Type(è®¾å®šç½‘é¡µå­—ç¬¦é›†)(æ¨èä½¿ç”¨HTML5çš„æ–¹å¼)</h5><p>è¯´æ˜ï¼šç”¨äºè®¾å®šç½‘é¡µå­—ç¬¦é›†ï¼Œä¾¿äºæµè§ˆå™¨è§£æä¸æ¸²æŸ“é¡µé¢<br>ä¸¾ä¾‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ—§çš„HTMLï¼Œä¸æ¨è --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">http-equiv</span>=<span class="string">"content-Type"</span><span class="attr">content</span>=<span class="string">"text/html;charset=utf-8"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- HTML5è®¾å®šç½‘é¡µå­—ç¬¦é›†çš„æ–¹å¼ï¼Œæ¨èä½¿ç”¨UTF-8 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h5 id="B-X-UA-Compatible-æµè§ˆå™¨é‡‡å–ä½•ç§ç‰ˆæœ¬æ¸²æŸ“å½“å‰é¡µé¢"><a href="#B-X-UA-Compatible-æµè§ˆå™¨é‡‡å–ä½•ç§ç‰ˆæœ¬æ¸²æŸ“å½“å‰é¡µé¢" class="headerlink" title="B. X-UA-Compatible(æµè§ˆå™¨é‡‡å–ä½•ç§ç‰ˆæœ¬æ¸²æŸ“å½“å‰é¡µé¢)"></a>B. X-UA-Compatible(æµè§ˆå™¨é‡‡å–ä½•ç§ç‰ˆæœ¬æ¸²æŸ“å½“å‰é¡µé¢)</h5><p>è¯´æ˜ï¼šç”¨äºå‘ŠçŸ¥æµè§ˆå™¨ä»¥ä½•ç§ç‰ˆæœ¬æ¥æ¸²æŸ“é¡µé¢ã€‚ï¼ˆä¸€èˆ¬éƒ½è®¾ç½®ä¸ºæœ€æ–°æ¨¡å¼ï¼Œåœ¨å„å¤§æ¡†æ¶ä¸­è¿™ä¸ªè®¾ç½®ä¹Ÿå¾ˆå¸¸è§ã€‚ï¼‰<br>ä¸¾ä¾‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æŒ‡å®šIEå’ŒChromeä½¿ç”¨æœ€æ–°ç‰ˆæœ¬æ¸²æŸ“å½“å‰é¡µé¢ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span><span class="attr">content</span>=<span class="string">"IE=edge,chrome=1"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><h5 id="C-cache-control-æŒ‡å®šè¯·æ±‚å’Œå“åº”éµå¾ªçš„ç¼“å­˜æœºåˆ¶"><a href="#C-cache-control-æŒ‡å®šè¯·æ±‚å’Œå“åº”éµå¾ªçš„ç¼“å­˜æœºåˆ¶" class="headerlink" title="C. cache-control(æŒ‡å®šè¯·æ±‚å’Œå“åº”éµå¾ªçš„ç¼“å­˜æœºåˆ¶)"></a>C. cache-control(æŒ‡å®šè¯·æ±‚å’Œå“åº”éµå¾ªçš„ç¼“å­˜æœºåˆ¶)</h5><p>ç”¨æ³•1.</p><p>è¯´æ˜ï¼šæŒ‡å¯¼æµè§ˆå™¨å¦‚ä½•ç¼“å­˜æŸä¸ªå“åº”ä»¥åŠç¼“å­˜å¤šé•¿æ—¶é—´ã€‚è¿™ä¸€æ®µå†…å®¹æˆ‘åœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆä¹…ï¼Œä½†éƒ½æ²¡æœ‰æ‰¾åˆ°æ»¡æ„çš„ã€‚<br>æœ€åç»ˆäºåœ¨Google Developersä¸­å‘ç°äº†æˆ‘æƒ³è¦çš„ç­”æ¡ˆã€‚</p><p>ä¸¾ä¾‹:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">http-equiv</span>=<span class="string">"cache-control"</span><span class="attr">content</span>=<span class="string">"no-cache"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>å…±æœ‰ä»¥ä¸‹å‡ ç§ç”¨æ³•ï¼š</p><blockquote><ul><li>no-cache: å…ˆå‘é€è¯·æ±‚ï¼Œä¸æœåŠ¡å™¨ç¡®è®¤è¯¥èµ„æºæ˜¯å¦è¢«æ›´æ”¹ï¼Œå¦‚æœæœªè¢«æ›´æ”¹ï¼Œåˆ™ä½¿ç”¨ç¼“å­˜ã€‚</li><li>no-store: ä¸å…è®¸ç¼“å­˜ï¼Œæ¯æ¬¡éƒ½è¦å»æœåŠ¡å™¨ä¸Šï¼Œä¸‹è½½å®Œæ•´çš„å“åº”ã€‚ï¼ˆå®‰å…¨æªæ–½ï¼‰</li><li>public: ç¼“å­˜æ‰€æœ‰å“åº”ï¼Œä½†å¹¶éå¿…é¡»ã€‚å› ä¸ºmax-ageä¹Ÿå¯ä»¥åšåˆ°ç›¸åŒæ•ˆæœ</li><li>private: åªä¸ºå•ä¸ªç”¨æˆ·ç¼“å­˜ï¼Œå› æ­¤ä¸å…è®¸ä»»ä½•ä¸­ç»§è¿›è¡Œç¼“å­˜ã€‚ï¼ˆæ¯”å¦‚è¯´CDNå°±ä¸å…è®¸ç¼“å­˜privateçš„å“åº”ï¼‰</li><li>maxage: è¡¨ç¤ºå½“å‰è¯·æ±‚å¼€å§‹ï¼Œè¯¥å“åº”åœ¨å¤šä¹…å†…èƒ½è¢«ç¼“å­˜å’Œé‡ç”¨ï¼Œè€Œä¸å»æœåŠ¡å™¨é‡æ–°è¯·æ±‚ã€‚ä¾‹å¦‚ï¼šmax-age=60è¡¨ç¤ºå“åº”å¯ä»¥å†ç¼“å­˜å’Œé‡ç”¨ 60 ç§’ã€‚</li></ul></blockquote><p><em>ç”¨æ³•2.(ç¦æ­¢ç™¾åº¦è‡ªåŠ¨è½¬ç )</em></p><p>è¯´æ˜ï¼šç”¨äºç¦æ­¢å½“å‰é¡µé¢åœ¨ç§»åŠ¨ç«¯æµè§ˆæ—¶ï¼Œè¢«ç™¾åº¦è‡ªåŠ¨è½¬ç ã€‚è™½ç„¶ç™¾åº¦çš„æœ¬æ„æ˜¯å¥½çš„ï¼Œä½†æ˜¯è½¬ç æ•ˆæœå¾ˆå¤šæ—¶å€™å´ä¸å°½äººæ„ã€‚æ‰€ä»¥å¯ä»¥åœ¨headä¸­åŠ å…¥ä¾‹å­ä¸­çš„é‚£å¥è¯ï¼Œå°±å¯ä»¥é¿å…ç™¾åº¦è‡ªåŠ¨è½¬ç äº†ã€‚<br>ä¸¾ä¾‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">http-equiv</span>=<span class="string">"Cache-Control"</span><span class="attr">content</span>=<span class="string">"no-siteapp"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p><h5 id="D-expires-ç½‘é¡µåˆ°æœŸæ—¶é—´"><a href="#D-expires-ç½‘é¡µåˆ°æœŸæ—¶é—´" class="headerlink" title="D. expires(ç½‘é¡µåˆ°æœŸæ—¶é—´)"></a>D. expires(ç½‘é¡µåˆ°æœŸæ—¶é—´)</h5><p>è¯´æ˜:ç”¨äºè®¾å®šç½‘é¡µçš„åˆ°æœŸæ—¶é—´ï¼Œè¿‡æœŸåç½‘é¡µå¿…é¡»åˆ°æœåŠ¡å™¨ä¸Šé‡æ–°ä¼ è¾“ã€‚<br>ä¸¾ä¾‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">http-equiv</span>=<span class="string">"expires"</span><span class="attr">content</span>=<span class="string">"Sunday 26 October 2016 01:00 GMT"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p><h5 id="E-refresh-è‡ªåŠ¨åˆ·æ–°å¹¶æŒ‡å‘æŸé¡µé¢"><a href="#E-refresh-è‡ªåŠ¨åˆ·æ–°å¹¶æŒ‡å‘æŸé¡µé¢" class="headerlink" title="E. refresh(è‡ªåŠ¨åˆ·æ–°å¹¶æŒ‡å‘æŸé¡µé¢)"></a>E. refresh(è‡ªåŠ¨åˆ·æ–°å¹¶æŒ‡å‘æŸé¡µé¢)</h5><p>è¯´æ˜ï¼šç½‘é¡µå°†åœ¨è®¾å®šçš„æ—¶é—´å†…ï¼Œè‡ªåŠ¨åˆ·æ–°å¹¶è°ƒå‘è®¾å®šçš„ç½‘å€ã€‚<br>ä¸¾ä¾‹:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ„æ€æ˜¯2ç§’åè·³è½¬å‘æˆ‘çš„åšå®¢ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">http-equiv</span>=<span class="string">"refresh"</span><span class="attr">content</span>=<span class="string">"2ï¼›URL=http://www.lxxyx.win/"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h5 id="F-Set-Cookie-cookieè®¾å®š"><a href="#F-Set-Cookie-cookieè®¾å®š" class="headerlink" title="F. Set-Cookie(cookieè®¾å®š)"></a>F. Set-Cookie(cookieè®¾å®š)</h5><p>è¯´æ˜ï¼šå¦‚æœç½‘é¡µè¿‡æœŸã€‚é‚£ä¹ˆè¿™ä¸ªç½‘é¡µå­˜åœ¨æœ¬åœ°çš„cookiesä¹Ÿä¼šè¢«è‡ªåŠ¨åˆ é™¤ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ ¼å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">http-equiv</span>=<span class="string">"Set-Cookie"</span><span class="attr">content</span>=<span class="string">"name, date"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å…·ä½“èŒƒä¾‹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">http-equiv</span>=<span class="string">"Set-Cookie"</span><span class="attr">content</span>=<span class="string">"User=Lxxyx; path=/; expires=Sunday, 10-Jan-16 10:00:00 GMT"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="ç§»åŠ¨è®¾å¤‡é€šç”¨metaæ ‡ç­¾"><a href="#ç§»åŠ¨è®¾å¤‡é€šç”¨metaæ ‡ç­¾" class="headerlink" title="ç§»åŠ¨è®¾å¤‡é€šç”¨metaæ ‡ç­¾"></a>ç§»åŠ¨è®¾å¤‡é€šç”¨<code>meta</code>æ ‡ç­¾</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">content</span>=<span class="string">"telephone=no"</span><span class="attr">name</span>=<span class="string">"format-detection"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>è®¾å®šæ˜¯å¦å°†ç½‘é¡µä¸­çš„æ‰‹æœºå·ç æ˜¾ç¤ºä¸ºæ‹¨å·çš„è¶…é“¾æ¥ï¼Œiphoneä¸Šé»˜è®¤ä¸ºyesã€‚è¯¥å±æ€§è®¾ç½®ä¸ºyesæ—¶ï¼Œä½¿ç”¨æ‰‹æœºè®¾å¤‡æ‰“å¼€é¡µé¢åç‚¹å‡»é¡µé¢ä¸Šçš„æ‰‹æœºå·ç å¯ä»¥æ‹¨æ‰“ç”µè¯ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"viewport"</span><span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><p>viewportå±æ€§ç”¨äºè®¾ç½®ç§»åŠ¨ç«¯é¡µé¢æ˜¯å¦å¯ä»¥ç¼©æ”¾ï¼Œå…·ä½“é…ç½®é¡¹æœ‰ä»¥ä¸‹å‡ ä¸ª:</p><ul><li>width: viewportçš„å®½åº¦</li><li>height: viewportçš„é«˜åº¦</li><li>initial-scale: åˆå§‹çš„ç¼©æ”¾æ¯”ä¾‹</li><li>minimum-scale: å…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å°æ¯”ä¾‹</li><li>maxmum-scale: å…è®¸ç”¨æˆ·ç¼©æ”¾çš„æœ€å¤§æ¯”ä¾‹</li><li>user-scalable: ç”¨æˆ·æ˜¯å¦å¯ä»¥æ‰‹åŠ¨ç¼©æ”¾</li><li>viewport-fit: å¤„ç†iphone X åˆ˜æµ·éƒ¨ä½çš„ç™½æ¡ï¼Œè®¾ç½®è¯¥metaå±æ€§å¯ä»¥æŠŠç½‘é¡µæ‹“å±•è‡³æ•´ä¸ªå±å¹•ï¼ˆæˆ–è€…ç»™bodyè®¾ç½®background-colorï¼‰</li></ul><p><img src="https://wicdn.xiaohongchun.com/xhc-plat/1527061942559_dmi4aB2KwH.png" height="200"></p><h3 id="IOSè®¾å¤‡çš„ç§æœ‰å±æ€§"><a href="#IOSè®¾å¤‡çš„ç§æœ‰å±æ€§" class="headerlink" title="IOSè®¾å¤‡çš„ç§æœ‰å±æ€§"></a>IOSè®¾å¤‡çš„ç§æœ‰å±æ€§</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"apple-mobile-web-app-capable"</span><span class="attr">content</span>=<span class="string">"yes"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span><span class="attr">name</span>=<span class="string">"apple-mobile-web-app-status-bar-style"</span><span class="attr">content</span>=<span class="string">"black"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªä¼šè®©ç½‘é¡µå†…å®¹ä»¥åº”ç”¨ç¨‹åºé£æ ¼æ˜¾ç¤ºï¼Œå¹¶ä½¿çŠ¶æ€æ é€æ˜ã€‚</p><p><a href="https://segmentfault.com/a/1190000004279791" target="_blank" rel="noopener">å‚è€ƒ1</a><br><a href="http://blog.jayself.com/2014/03/22/meta/" target="_blank" rel="noopener">å‚è€ƒ2</a></p>]]></content><categories><category> å‰ç«¯ </category></categories><tags><tag> html5 </tag><tag> meta </tag></tags></entry></search>
